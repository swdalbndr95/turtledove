<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Protected Audience (formerly FLEDGE)</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
  <link href="https://wicg.github.io/turtledove/" rel="canonical">
  <meta content="8c3054233a3b5d100272f299b7e5f2c72d0ac5e8" name="document-revision">
<style>
/* Put nice boxes around each algorithm. */
[data-algorithm]:not(.heading) {
  padding: .5em;
  border: thin solid #ddd; border-radius: .5em;
  margin: .5em calc(-0.5em - 1px);
}
[data-algorithm]:not(.heading) > :first-child {
  margin-top: 0;
}
[data-algorithm]:not(.heading) > :last-child {
  margin-bottom: 0;
}
[data-algorithm] [data-algorithm] {
  margin: 1em 0;
}

/* domintro from https://resources.whatwg.org/standard.css */
.domintro {
  position: relative;
  color: green;
  background: #DDFFDD;
  margin: 2.5em 0 2em 0;
  padding: 1.5em 1em 0.5em 2em;
}

.domintro dt, .domintro dt * {
  color: black;
  font-size: inherit;
}
.domintro dd {
  margin: 0.5em 0 1em 2em; padding: 0;
}
.domintro dd p {
  margin: 0.5em 0;
}
.domintro::before {
  content: 'For web developers (non-normative)';
  background: green;
  color: white;
  padding: 0.15em 0.25em;
  font-style: normal;
  position: absolute;
  top: -0.8em;
  left: -0.8em;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Protected Audience (formerly FLEDGE)</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2023-11-15">15 November 2023</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/turtledove/">https://wicg.github.io/turtledove/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:pauljensen@google.com">Paul Jensen</a> (<a class="p-org org" href="https://www.google.com/">Google</a>)
     <dt>Participate:
     <dd><a href="https://github.com/WICG/turtledove">GitHub WICG/turtledove</a> (<a href="https://github.com/WICG/turtledove/issues/new">new issue</a>, <a href="https://github.com/WICG/turtledove/issues?state=open">open issues</a>)
     <dt>Commits:
     <dd><a href="https://github.com/WICG/turtledove/commits/main/spec.bs">GitHub spec.bs commits</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2023 the Contributors to the Protected Audience (formerly FLEDGE) Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Provides a privacy advancing API to facilitate interest group based advertising.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#joining-interest-groups"><span class="secno">2</span> <span class="content">Joining Interest Groups</span></a>
     <ol class="toc">
      <li><a href="#join-ad-interest-groups"><span class="secno">2.1</span> <span class="content">navigator.joinAdInterestGroup()</span></a>
      <li><a href="#interest-group-storage-maintenance"><span class="secno">2.2</span> <span class="content">Interest Group Storage Maintenance</span></a>
     </ol>
    <li>
     <a href="#leaving-interest-groups"><span class="secno">3</span> <span class="content">Leaving Interest Groups</span></a>
     <ol class="toc">
      <li><a href="#leaveadinterestgroup"><span class="secno">3.1</span> <span class="content">leaveAdInterestGroup()</span></a>
      <li><a href="#clearoriginjoinedAdInterestGroups"><span class="secno">3.2</span> <span class="content">clearOriginJoinedAdInterestGroups()</span></a>
     </ol>
    <li>
     <a href="#running-ad-auctions"><span class="secno">4</span> <span class="content">Running Ad Auctions</span></a>
     <ol class="toc">
      <li><a href="#runadauction"><span class="secno">4.1</span> <span class="content">runAdAuction()</span></a>
     </ol>
    <li>
     <a href="#additional-bids-and-negative-targeting"><span class="secno">5</span> <span class="content">Additional Bids and Negative Targeting</span></a>
     <ol class="toc">
      <li><a href="#create-auction-nonce"><span class="secno">5.1</span> <span class="content">createAuctionNonce()</span></a>
      <li><a href="#additional-bids-section"><span class="secno">5.2</span> <span class="content">Additional Bids</span></a>
      <li>
       <a href="#negative-targeting-section"><span class="secno">5.3</span> <span class="content">Negative Targeting</span></a>
       <ol class="toc">
        <li><a href="#negative-interest-groups"><span class="secno">5.3.1</span> <span class="content">Negative Interest Groups</span></a>
       </ol>
     </ol>
    <li><a href="#k-anonymity"><span class="secno">6</span> <span class="content">K-anonymity</span></a>
    <li>
     <a href="#script-runners"><span class="secno">7</span> <span class="content">Script Runners</span></a>
     <ol class="toc">
      <li><a href="#realm-and-agent"><span class="secno">7.1</span> <span class="content">Realm and agent</span></a>
      <li><a href="#script-evaluation"><span class="secno">7.2</span> <span class="content">Script evaluation</span></a>
      <li>
       <a href="#global-scopes"><span class="secno">7.3</span> <span class="content">Global scopes</span></a>
       <ol class="toc">
        <li><a href="#bidding-global-scope"><span class="secno">7.3.1</span> <span class="content">InterestGroupBiddingScriptRunnerGlobalScope</span></a>
        <li><a href="#scoring-global-scope"><span class="secno">7.3.2</span> <span class="content">InterestGroupScoringScriptRunnerGlobalScope</span></a>
        <li><a href="#reporting-global-scope"><span class="secno">7.3.3</span> <span class="content">InterestGroupReportingScriptRunnerGlobalScope</span></a>
       </ol>
     </ol>
    <li><a href="#interest-group-updates"><span class="secno">8</span> <span class="content">Interest Group Updates</span></a>
    <li><a href="#common-algorithms"><span class="secno">9</span> <span class="content">Common Algorithms</span></a>
    <li><a href="#permissions-policy-integration"><span class="secno">10</span> <span class="content">Permissions Policy integration</span></a>
    <li>
     <a href="#fetch-patch-for-auction-headers"><span class="secno">11</span> <span class="content">Fetch Patch for Auction Headers</span></a>
     <ol class="toc">
      <li><a href="#sec-ad-auction-fetch-header"><span class="secno">11.1</span> <span class="content">The `<span><code>Sec-Ad-Auction-Fetch</code></span>` HTTP
request header</span></a>
      <li><a href="#ad-auction-signals-header"><span class="secno">11.2</span> <span class="content">The `<span><code>Ad-Auction-Signals</code></span>` HTTP
response header</span></a>
      <li><a href="#ad-auction-additional-bid-header"><span class="secno">11.3</span> <span class="content">The `<span><code>Ad-Auction-Additional-Bid</code></span>`
HTTP response header.</span></a>
     </ol>
    <li>
     <a href="#structures"><span class="secno">12</span> <span class="content">Structures</span></a>
     <ol class="toc">
      <li><a href="#interest-group"><span class="secno">12.1</span> <span class="content">Interest group</span></a>
      <li><a href="#interest-group-ad"><span class="secno">12.2</span> <span class="content">Interest group ad</span></a>
      <li><a href="#currency-tag"><span class="secno">12.3</span> <span class="content">Currency tag</span></a>
      <li><a href="#auction-config"><span class="secno">12.4</span> <span class="content">Auction config</span></a>
      <li><a href="#per-buyer-bid-generator"><span class="secno">12.5</span> <span class="content">Per buyer bid generator</span></a>
      <li><a href="#per-signals-url-bid-generator"><span class="secno">12.6</span> <span class="content">Per signals url bid generator</span></a>
      <li><a href="#previous-win"><span class="secno">12.7</span> <span class="content">Previous win</span></a>
      <li><a href="#bid-with-currency"><span class="secno">12.8</span> <span class="content">Bid with currency</span></a>
      <li><a href="#generated-bid"><span class="secno">12.9</span> <span class="content">Generated bid</span></a>
      <li><a href="#ad-descriptor"><span class="secno">12.10</span> <span class="content">Ad descriptor</span></a>
      <li><a href="#ad-size"><span class="secno">12.11</span> <span class="content">Ad size</span></a>
      <li><a href="#direct-from-seller-signals-section"><span class="secno">12.12</span> <span class="content">Direct from seller signals</span></a>
      <li><a href="#score-ad-output"><span class="secno">12.13</span> <span class="content">Score ad output</span></a>
      <li><a href="#leading-bid-info"><span class="secno">12.14</span> <span class="content">Leading bid info</span></a>
     </ol>
    <li><a href="#privacy-considerations"><span class="secno">13</span> <span class="content">Privacy Considerations</span></a>
    <li><a href="#security-considerations"><span class="secno">14</span> <span class="content">Security Considerations</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>The Protected Audience API facilitates selecting an advertisement to display to a user based on a
previous interaction with the advertiser or advertising network.</p>
   <p>When a user’s interactions with an advertiser indicate an interest in something, the advertiser can
ask the browser to record this interest on-device by calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup">joinAdInterestGroup()</a></code>. Later, when a website wants to select an
advertisement to show to the user, the website can call <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction">runAdAuction()</a></code> to ask the browser to conduct an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="auction">auction</dfn> where each of these on-device recorded interests are given the chance to
calculate a bid to display their advertisement.</p>
   <h2 class="heading settled" data-level="2" id="joining-interest-groups"><span class="secno">2. </span><span class="content">Joining Interest Groups</span><a class="self-link" href="#joining-interest-groups"></a></h2>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p>When a user’s interactions with a website indicate that the user may have a particular interest, an
advertiser or someone working on behalf of the advertiser (e.g. a demand side platform, DSP) can ask
the user’s browser to record this interest on-device by calling <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator②">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup①">joinAdInterestGroup()</a></code>. This indicates an intent to display an
advertisement relevant to this interest to this user in the future. The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent">user agent</a> has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="interest-group-set">interest group set</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group">interest groups</a> in which <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner">owner</a> / <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name">name</a> pairs are unique.</p>
   <h3 class="heading settled" data-level="2.1" id="join-ad-interest-groups"><span class="secno">2.1. </span><span class="content">navigator.joinAdInterestGroup()</span><a class="self-link" href="#join-ad-interest-groups"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup②"><c- g>joinAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroup" id="ref-for-dictdef-auctionadinterestgroup"><c- n>AuctionAdInterestGroup</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/joinAdInterestGroup(group)" data-dfn-type="argument" data-export id="dom-navigator-joinadinterestgroup-group-group"><code><c- g>group</c-></code><a class="self-link" href="#dom-navigator-joinadinterestgroup-group-group"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionad"><code><c- g>AuctionAd</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionad-renderurl"><code><c- g>renderURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="any " id="dom-auctionad-metadata"><code><c- g>metadata</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionad-buyerreportingid"><code><c- g>buyerReportingId</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionad-buyerandsellerreportingid"><code><c- g>buyerAndSellerReportingId</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAd" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-auctionad-allowedreportingorigins"><code><c- g>allowedReportingOrigins</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-generatebidinterestgroup"><code><c- g>GenerateBidInterestGroup</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-generatebidinterestgroup-owner"><code><c- g>owner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-generatebidinterestgroup-name"><code><c- g>name</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="double " id="dom-generatebidinterestgroup-lifetimems"><code><c- g>lifetimeMs</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-generatebidinterestgroup-enablebiddingsignalsprioritization"><code><c- g>enableBiddingSignalsPrioritization</c-></code></dfn> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="record<DOMString, double> " id="dom-generatebidinterestgroup-priorityvector"><code><c- g>priorityVector</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;compatibility&quot;" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-generatebidinterestgroup-executionmode"><code><c- g>executionMode</c-></code></dfn> = "compatibility";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-generatebidinterestgroup-biddinglogicurl"><code><c- g>biddingLogicURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-generatebidinterestgroup-biddingwasmhelperurl"><code><c- g>biddingWasmHelperURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-generatebidinterestgroup-updateurl"><code><c- g>updateURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-generatebidinterestgroup-trustedbiddingsignalsurl"><code><c- g>trustedBiddingSignalsURL</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-generatebidinterestgroup-trustedbiddingsignalskeys"><code><c- g>trustedBiddingSignalsKeys</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="any " id="dom-generatebidinterestgroup-userbiddingsignals"><code><c- g>userBiddingSignals</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad"><c- n>AuctionAd</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAd> " id="dom-generatebidinterestgroup-ads"><code><c- g>ads</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad①"><c- n>AuctionAd</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidInterestGroup" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAd> " id="dom-generatebidinterestgroup-adcomponents"><code><c- g>adComponents</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadinterestgroup"><code><c- g>AuctionAdInterestGroup</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-generatebidinterestgroup" id="ref-for-dictdef-generatebidinterestgroup"><c- n>GenerateBidInterestGroup</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="0.0" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="double " id="dom-auctionadinterestgroup-priority"><code><c- g>priority</c-></code></dfn> = 0.0;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record①"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="record<DOMString, double> " id="dom-auctionadinterestgroup-prioritysignalsoverrides"><code><c- g>prioritySignalsOverrides</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroup" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-auctionadinterestgroup-additionalbidkey"><code><c- g>additionalBidKey</c-></code></dfn>;
};
</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dictdef-auctionadinterestgroup" id="ref-for-dictdef-auctionadinterestgroup①">AuctionAdInterestGroup</a></code> is used by <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator③">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup③">joinAdInterestGroup()</a></code>, and
when an interest group is stored to <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set">interest group set</a>. <code>priority</code> and <code>prioritySignalsOverrides</code> are not passed to <code>generateBid()</code> because they can be
modified by <code>generatedBid()</code> calls, so could theoretically be used to create a cross-site profile of
a user accessible to <code>generateBid()</code> methods, otherwise.</p>
   <div class="algorithm" data-algorithm="joinAdInterestGroup()">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-joinadinterestgroup"><code>joinAdInterestGroup(<var>group</var>)</code></dfn> method steps are:</p>
    <div class="note" role="note">
     <p>Temporarily, Chromium does not include the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#required-dictionary-member" id="ref-for-required-dictionary-member"><span class="allow-2119">required</span></a> keyword
for <code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-lifetimems" id="ref-for-dom-generatebidinterestgroup-lifetimems">lifetimeMs</a></code>, and instead starts this algorithm with the step</p>
     <ol>
      <li data-md>
       <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-lifetimems" id="ref-for-dom-generatebidinterestgroup-lifetimems①">lifetimeMs</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a>, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
     </ol>
     <p>This is detectable because it can change the set of fields that are read from the argument when a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code> is eventually thrown, but it will never change whether the call succeeds or fails.</p>
    </div>
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the "<a data-link-type="dfn" href="#join-ad-interest-group" id="ref-for-join-ad-interest-group">join-ad-interest-group</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throw</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>frameOrigin</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a> that <var>frameOrigin</var> is not an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a> and its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme">scheme</a> is "<code>https</code>".</p>
     <li data-md>
      <p>Let <var>interestGroup</var> be a new <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①">interest group</a>.</p>
     <li data-md>
      <p>Validate the given <var>group</var> and set <var>interestGroup</var>’s fields accordingly.</p>
      <ol>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry">expiry</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time">current wall time</a> plus <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-lifetimems" id="ref-for-dom-generatebidinterestgroup-lifetimems②">lifetimeMs</a></code>"] milliseconds.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-next-update-after" id="ref-for-interest-group-next-update-after">next update after</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time①">current wall time</a> plus 24
hours.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①">owner</a> to the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin">parsing an https origin</a> on <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-owner" id="ref-for-dom-generatebidinterestgroup-owner">owner</a></code>"].</p>
       <li data-md>
        <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②">owner</a> is failure, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
       <li data-md>
        <p>Optionally, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">throw</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> condition is intended to allow <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①">user agents</a> to decline
    for a number of reasons, for example the <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③">owner</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site">site</a> not being <a href="https://github.com/privacysandbox/attestation">enrolled</a>.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①">name</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-name" id="ref-for-dom-generatebidinterestgroup-name">name</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority">priority</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-priority" id="ref-for-dom-auctionadinterestgroup-priority">priority</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-enablebiddingsignalsprioritization" id="ref-for-dom-generatebidinterestgroup-enablebiddingsignalsprioritization">enableBiddingSignalsPrioritization</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-priorityvector" id="ref-for-dom-generatebidinterestgroup-priorityvector">priorityVector</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector">priority vector</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-priorityvector" id="ref-for-dom-generatebidinterestgroup-priorityvector①">priorityVector</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-prioritysignalsoverrides" id="ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides">prioritySignalsOverrides</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides">priority signals overrides</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-prioritysignalsoverrides" id="ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides①">prioritySignalsOverrides</a></code>"].</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode">execution mode</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-executionmode" id="ref-for-dom-generatebidinterestgroup-executionmode">executionMode</a></code>"].</p>
       <li data-md>
        <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table</p>
        <table class="data">
         <thead>
          <tr>
           <th>Group member
           <th>Interest group field
         <tbody>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-biddinglogicurl" id="ref-for-dom-generatebidinterestgroup-biddinglogicurl">biddingLogicURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url">bidding url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-biddingwasmhelperurl" id="ref-for-dom-generatebidinterestgroup-biddingwasmhelperurl">biddingWasmHelperURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url">bidding wasm helper url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-updateurl" id="ref-for-dom-generatebidinterestgroup-updateurl">updateURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url">update url</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-trustedbiddingsignalsurl" id="ref-for-dom-generatebidinterestgroup-trustedbiddingsignalsurl">trustedBiddingSignalsURL</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url">trusted bidding signals url</a>
        </table>
        <ol>
         <li data-md>
          <p>If <var>group</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">contains</a> <var>groupMember</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>parsedUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">URL parser</a> on <var>group</var>[<var>groupMember</var>].</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code> if any of the following conditions hold:</p>
            <ul>
             <li data-md>
              <p><var>parsedUrl</var> is failure;</p>
             <li data-md>
              <p><var>parsedUrl</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a> with <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④">owner</a>;</p>
             <li data-md>
              <p><var>parsedUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials">includes credentials</a>;</p>
             <li data-md>
              <p><var>parsedUrl</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> is not null.</p>
            </ul>
           <li data-md>
            <p>Set <var>interestGroup</var>’s <var>interestGroupField</var> to <var>parsedUrl</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url①">trusted bidding signals url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query">query</a> is not
null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>.</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-generatebidinterestgroup-trustedbiddingsignalskeys">trustedBiddingSignalsKeys</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a>, then set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</a> to <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-generatebidinterestgroup-trustedbiddingsignalskeys①">trustedBiddingSignalsKeys</a></code>"].</p>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-userbiddingsignals" id="ref-for-dom-generatebidinterestgroup-userbiddingsignals">userBiddingSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals">user bidding signals</a> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string">serializing a JavaScript value to a JSON string</a>, given <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-userbiddingsignals" id="ref-for-dom-generatebidinterestgroup-userbiddingsignals①">userBiddingSignals</a></code>"]. This can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code>.</p>
        </ol>
       <li data-md>
        <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table</p>
        <table class="data">
         <thead>
          <tr>
           <th>Group member
           <th>Interest group field
         <tbody>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-ads" id="ref-for-dom-generatebidinterestgroup-ads">ads</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads">ads</a>
          <tr>
           <td>"<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-adcomponents" id="ref-for-dom-generatebidinterestgroup-adcomponents">adComponents</a></code>"
           <td><a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components">ad components</a>
        </table>
        <ol>
         <li data-md>
          <p>If <var>group</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">contains</a> <var>groupMember</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">for each</a> <var>ad</var> of <var>group</var>[<var>groupMember</var>]:</p>
          <ol>
           <li data-md>
            <p>Let <var>igAd</var> be a new <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad">interest group ad</a>.</p>
           <li data-md>
            <p>Let <var>renderURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">URL parser</a> on <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-renderurl" id="ref-for-dom-auctionad-renderurl">renderURL</a></code>"].</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code> if any of the following conditions hold:</p>
            <ul>
             <li data-md>
              <p><var>renderURL</var> is failure;</p>
             <li data-md>
              <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not "<code>https</code>";</p>
             <li data-md>
              <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials①">includes credentials</a>.</p>
            </ul>
           <li data-md>
            <p>Set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url">render url</a> to <var>renderURL</var>.</p>
           <li data-md>
            <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata">metadata</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>, then let <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata">metadata</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string①">serializing a JavaScript value to a JSON string</a>, given <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata①">metadata</a></code>"].
This can <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.</p>
           <li data-md>
            <p>If <var>groupMember</var> is "<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-ads" id="ref-for-dom-generatebidinterestgroup-ads①">ads</a></code>":</p>
            <ol>
             <li data-md>
              <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-buyerreportingid" id="ref-for-dom-auctionad-buyerreportingid">buyerReportingId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a>, then set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id">buyer reporting ID</a> to it.</p>
             <li data-md>
              <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-buyerandsellerreportingid" id="ref-for-dom-auctionad-buyerandsellerreportingid">buyerAndSellerReportingId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exists</a>,
then set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id">buyer and seller reporting ID</a> to it.</p>
             <li data-md>
              <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-allowedreportingorigins" id="ref-for-dom-auctionad-allowedreportingorigins">allowedReportingOrigins</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a>:</p>
              <ol>
               <li data-md>
                <p>Let <var>allowedReportingOrigins</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origins</a>.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>originStr</var> in <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-allowedreportingorigins" id="ref-for-dom-auctionad-allowedreportingorigins①">allowedReportingOrigins</a></code>"]:</p>
                <ol>
                 <li data-md>
                  <p>Let <var>origin</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①">parsing an https origin</a> on <var>originStr</var>.</p>
                 <li data-md>
                  <p>If <var>origin</var> is failure, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑧">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑧">TypeError</a></code>.</p>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>origin</var> to <var>allowedReportingOrigins</var>.</p>
                 <li data-md>
                  <p>If <var>allowedReportingOrigins</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size">size</a> > 10, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑨">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑨">TypeError</a></code>.</p>
                </ol>
               <li data-md>
                <p>Set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-allowed-reporting-origins" id="ref-for-interest-group-ad-allowed-reporting-origins">allowed reporting origins</a> to <var>allowedReportingOrigins</var>.</p>
              </ol>
            </ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>igAd</var> to <var>interestGroup</var>’s <var>interestGroupField</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-additionalbidkey" id="ref-for-dom-auctionadinterestgroup-additionalbidkey">additionalBidKey</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>decodedKey</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode">forgiving-base64 decode</a> with <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-additionalbidkey" id="ref-for-dom-auctionadinterestgroup-additionalbidkey①">additionalBidKey</a></code>"].</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⓪">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⓪">TypeError</a></code> if any of the following conditions hold:</p>
          <ul>
           <li data-md>
            <p><var>decodedKey</var> is a failure;</p>
           <li data-md>
            <p><var>decodedKey</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length">length</a> is not 32;</p>
           <li data-md>
            <p><var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-ads" id="ref-for-dom-generatebidinterestgroup-ads②">ads</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a>;</p>
           <li data-md>
            <p><var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-updateurl" id="ref-for-dom-generatebidinterestgroup-updateurl①">updateURL</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a>.</p>
          </ul>
         <li data-md>
          <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key">additional bid key</a> to <var>decodedKey</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size">estimated size</a> > 1048576, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①①">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue">starting a new parallel queue</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps">Enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>permission</var> be the result of <a data-link-type="dfn" href="#check-interest-group-permissions" id="ref-for-check-interest-group-permissions">checking interest group permissions</a> with <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤">owner</a>, <var>frameOrigin</var>, and "<code>join</code>".</p>
       <li data-md>
        <p>If <var>permission</var> is false, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a>,
given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>p</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror②">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code> and abort these
steps.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①">Queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①">DOM manipulation task source</a>, given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a> <var>p</var> with <code>undefined</code>.</p>
       <li data-md>
        <p>If the browser is currently storing an interest group with <code>owner</code> and <code>name</code> that matches <var>interestGroup</var>, then set the <a data-link-type="dfn" href="#interest-group-bid-counts" id="ref-for-interest-group-bid-counts">bid counts</a>, <a data-link-type="dfn" href="#interest-group-join-counts" id="ref-for-interest-group-join-counts">join counts</a>, and <a data-link-type="dfn" href="#interest-group-previous-wins" id="ref-for-interest-group-previous-wins">previous wins</a> of <var>interestGroup</var> to the values of the currently stored one and remove
the currently stored one from the browser.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin">joining origin</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin">top-level origin</a>.</p>
       <li data-md>
        <p>Set <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-join-time" id="ref-for-interest-group-join-time">join time</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time②">current wall time</a>.</p>
       <li data-md>
        <p>If the most recent entry in <var>interestGroup</var>’s <a data-link-type="dfn" href="#interest-group-join-counts" id="ref-for-interest-group-join-counts①">join counts</a> corresponds to
the current day in UTC, increment its count. If not, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-insert" id="ref-for-list-insert">insert</a> a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuple</a> the time set to the current UTC day and a count of 1.</p>
       <li data-md>
        <p>Store <var>interestGroup</var> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①">interest group set</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="estimated size" data-algorithm-for="interest group">
    <p>The <dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-estimated-size">estimated size</dfn> of an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②">interest group</a> <var>ig</var> is the sum of:</p>
    <ol>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑥">owner</a>.</p>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②">name</a>.</p>
     <li data-md>
      <p>8, which is the size of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority①">priority</a>.</p>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode①">execution mode</a>.</p>
     <li data-md>
      <p>2, which is the size of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization①">enable bidding signals prioritization</a>.</p>
     <li data-md>
      <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector①">priority vector</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">for each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector②">priority vector</a>:</p>
      <ol>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length③">length</a> of <var>key</var>.</p>
       <li data-md>
        <p>8, which is the size of <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides①">priority signals overrides</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">for each</a> <var>key</var> → <var>value</var> of <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides②">priority signals overrides</a>:</p>
      <ol>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length④">length</a> of <var>key</var>.</p>
       <li data-md>
        <p>8, which is the size of <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑤">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①">bidding url</a>, if the field is not null.</p>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑥">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url①">bidding wasm helper url</a>, if the field is not null.</p>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑦">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer②">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url①">update url</a>, if the field is not null.</p>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑧">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer③">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url②">trusted bidding signals url</a>, if the field is not null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>key</var> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys①">trusted bidding signals keys</a>:</p>
      <ol>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length⑨">length</a> of <var>key</var>.</p>
      </ol>
     <li data-md>
      <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⓪">length</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals①">user bidding signals</a>.</p>
     <li data-md>
      <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①">ads</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">for each</a> <var>ad</var> of it:</p>
      <ol>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①①">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer④">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①">render url</a>.</p>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①②">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata①">metadata</a> if the field is not null.</p>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①③">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id①">buyer reporting ID</a> if the field is not null.</p>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①④">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id①">buyer and seller reporting ID</a> if the
field is not null.</p>
       <li data-md>
        <p>If <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-allowed-reporting-origins" id="ref-for-interest-group-ad-allowed-reporting-origins①">allowed reporting origins</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">for each</a> <var>origin</var> of it:</p>
        <ol>
         <li data-md>
          <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⑤">length</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①">serialization</a> of <var>origin</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①">ad components</a> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">for each</a> <var>ad</var> of it:</p>
      <ol>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⑥">length</a> of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑤">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url②">render url</a>.</p>
       <li data-md>
        <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⑦">length</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata②">metadata</a> if the field is not null.</p>
      </ol>
     <li data-md>
      <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key①">additional bid key</a> is not null:</p>
      <ol>
       <li data-md>
        <p>32, which is its size (number of bytes).</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="check interest group permissions">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-interest-group-permissions">check interest group permissions</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origin</a> <var>ownerOrigin</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a> <var>frameOrigin</var>, and an enum <var>joinOrLeave</var> which is "<code>join</code>" or "<code>leave</code>":</p>
    <ol>
     <li data-md>
      <p>If <var>ownerOrigin</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same origin</a> with <var>frameOrigin</var>, then return true.</p>
     <li data-md>
      <p>Let <var>encodedFrameOrigin</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode">UTF-8 percent-encoding</a> the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin②">serialized</a> <var>frameOrigin</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set">component percent-encode set</a>.</p>
     <li data-md>
      <p>Let <var>permissionsUrl</var> be a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a>
       <dd data-md>
        <p><var>ownerOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme①">scheme</a></p>
       <dt data-md><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host" id="ref-for-concept-url-host">host</a>
       <dd data-md>
        <p><var>ownerOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host">host</a></p>
       <dt data-md><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port" id="ref-for-concept-url-port">port</a>
       <dd data-md>
        <p><var>ownerOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port" id="ref-for-concept-origin-port">port</a></p>
       <dt data-md><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path">path</a>
       <dd data-md>
        <p>« ".well-known", "interest-group", "permissions" »</p>
       <dt data-md><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query①">query</a>
       <dd data-md>
        <p>The result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate">concatenating</a> « "origin=", <var>encodedFrameOrigin</var> »</p>
      </dl>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
       <dd data-md>
        <p><var>permissionsUrl</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>
       <dd data-md>
        <p>«<code>Accept</code>: <code>application/json</code>»</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
       <dd data-md>
        <p><code>null</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a>
       <dd data-md>
        <p><var>frameOrigin</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">mode</a>
       <dd data-md>
        <p>"<code>cors</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>
       <dd data-md>
        <p>"<code>no-referrer</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
       <dd data-md>
        <p>"<code>omit</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode">redirect mode</a>
       <dd data-md>
        <p>"<code>error</code>"</p>
      </dl>
      <p class="issue" id="issue-72f1e776"><a class="self-link" href="#issue-72f1e776"></a> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
  service worker interceptions, despite not having to set the service workers mode.</p>
     <li data-md>
      <p>Let <var>resource</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue">useParallelQueue</a> set to true, and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> <var>response</var> and null, failure, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a> <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>responseBody</var> is null or failure, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headers</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a>.</p>
       <li data-md>
        <p>Let <var>mimeType</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type">extracting a MIME type</a> from <var>headers</var>.</p>
       <li data-md>
        <p>If <var>mimeType</var> is failure or is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#json-mime-type" id="ref-for-json-mime-type">JSON MIME Type</a>, set <var>resource</var> to failure and return.</p>
       <li data-md>
        <p>Set <var>resource</var> to <var>responseBody</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>resource</var> to be set.</p>
     <li data-md>
      <p>If <var>resource</var> is failure, then return false.</p>
     <li data-md>
      <p>Let <var>permissions</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value">parsing JSON bytes to an Infra value</a> with <var>resource</var>,
returning false on failure.</p>
     <li data-md>
      <p>If <var>permissions</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a>, then return false.</p>
     <li data-md>
      <p>If <var>joinOrLeave</var> is "<code>join</code>" and <var>permissions</var>["<code>joinAdInterestGroup</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>, then
return <var>permissions</var>["<code>joinAdInterestGroup</code>"].</p>
     <li data-md>
      <p>If <var>joinOrLeave</var> is "<code>leave</code>" and <var>permissions</var>["<code>leaveAdInterestGroup</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exists</a>, then
return <var>permissions</var>["<code>leaveAdInterestGroup</code>"].</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
    <p>The browser may cache requests for <var>permissionsUrl</var> within a network partition.</p>
    <p>In order to prevent leaking data, the browser must request <var>permissionsUrl</var> regardless of whether the user is a member of the ad interest group. This
prevents a leak of the user’s ad interest group membership to the server.</p>
   </div>
   <h3 class="heading settled" data-level="2.2" id="interest-group-storage-maintenance"><span class="secno">2.2. </span><span class="content">Interest Group Storage Maintenance</span><a class="self-link" href="#interest-group-storage-maintenance"></a></h3>
   <p>There is a job that periodically <a data-link-type="dfn" href="#perform-storage-maintenance" id="ref-for-perform-storage-maintenance">performs storage maintenance</a> on the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent③">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②">interest group set</a>. It performs operations such as <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">removing</a> expired or excess <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③">interest groups</a>. An <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set③">interest group set</a> must respect the following limits. Implementations
may define their own values for the below constants, however we supply the below values as a
starting point, inspired by what the initial implementation of this specification uses:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="interest-group-set-max-owners">Interest group set max owners</dfn> is 1000, which defines the max number of <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑦">owners</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent④">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set④">interest group set</a>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-regular-interest-groups-per-owner">Max regular interest groups per owner</dfn> is 2000, which defines the max number of <a data-link-type="dfn" href="#regular-interest-group" id="ref-for-regular-interest-group">regular interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent⑤">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set⑤">interest group set</a> for an <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑧">owner</a>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-negative-interest-groups-per-owner">Max negative interest groups per owner</dfn> is 20000, which defines the max number of <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group">negative interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent⑥">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set⑥">interest group set</a> for an <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑨">owner</a>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="max-interest-groups-total-size-per-owner">Max interest groups total size per owner</dfn> is <code>10*1024*1024</code>, which
defines the max total <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size①">sizes</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④">interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent⑦">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set⑦">interest group set</a> for an <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⓪">owner</a>. It includs both <a data-link-type="dfn" href="#regular-interest-group" id="ref-for-regular-interest-group①">regular interest groups</a> and <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①">negative interest groups</a>.</p>
   </ul>
   <div class="algorithm" data-algorithm="perform storage maintenance">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="perform-storage-maintenance">perform storage maintenance</dfn>: 
    <ol>
     <li data-md>
      <p>Let <var>ownersAndExpiry</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③">origins</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values">values</a> are <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment">moments</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key">key</a> is from <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①①">owner</a>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">value</a> is from <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry①">expiry</a>. It’s used to determine a set of <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①②">owners</a> whose <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑤">interest groups</a> will be removed from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent⑧">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set⑧">interest group set</a> because the
  number of distinct <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①③">owners</a> exceeds the <a data-link-type="dfn" href="#interest-group-set-max-owners" id="ref-for-interest-group-set-max-owners">Interest group set max owners</a> limit.
  It’s sorted based on their <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①">values</a> (<a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry②">expiry</a>) in descending order, in
  order to remove <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑥">interest groups</a> of <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①④">owners</a> expiring soonest first.</p>
     <li data-md>
      <p>Let <var>now</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time③">current wall time</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>ig</var> of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent⑨">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set⑨">interest group set</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>owner</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⑤">owner</a>.</p>
       <li data-md>
        <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry③">expiry</a> is before <var>now</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">remove</a> <var>ig</var> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①⓪">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①⓪">interest group set</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>If <var>ownersAndExpiry</var>[<var>owner</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">set</a> <var>ownersAndExpiry</var>[<var>owner</var>] to <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry④">expiry</a> if it comes after <var>ownersAndExpiry</var>[<var>owner</var>].</p>
       <li data-md>
        <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">set</a> <var>ownersAndExpiry</var>[<var>owner</var>] to <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry⑤">expiry</a>.</p>
      </ol>
     <li data-md>
      <p>If <var>ownersAndExpiry</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size">size</a> > <a data-link-type="dfn" href="#interest-group-set-max-owners" id="ref-for-interest-group-set-max-owners①">interest group set max owners</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">set</a> <var>ownersAndExpiry</var> to <var>ownersAndExpiry</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-sort-in-descending-order" id="ref-for-map-sort-in-descending-order">sorted in descending order</a> with <var>a</var> being less than <var>b</var> if <var>a</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value①">value</a> comes before <var>b</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value②">value</a>, where <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②">values</a> are <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry⑥">expiry</a>.</p>
     <li data-md>
      <p>Let <var>owners</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①">keys</a> of <var>ownersAndExpiry</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>i</var> in <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#the-range" id="ref-for-the-range">the range</a> from 0 to <var>owners</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size①">size</a>, exclusive:</p>
      <ol>
       <li data-md>
        <p>If <var>i</var> ≥ <a data-link-type="dfn" href="#interest-group-set-max-owners" id="ref-for-interest-group-set-max-owners②">interest group set max owners</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">remove</a> <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑦">interest groups</a> from
the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①①">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①①">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⑥">owner</a> is <var>owners</var>[<var>i</var>], and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
       <li data-md>
        <p>Let <var>regularIgs</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> of <a data-link-type="dfn" href="#regular-interest-group" id="ref-for-regular-interest-group②">regular interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①②">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①②">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⑦">owner</a> is <var>owners</var>[<var>i</var>].</p>
       <li data-md>
        <p>If <var>regularIgs</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size②">size</a> > <a data-link-type="dfn" href="#max-regular-interest-groups-per-owner" id="ref-for-max-regular-interest-groups-per-owner">max regular interest groups per owner</a>, then <a data-link-type="dfn" href="#clear-excess-interest-groups" id="ref-for-clear-excess-interest-groups">clear excess interest groups</a> with <var>regularIgs</var> and <a data-link-type="dfn" href="#max-regular-interest-groups-per-owner" id="ref-for-max-regular-interest-groups-per-owner①">max regular interest groups per owner</a>.</p>
       <li data-md>
        <p>Let <var>negativeIgs</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a> of <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group②">negative interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①③">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①③">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⑧">owner</a> is <var>owners</var>[<var>i</var>].</p>
       <li data-md>
        <p>If <var>negativeIgs</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size③">size</a> > <a data-link-type="dfn" href="#max-negative-interest-groups-per-owner" id="ref-for-max-negative-interest-groups-per-owner">max negative interest groups per owner</a>, then <a data-link-type="dfn" href="#clear-excess-interest-groups" id="ref-for-clear-excess-interest-groups①">clear excess interest groups</a> with <var>negativeIgs</var> and <a data-link-type="dfn" href="#max-negative-interest-groups-per-owner" id="ref-for-max-negative-interest-groups-per-owner①">max negative interest groups per owner</a>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>owner</var> of <var>owners</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>igs</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑧">interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①④">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①④">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner①⑨">owner</a> is <var>owner</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-descending-order" id="ref-for-list-sort-in-descending-order">sorted in descending order</a> with <var>a</var> being
less than <var>b</var> if <var>a</var><a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry⑦">expiry</a> comes before <var>b</var><a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry⑧">expiry</a>.</p>
       <li data-md>
        <p>Let <var>cumulativeSize</var> be 0.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <var>ig</var> of <var>igs</var>:</p>
        <ol>
         <li data-md>
          <p>If the sum of <var>cumulativeSize</var> and <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size②">estimated size</a> > <a data-link-type="dfn" href="#max-interest-groups-total-size-per-owner" id="ref-for-max-interest-groups-total-size-per-owner">max interest groups total size per owner</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove③">remove</a> <var>ig</var> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①⑤">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①⑤">interest group set</a>.</p>
         <li data-md>
          <p>Otherwise, increment <var>cumulativeSize</var> by <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size③">estimated size</a>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="clear excess interest groups">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clear-excess-interest-groups">clear excess interest groups</dfn> with a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑨">interest groups</a> <var>igs</var>, and an
integer <var>maxIgs</var>: 
    <ol>
     <li data-md>
      <p>Let <var>sortedIgs</var> be <var>igs</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-descending-order" id="ref-for-list-sort-in-descending-order①">sorted in descending order</a> with <var>a</var> being less
than <var>b</var> if <var>a</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry⑨">expiry</a> comes before <var>b</var>’s <a data-link-type="dfn" href="#interest-group-expiry" id="ref-for-interest-group-expiry①⓪">expiry</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> In order to remove interest groups expiring soonest first, sort interest groups based on
  their expiry in descending order.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>i</var> in <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#the-range" id="ref-for-the-range①">the range</a> from <var>maxIgs</var> to <var>igs</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size④">size</a>, exclusive:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove④">Remove</a> <var>sortedIgs</var>[<var>i</var>] from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①⑥">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①⑥">interest group set</a>.</p>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="leaving-interest-groups"><span class="secno">3. </span><span class="content">Leaving Interest Groups</span><a class="self-link" href="#leaving-interest-groups"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="leaveadinterestgroup"><span class="secno">3.1. </span><span class="content">leaveAdInterestGroup()</span><a class="self-link" href="#leaveadinterestgroup"></a></h3>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator④">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-leaveadinterestgroup" id="ref-for-dom-navigator-leaveadinterestgroup">leaveAdInterestGroup()</a></code> removes a user from a particular interest
group.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator①"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-leaveadinterestgroup" id="ref-for-dom-navigator-leaveadinterestgroup①"><c- g>leaveAdInterestGroup</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-auctionadinterestgroupkey" id="ref-for-dictdef-auctionadinterestgroupkey"><c- n>AuctionAdInterestGroupKey</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/leaveAdInterestGroup(group), Navigator/leaveAdInterestGroup()" data-dfn-type="argument" data-export id="dom-navigator-leaveadinterestgroup-group-group"><code><c- g>group</c-></code><a class="self-link" href="#dom-navigator-leaveadinterestgroup-group-group"></a></dfn> = {});
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadinterestgroupkey"><code><c- g>AuctionAdInterestGroupKey</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroupKey" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroupkey-owner"><code><c- g>owner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdInterestGroupKey" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadinterestgroupkey-name"><code><c- g>name</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="leaveAdInterestGroup(group)" data-algorithm-for="Navigator">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export data-lt="leaveAdInterestGroup(group)|leaveAdInterestGroup()" id="dom-navigator-leaveadinterestgroup"><code>leaveAdInterestGroup(group)</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a>.</p>
     <li data-md>
      <p>Let <var>frameOrigin</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①">origin</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a> that <var>frameOrigin</var> is not an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque①">opaque origin</a> and its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme②">scheme</a> is "<code>https</code>".</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a>.</p>
     <li data-md>
      <p>If <var>group</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty">is empty</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>instance</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc">browsing context</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance">fenced frame config instance</a>.</p>
       <li data-md>
        <p>If <var>instance</var> is null, then return.</p>
       <li data-md>
        <p>Let <var>interestGroup</var> be <var>instance</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-instance-interest-group-descriptor" id="ref-for-fenced-frame-config-instance-interest-group-descriptor">interest group descriptor</a>.</p>
       <li data-md>
        <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task②">Queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②">DOM manipulation task source</a>, given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>p</var> with <code>undefined</code>.</p>
         <li data-md>
          <p>If <var>interestGroup</var> is not null:</p>
          <ol>
           <li data-md>
            <p>Let <var>owner</var> be <var>interestGroup</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-owner" id="ref-for-interest-group-descriptor-owner">owner</a>.</p>
           <li data-md>
            <p>If <var>owner</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same origin</a> with <var>frameOrigin</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑤">remove</a> <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①⓪">interest groups</a> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①⑦">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①⑦">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②⓪">owner</a> is <var>owner</var> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name③">name</a> is <var>interestGroup</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-name" id="ref-for-interest-group-descriptor-name">name</a>.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> the
"<a data-link-type="dfn" href="#join-ad-interest-group" id="ref-for-join-ad-interest-group①">join-ad-interest-group</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①②">throw</a> a
"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror③">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> Both joining and leaving interest groups use the "join-ad-interest-group" feature.</p>
       <li data-md>
        <p>Let <var>owner</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin②">parsing an https origin</a> with <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroupkey-owner" id="ref-for-dom-auctionadinterestgroupkey-owner">owner</a></code>"].</p>
       <li data-md>
        <p>If <var>owner</var> is failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①②">TypeError</a></code>.</p>
       <li data-md>
        <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>permission</var> be the result of <a data-link-type="dfn" href="#check-interest-group-permissions" id="ref-for-check-interest-group-permissions①">checking interest group permissions</a> with <var>owner</var>, <var>frameOrigin</var>, and "<code>leave</code>".</p>
         <li data-md>
          <p>If <var>permission</var> is false, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task③">queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source③">DOM manipulation task source</a>,
given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>p</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror④">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> and abort
these steps.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task④">Queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source④">DOM manipulation task source</a>, given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">resolve</a> <var>p</var> with <code>undefined</code>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑥">Remove</a> <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①①">interest groups</a> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①⑧">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①⑧">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②①">owner</a> is <var>owner</var> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name④">name</a> is <var>group</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroupkey-name" id="ref-for-dom-auctionadinterestgroupkey-name">name</a></code>"].</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.2" id="clearoriginjoinedAdInterestGroups"><span class="secno">3.2. </span><span class="content">clearOriginJoinedAdInterestGroups()</span><a class="self-link" href="#clearoriginjoinedAdInterestGroups"></a></h3>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator⑤">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-clearoriginjoinedadinterestgroups" id="ref-for-dom-navigator-clearoriginjoinedadinterestgroups">clearOriginJoinedAdInterestGroups()</a></code> removes a user from <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①②">interest groups</a> whose <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin①">joining origin</a> is the associated <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator②">Navigator</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin①">top-level origin</a>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator③"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-clearoriginjoinedadinterestgroups" id="ref-for-dom-navigator-clearoriginjoinedadinterestgroups①"><c- g>clearOriginJoinedAdInterestGroups</c-></a>(
      <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①③"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/clearOriginJoinedAdInterestGroups(owner, interestGroupsToKeep), Navigator/clearOriginJoinedAdInterestGroups(owner)" data-dfn-type="argument" data-export id="dom-navigator-clearoriginjoinedadinterestgroups-owner-interestgroupstokeep-owner"><code><c- g>owner</c-></code><a class="self-link" href="#dom-navigator-clearoriginjoinedadinterestgroups-owner-interestgroupstokeep-owner"></a></dfn>, <c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①④"><c- b>USVString</c-></a>> <dfn class="idl-code" data-dfn-for="Navigator/clearOriginJoinedAdInterestGroups(owner, interestGroupsToKeep), Navigator/clearOriginJoinedAdInterestGroups(owner)" data-dfn-type="argument" data-export id="dom-navigator-clearoriginjoinedadinterestgroups-owner-interestgroupstokeep-interestgroupstokeep"><code><c- g>interestGroupsToKeep</c-></code><a class="self-link" href="#dom-navigator-clearoriginjoinedadinterestgroups-owner-interestgroupstokeep-interestgroupstokeep"></a></dfn> = []);
};
</pre>
   <div class="algorithm" data-algorithm="clearOriginJoinedAdInterestGroups(owner, interestGroupsToKeep)" data-algorithm-for="Navigator">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export data-lt="clearOriginJoinedAdInterestGroups(owner, interestGroupsToKeep)|clearOriginJoinedAdInterestGroups(owner)" id="dom-navigator-clearoriginjoinedadinterestgroups"><code>clearOriginJoinedAdInterestGroups(<var>owner</var>, <var>interestGroupsToKeep</var>)</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>frameOrigin</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin②">origin</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a> that <var>frameOrigin</var> is not an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque②">opaque origin</a> and its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme③">scheme</a> is "<code>https</code>".</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window②">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use②">allowed to use</a> the
"<a data-link-type="dfn" href="#join-ad-interest-group" id="ref-for-join-ad-interest-group②">join-ad-interest-group</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①④">throw</a> a
"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑤">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Both joining and leaving interest groups use the "join-ad-interest-group" feature.</p>
     <li data-md>
      <p>Let <var>ownerOrigin</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin③">parsing an https origin</a> with <var>owner</var>.</p>
     <li data-md>
      <p>If <var>ownerOrigin</var> is failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑤">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①③">TypeError</a></code>.</p>
     <li data-md>
      <p>Run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>permission</var> be the result of <a data-link-type="dfn" href="#check-interest-group-permissions" id="ref-for-check-interest-group-permissions②">checking interest group permissions</a> with <var>ownerOrigin</var>, <var>frameOrigin</var>, and "<code>leave</code>".</p>
       <li data-md>
        <p>If <var>permission</var> is false, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑤">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑤">DOM manipulation task source</a> given <var>global</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>p</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑥">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code> and abort these steps.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑥">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑥">DOM manipulation task source</a> given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve③">resolve</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③">undefined</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑦">Remove</a> <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①③">interest groups</a> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①⑨">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set①⑨">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②②">owner</a> is <var>ownerOrigin</var>, whose <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin②">joining origin</a> is <var>frameOrigin</var>, and whose <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑤">name</a> is not in <var>interestGroupsToKeep</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="4" id="running-ad-auctions"><span class="secno">4. </span><span class="content">Running Ad Auctions</span><a class="self-link" href="#running-ad-auctions"></a></h2>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p>When a website or someone working on behalf of the website (e.g. a supply side platform, SSP) wants
to conduct an auction to select an advertisement to display to the user, they can call the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator⑥">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction①">runAdAuction()</a></code> function, providing an auction configuration that
tells the browser how to conduct the auction and which on-device recorded interests are allowed to
bid in the auction for the chance to display their advertisement.</p>
   <h3 class="heading settled" data-level="4.1" id="runadauction"><span class="secno">4.1. </span><span class="content">runAdAuction()</span><a class="self-link" href="#runadauction"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator④"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑤"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://wicg.github.io/fenced-frame/#fencedframeconfig" id="ref-for-fencedframeconfig"><c- n>FencedFrameConfig</c-></a>)?> <a class="idl-code" data-link-type="method" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction②"><c- g>runAdAuction</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/runAdAuction(config)" data-dfn-type="argument" data-export id="dom-navigator-runadauction-config-config"><code><c- g>config</c-></code><a class="self-link" href="#dom-navigator-runadauction-config-config"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-auctionadconfig"><code><c- g>AuctionAdConfig</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-seller"><code><c- g>seller</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-decisionlogicurl"><code><c- g>decisionLogicURL</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-trustedscoringsignalsurl"><code><c- g>trustedScoringSignalsURL</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⑨"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-auctionadconfig-interestgroupbuyers"><code><c- g>interestGroupBuyers</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<any> " id="dom-auctionadconfig-auctionsignals"><code><c- g>auctionSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<any> " id="dom-auctionadconfig-sellersignals"><code><c- g>sellerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<DOMString> " id="dom-auctionadconfig-directfromsellersignalsheaderadslot"><code><c- g>directFromSellerSignalsHeaderAdSlot</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="unsigned long long " id="dom-auctionadconfig-sellertimeout"><code><c- g>sellerTimeout</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="unsigned short " id="dom-auctionadconfig-sellerexperimentgroupid"><code><c- g>sellerExperimentGroupId</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-auctionadconfig-sellercurrency"><code><c- g>sellerCurrency</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record②"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②①"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<record<USVString, any>> " id="dom-auctionadconfig-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record③"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②②"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<record<USVString, unsigned long long>> " id="dom-auctionadconfig-perbuyertimeouts"><code><c- g>perBuyerTimeouts</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record④"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②③"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long②"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<record<USVString, unsigned long long>> " id="dom-auctionadconfig-perbuyercumulativetimeouts"><code><c- g>perBuyerCumulativeTimeouts</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑤"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②④"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①"><c- b>unsigned</c-> <c- b>short</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned short> " id="dom-auctionadconfig-perbuyergrouplimits"><code><c- g>perBuyerGroupLimits</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑥"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⑤"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short②"><c- b>unsigned</c-> <c- b>short</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, unsigned short> " id="dom-auctionadconfig-perbuyerexperimentgroupids"><code><c- g>perBuyerExperimentGroupIds</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑦"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⑥"><c- b>USVString</c-></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑧"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⑦"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④"><c- b>double</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="record<USVString, record<USVString, double>> " id="dom-auctionadconfig-perbuyerprioritysignals"><code><c- g>perBuyerPrioritySignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record⑨"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⑧"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②⑨"><c- b>USVString</c-></a>>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<record<USVString, USVString>> " id="dom-auctionadconfig-perbuyercurrencies"><code><c- g>perBuyerCurrencies</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑥"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig①"><c- n>AuctionAdConfig</c-></a>> <dfn class="dfn-paneled idl-code" data-default="[]" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="sequence<AuctionAdConfig> " id="dom-auctionadconfig-componentauctions"><code><c- g>componentAuctions</c-></code></dfn> = [];
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<undefined> " id="dom-auctionadconfig-additionalbids"><code><c- g>additionalBids</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-auctionadconfig-auctionnonce"><code><c- g>auctionNonce</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal"><c- n>AbortSignal</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="AbortSignal? " id="dom-auctionadconfig-signal"><code><c- g>signal</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="AuctionAdConfig" data-dfn-type="dict-member" data-export data-type="Promise<boolean> " id="dom-auctionadconfig-resolvetoconfig"><code><c- g>resolveToConfig</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="runAdAuction()">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-runadauction"><code>runAdAuction(<var>config</var>)</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③">relevant global object</a>.</p>
     <li data-md>
      <p>Let <var>settings</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window③">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use③">allowed to use</a> the "<a data-link-type="dfn" href="#run-ad-auction" id="ref-for-run-ad-auction">run-ad-auction</a>" <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature③">policy-controlled feature</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑥">throw</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑦">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>auctionConfig</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config" id="ref-for-validate-and-convert-auction-ad-config">validate and convert auction ad config</a> with <var>config</var> and true.</p>
     <li data-md>
      <p>If <var>auctionConfig</var> is failure, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑦">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①④">TypeError</a></code>.</p>
     <li data-md>
      <p>Optionally, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑧">throw</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror⑧">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> condition is intended to allow <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②⓪">user agents</a> to decline
      for a number of reasons, for example the <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller">seller</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site①">site</a> not being <a href="https://github.com/privacysandbox/attestation">enrolled</a>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>configMapping</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window④">associated Document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable">traversable navigable</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#traversable-navigable-fenced-frame-config-mapping" id="ref-for-traversable-navigable-fenced-frame-config-mapping">fenced frame config mapping</a>.</p>
     <li data-md>
      <p>Let <var>pendingConfig</var> be the result of <a data-link-type="dfn" href="#construct-a-pending-fenced-frame-config" id="ref-for-construct-a-pending-fenced-frame-config">constructing a pending fenced frame config</a> with <var>auctionConfig</var>.</p>
     <li data-md>
      <p>Let <var>urn</var> be the result of running <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-mapping-store-a-pending-config" id="ref-for-fenced-frame-config-mapping-store-a-pending-config">store a pending config</a> on <var>configMapping</var> with <var>pendingConfig</var>.</p>
     <li data-md>
      <p>If <var>urn</var> is failure, then resolve <var>p</var> with null and return <var>p</var>.</p>
     <li data-md>
      <p>Let <var>bidIgs</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①④">interest groups</a>.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-signal" id="ref-for-dom-auctionadconfig-signal">signal</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>signal</var> be <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-signal" id="ref-for-dom-auctionadconfig-signal①">signal</a></code>"].</p>
       <li data-md>
        <p>If <var>signal</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>p</var> with <var>signal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason">abort reason</a> and return <var>p</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">Add the following abort steps</a> to <var>signal</var>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">Reject</a> <var>p</var> with <var>signal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①">abort reason</a>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#update-bid-count" id="ref-for-update-bid-count">update bid counts</a> with <var>bidIgs</var>.</p>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update">interest group update</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers">interest group buyers</a>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue①">starting a new parallel queue</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps①">Enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>winnerInfo</var> be the result of running <a data-link-type="dfn" href="#generate-and-score-bids" id="ref-for-generate-and-score-bids">generate and score bids</a> with <var>auctionConfig</var>,
 null, <var>global</var>, <var>settings</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin②">top-level origin</a>, and <var>bidIgs</var>.</p>
       <li data-md>
        <p>If <var>winnerInfo</var> is failure, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑦">queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑦">DOM manipulation task source</a>,
given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">reject</a> <var>p</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑤">TypeError</a></code>".</p>
       <li data-md>
        <p>If <var>winnerInfo</var> is null or <var>winnerInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid">leading bid</a> is null, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑧">queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑧">DOM manipulation task source</a>, given <var>global</var>, to resolve <var>p</var> with
null.</p>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Let <var>winner</var> be <var>winnerInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①">leading bid</a>.</p>
         <li data-md>
          <p>Let <var>fencedFrameConfig</var> be the result of <a data-link-type="dfn" href="#fill-in-a-pending-fenced-frame-config" id="ref-for-fill-in-a-pending-fenced-frame-config">filling in a pending fenced frame config</a> with <var>pendingConfig</var>, <var>auctionConfig</var>, and <var>winnerInfo</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-mapping-finalize-a-pending-config" id="ref-for-fenced-frame-config-mapping-finalize-a-pending-config">Finalize a pending config</a> on <var>configMapping</var> with <var>urn</var> and <var>fencedFrameConfig</var>.</p>
         <li data-md>
          <p>Wait until <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-resolve-to-config" id="ref-for-auction-config-resolve-to-config">resolve to config</a> is a boolean.</p>
         <li data-md>
          <p>Let <var>result</var> be <var>fencedFrameConfig</var>.</p>
         <li data-md>
          <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-resolve-to-config" id="ref-for-auction-config-resolve-to-config①">resolve to config</a> is false, then set <var>result</var> to <var>urn</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑨">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑨">DOM manipulation task source</a>, given <var>global</var>, to
 resolve <var>p</var> with <var>result</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#increment-ad-k-anonymity-count" id="ref-for-increment-ad-k-anonymity-count">Increment ad k-anonymity count</a> given <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group">interest group</a> and <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url">url</a>.</p>
         <li data-md>
          <p>If <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors">ad component descriptors</a> is not null:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①①">For each</a> <var>adComponentDescriptor</var> in <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors①">ad component descriptors</a>:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="#increment-component-ad-k-anonymity-count" id="ref-for-increment-component-ad-k-anonymity-count">Increment component ad k-anonymity count</a> given <var>adComponentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①">url</a>.</p>
            </ol>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="#increment-reporting-id-k-anonymity-count" id="ref-for-increment-reporting-id-k-anonymity-count">Increment reporting ID k-anonymity count</a> given <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①">interest group</a> and <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor①">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url②">url</a>.</p>
        </ol>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update①">interest group update</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers①">interest group buyers</a>.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#update-bid-count" id="ref-for-update-bid-count①">update bid counts</a> with <var>bidIgs</var>.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#update-previous-wins" id="ref-for-update-previous-wins">update previous wins</a> with <var>winner</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="construct a pending fenced frame config">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="construct-a-pending-fenced-frame-config">construct a pending fenced frame config</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config">auction config</a> <var>config</var>:</p>
    <ol>
     <li data-md>
      <p>Return a <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config" id="ref-for-fenced-frame-config">fenced frame config</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url">mapped url</a>
       <dd data-md>
        <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#mapped-url-value" id="ref-for-mapped-url-value">value</a>
         <dd data-md>
          <p><code>"about:blank"</code></p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#mapped-url-visibility" id="ref-for-mapped-url-visibility">visibility</a>
         <dd data-md>
          <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque"><code>opaque</code></a>"</p>
        </dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size">container size</a>
       <dd data-md>
        <p>TODO: fill this in once container size is spec’d to be in <var>config</var></p>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size">content size</a>
       <dd data-md>
        <p>null</p>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-interest-group-descriptor" id="ref-for-fenced-frame-config-interest-group-descriptor">interest group descriptor</a>
       <dd data-md>
        <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item③">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-value" id="ref-for-interest-group-descriptor-value">value</a>
         <dd data-md>
          <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item④">items</a>:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-owner" id="ref-for-interest-group-descriptor-owner①">owner</a>
           <dd data-md>
            <p>""</p>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-name" id="ref-for-interest-group-descriptor-name①">name</a>
           <dd data-md>
            <p>""</p>
          </dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-visibility" id="ref-for-interest-group-descriptor-visibility">visibility</a>
         <dd data-md>
          <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque①"><code>opaque</code></a>"</p>
        </dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-on-navigate-callback" id="ref-for-fenced-frame-config-on-navigate-callback">on navigate callback</a>
       <dd data-md>
        <p>null</p>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-effective-sandbox-flags" id="ref-for-fenced-frame-config-effective-sandbox-flags">effective sandbox flags</a>
       <dd data-md>
        <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑤">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-sandbox-flags-value" id="ref-for-effective-sandbox-flags-value">value</a>
         <dd data-md>
          <p>TODO: fill this in once fenced frame sandbox flags are more fully specified</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-sandbox-flags-visibility" id="ref-for-effective-sandbox-flags-visibility">visibility</a>
         <dd data-md>
          <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque②"><code>opaque</code></a>"</p>
        </dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions">effective enabled permissions</a>
       <dd data-md>
        <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct④">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑥">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-enabled-permissions-value" id="ref-for-effective-enabled-permissions-value">value</a>
         <dd data-md>
          <p>«"<code><code class="idl"><a data-link-type="idl" href="https://wicg.github.io/attribution-reporting-api/#dom-permissionpolicy-attribution-reporting" id="ref-for-dom-permissionpolicy-attribution-reporting">attribution-reporting</a></code></code>",
  "<code><a data-link-type="dfn" href="https://patcg-individual-drafts.github.io/private-aggregation-api#private-aggregation" id="ref-for-private-aggregation">private-aggregation</a></code>", "<code><a data-link-type="dfn" href="https://wicg.github.io/shared-storage#permissionspolicy-shared-storage" id="ref-for-permissionspolicy-shared-storage">shared-storage</a></code>",
  "<code><a data-link-type="dfn" href="https://wicg.github.io/shared-storage#permissionspolicy-shared-storage-select-url" id="ref-for-permissionspolicy-shared-storage-select-url">shared-storage-select-url</a></code>"»</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-enabled-permissions-visibility" id="ref-for-effective-enabled-permissions-visibility">visibility</a>
         <dd data-md>
          <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque③"><code>opaque</code></a>"</p>
        </dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-fenced-frame-reporting-metadata" id="ref-for-fenced-frame-config-fenced-frame-reporting-metadata">fenced frame reporting metadata</a>
       <dd data-md>
        <p>null</p>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-exfiltration-budget-metadata" id="ref-for-fenced-frame-config-exfiltration-budget-metadata">exfiltration budget metadata</a>
       <dd data-md>
        <p>null</p>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-nested-configs" id="ref-for-fenced-frame-config-nested-configs">nested configs</a>
       <dd data-md>
        <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑤">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑦">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#nested-configs-value" id="ref-for-nested-configs-value">value</a>
         <dd data-md>
          <p>an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> «»</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#nested-configs-visibility" id="ref-for-nested-configs-visibility">visibility</a>
         <dd data-md>
          <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque④"><code>opaque</code></a>"</p>
        </dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-embedder-shared-storage-context" id="ref-for-fenced-frame-config-embedder-shared-storage-context">embedder shared storage context</a>
       <dd data-md>
        <p>null</p>
      </dl>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fill in a pending fenced frame config">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fill-in-a-pending-fenced-frame-config">fill in a pending fenced frame config</dfn> given a <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config" id="ref-for-fenced-frame-config①">fenced frame config</a> <var>pendingConfig</var>, <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①">auction config</a> <var>auctionConfig</var>, and <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info">leading bid info</a> <var>winningBidInfo</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>winningBid</var> be <var>winningBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid②">leading bid</a>.</p>
     <li data-md>
      <p>Set <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url①">mapped url</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#mapped-url-value" id="ref-for-mapped-url-value①">value</a> to <var>winningBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor②">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url③">url</a>.</p>
     <li data-md>
      <p>Let <var>adSize</var> be <var>winningBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor③">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-size" id="ref-for-ad-descriptor-size">size</a>.</p>
     <li data-md>
      <p>If <var>adSize</var> is not null:</p>
      <ol>
       <li data-md>
        <p>Set <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size①">content size</a> to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑥">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑧">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#content-size-value" id="ref-for-content-size-value">value</a>
         <dd data-md>
          <p><var>adSize</var> TODO: Resolve screen-relative sizes and macros and cast this properly.</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#content-size-visibility" id="ref-for-content-size-visibility">visibility</a>
         <dd data-md>
          <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque⑤"><code>opaque</code></a>"</p>
        </dl>
      </ol>
     <li data-md>
      <p>Set <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-interest-group-descriptor" id="ref-for-fenced-frame-config-interest-group-descriptor①">interest group descriptor</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#interest-group-descriptor-value" id="ref-for-interest-group-descriptor-value①">value</a> to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑦">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑨">items</a>:</p>
      <dl>
       <dt data-md>owner
       <dd data-md>
        <p><var>winningBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group②">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②③">owner</a></p>
       <dt data-md>name
       <dd data-md>
        <p><var>winningBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group③">interest group</a>'s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑥">name</a></p>
      </dl>
     <li data-md>
      <p>Let <var>fencedFrameReportingMap</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a> «[ "<code>buyer</code>" → «», "<code>seller</code>" → «» ]».</p>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions">component auctions</a> is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">empty</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">set</a> <var>fencedFrameReportingMap</var>["<code>component-seller</code>"] to an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a> «».</p>
     <li data-md>
      <p>Set <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-fenced-frame-reporting-metadata" id="ref-for-fenced-frame-config-fenced-frame-reporting-metadata①">fenced frame reporting metadata</a> to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑧">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⓪">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-value" id="ref-for-fenced-frame-reporting-metadata-value">value</a>
       <dd data-md>
        <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑨">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①①">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-fenced-frame-reporting-map" id="ref-for-fenced-frame-reporting-metadata-fenced-frame-reporting-map">fenced frame reporting map</a>
         <dd data-md>
          <p><var>fencedFrameReportingMap</var></p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-direct-seller-is-seller" id="ref-for-fenced-frame-reporting-metadata-direct-seller-is-seller">direct seller is seller</a>
         <dd data-md>
          <p>true if <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions①">component auctions</a> is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty①">empty</a>, false
  otherwise</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-allowed-reporting-origins" id="ref-for-fenced-frame-reporting-metadata-allowed-reporting-origins">allowed reporting origins</a>
         <dd data-md>
          <p><var>winningBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-ad" id="ref-for-generated-bid-bid-ad">bid ad</a>'s <a data-link-type="dfn" href="#interest-group-ad-allowed-reporting-origins" id="ref-for-interest-group-ad-allowed-reporting-origins②">allowed reporting origins</a></p>
        </dl>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-visibility" id="ref-for-fenced-frame-reporting-metadata-visibility">visibility</a>
       <dd data-md>
        <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque⑥"><code>opaque</code></a>"</p>
      </dl>
     <li data-md>
      <p>Set <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-on-navigate-callback" id="ref-for-fenced-frame-config-on-navigate-callback①">on navigate callback</a> to an algorithm with these
 steps:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#asynchronously-finish-reporting" id="ref-for-asynchronously-finish-reporting">Asynchronously finish reporting</a> with <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-fenced-frame-reporting-metadata" id="ref-for-fenced-frame-config-fenced-frame-reporting-metadata②">fenced frame reporting metadata</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-value" id="ref-for-fenced-frame-reporting-metadata-value①">value</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-fenced-frame-reporting-map" id="ref-for-fenced-frame-reporting-metadata-fenced-frame-reporting-map①">fenced frame reporting map</a> and <var>winningBidInfo</var>.</p>
      </ol>
     <li data-md>
      <p>Set <var>pendingConfig</var>’s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-nested-configs" id="ref-for-fenced-frame-config-nested-configs①">nested configs</a>'s <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#nested-configs-value" id="ref-for-nested-configs-value①">value</a> to
 the result of running <a data-link-type="dfn" href="#create-nested-configs" id="ref-for-create-nested-configs">create nested configs</a> with <var>winningBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors②">ad component descriptors</a>.</p>
     <li data-md>
      <p>Return <var>pendingConfig</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="asynchronously finish reporting">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="asynchronously-finish-reporting">asynchronously finish reporting</dfn> given a <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fencedframetype-fenced-frame-reporting-map" id="ref-for-fencedframetype-fenced-frame-reporting-map">fenced frame reporting map</a> <var>reportingMap</var> and <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info①">leading bid info</a> <var>leadingBidInfo</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>buyerDone</var>, <var>sellerDone</var>, and <var>componentSellerDone</var> be <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">booleans</a>, initially false.</p>
     <li data-md>
      <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller">component seller</a> is null, set <var>componentSellerDone</var> to true.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while" id="ref-for-iteration-while">While</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>buyerDone</var>, <var>sellerDone</var>, and <var>componentSellerDone</var> are all true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">break</a>.</p>
       <li data-md>
        <p>Wait until one of the following fields of <var>leadingBidInfo</var> being not null:</p>
        <ul>
         <li data-md>
          <p><a data-link-type="dfn" href="#leading-bid-info-buyer-reporting-result" id="ref-for-leading-bid-info-buyer-reporting-result">buyer reporting result</a>;</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#leading-bid-info-seller-reporting-result" id="ref-for-leading-bid-info-seller-reporting-result">seller reporting result</a>;</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#leading-bid-info-component-seller-reporting-result" id="ref-for-leading-bid-info-component-seller-reporting-result">component seller reporting result</a>.</p>
        </ul>
       <li data-md>
        <p>If <var>buyerDone</var> is false and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-buyer-reporting-result" id="ref-for-leading-bid-info-buyer-reporting-result①">buyer reporting result</a> is not null:</p>
        <ol>
         <li data-md>
          <p>Let <var>buyerMap</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-buyer-reporting-result" id="ref-for-leading-bid-info-buyer-reporting-result②">buyer reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-reporting-beacon-map" id="ref-for-reporting-result-reporting-beacon-map">reporting beacon map</a>.</p>
         <li data-md>
          <p>If <var>buyerMap</var> is null, set <var>buyerMap</var> to an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a> «[]».</p>
         <li data-md>
          <p>Let <var>macroMap</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-buyer-reporting-result" id="ref-for-leading-bid-info-buyer-reporting-result③">buyer reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-reporting-macro-map" id="ref-for-reporting-result-reporting-macro-map">reporting macro map</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#finalize-a-reporting-destination" id="ref-for-finalize-a-reporting-destination">Finalize a reporting destination</a> with <var>reportingMap</var>, <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fencereportingdestination-buyer" id="ref-for-dom-fencereportingdestination-buyer">buyer</a></code>, <var>buyerMap</var>, and <var>macroMap</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#send-report" id="ref-for-send-report">Send report</a> to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-buyer-reporting-result" id="ref-for-leading-bid-info-buyer-reporting-result④">buyer reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-report-url" id="ref-for-reporting-result-report-url">report url</a>.</p>
         <li data-md>
          <p>Set <var>buyerDone</var> to true.</p>
        </ol>
       <li data-md>
        <p>If <var>sellerDone</var> is false and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-seller-reporting-result" id="ref-for-leading-bid-info-seller-reporting-result①">seller reporting result</a> is not null:</p>
        <ol>
         <li data-md>
          <p>Let <var>sellerMap</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-seller-reporting-result" id="ref-for-leading-bid-info-seller-reporting-result②">seller reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-reporting-beacon-map" id="ref-for-reporting-result-reporting-beacon-map①">reporting beacon map</a>.</p>
         <li data-md>
          <p>If <var>sellerMap</var> is null, set <var>sellerMap</var> to an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a> «[]».</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#finalize-a-reporting-destination" id="ref-for-finalize-a-reporting-destination①">Finalize a reporting destination</a> with <var>reportingMap</var>, <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fencereportingdestination-seller" id="ref-for-dom-fencereportingdestination-seller">seller</a></code>, and <var>sellerMap</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#send-report" id="ref-for-send-report①">Send report</a> to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-seller-reporting-result" id="ref-for-leading-bid-info-seller-reporting-result③">seller reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-report-url" id="ref-for-reporting-result-report-url①">report url</a>.</p>
         <li data-md>
          <p>Set <var>sellerDone</var> to true.</p>
        </ol>
       <li data-md>
        <p>If <var>componentSellerDone</var> is false and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller-reporting-result" id="ref-for-leading-bid-info-component-seller-reporting-result①">component seller reporting result</a> is not null:</p>
        <ol>
         <li data-md>
          <p>Let <var>componentSellerMap</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller-reporting-result" id="ref-for-leading-bid-info-component-seller-reporting-result②">component seller reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-reporting-beacon-map" id="ref-for-reporting-result-reporting-beacon-map②">reporting beacon map</a>.</p>
         <li data-md>
          <p>If <var>componentSellerMap</var> is null, set <var>componentSellerMap</var> to an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a> «[]».</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#finalize-a-reporting-destination" id="ref-for-finalize-a-reporting-destination②">Finalize a reporting destination</a> with <var>reportingMap</var>, <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#dom-fencereportingdestination-component-seller" id="ref-for-dom-fencereportingdestination-component-seller">component-seller</a></code>, and <var>componentSellerMap</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#send-report" id="ref-for-send-report②">Send report</a> to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller-reporting-result" id="ref-for-leading-bid-info-component-seller-reporting-result③">component seller reporting result</a>'s <a data-link-type="dfn" href="#reporting-result-report-url" id="ref-for-reporting-result-report-url②">report url</a>.</p>
         <li data-md>
          <p>Set <var>componentSellerDone</var> to true.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create nested configs">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-nested-configs">create nested configs</dfn> given <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors③">ad component descriptors</a> <var>adComponentDescriptors</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>nestedConfigs</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a> «».</p>
     <li data-md>
      <p>If <var>adComponentDescriptors</var> is null:</p>
      <ol>
       <li data-md>
        <p>Return <var>nestedConfigs</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①②">For each</a> <var>adComponentDescriptor</var> of <var>adComponentDescriptors</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>fencedFrameConfig</var> be a <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config" id="ref-for-fenced-frame-config②">fenced frame config</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①②">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url②">mapped url</a>
         <dd data-md>
          <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⓪">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①③">items</a>:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#mapped-url-value" id="ref-for-mapped-url-value②">value</a>
           <dd data-md>
            <p><var>adComponentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url④">url</a></p>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#mapped-url-visibility" id="ref-for-mapped-url-visibility①">visibility</a>
           <dd data-md>
            <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque⑦"><code>opaque</code></a>"</p>
          </dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size①">container size</a>
         <dd data-md>
          <p>null</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size②">content size</a>
         <dd data-md>
          <p>If <var>adComponentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-size" id="ref-for-ad-descriptor-size①">size</a> is null, then null. Otherwise, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①①">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①④">items</a>:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#content-size-value" id="ref-for-content-size-value①">value</a>
           <dd data-md>
            <p><var>adComponentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-size" id="ref-for-ad-descriptor-size②">size</a> TODO: Resolve screen-relative sizes and
  macros and cast this properly.</p>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#content-size-visibility" id="ref-for-content-size-visibility①">visibility</a>
           <dd data-md>
            <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque⑧"><code>opaque</code></a>"</p>
          </dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-interest-group-descriptor" id="ref-for-fenced-frame-config-interest-group-descriptor②">interest group descriptor</a>
         <dd data-md>
          <p>null</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-on-navigate-callback" id="ref-for-fenced-frame-config-on-navigate-callback②">on navigate callback</a>
         <dd data-md>
          <p>null</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-effective-sandbox-flags" id="ref-for-fenced-frame-config-effective-sandbox-flags①">effective sandbox flags</a>
         <dd data-md>
          <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①②">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑤">items</a>:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-sandbox-flags-value" id="ref-for-effective-sandbox-flags-value①">value</a>
           <dd data-md>
            <p>TODO: fill this in once fenced frame sandbox flags are more fully specified</p>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-sandbox-flags-visibility" id="ref-for-effective-sandbox-flags-visibility①">visibility</a>
           <dd data-md>
            <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque⑨"><code>opaque</code></a>"</p>
          </dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①">effective enabled permissions</a>
         <dd data-md>
          <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①③">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑥">items</a>:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-enabled-permissions-value" id="ref-for-effective-enabled-permissions-value①">value</a>
           <dd data-md>
            <p>«"<code><code class="idl"><a data-link-type="idl" href="https://wicg.github.io/attribution-reporting-api/#dom-permissionpolicy-attribution-reporting" id="ref-for-dom-permissionpolicy-attribution-reporting①">attribution-reporting</a></code></code>",
  "<code><a data-link-type="dfn" href="https://patcg-individual-drafts.github.io/private-aggregation-api#private-aggregation" id="ref-for-private-aggregation①">private-aggregation</a></code>", "<code><a data-link-type="dfn" href="https://wicg.github.io/shared-storage#permissionspolicy-shared-storage" id="ref-for-permissionspolicy-shared-storage①">shared-storage</a></code>",
  "<code><a data-link-type="dfn" href="https://wicg.github.io/shared-storage#permissionspolicy-shared-storage-select-url" id="ref-for-permissionspolicy-shared-storage-select-url①">shared-storage-select-url</a></code>"»</p>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#effective-enabled-permissions-visibility" id="ref-for-effective-enabled-permissions-visibility①">visibility</a>
           <dd data-md>
            <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque①⓪"><code>opaque</code></a>"</p>
          </dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-fenced-frame-reporting-metadata" id="ref-for-fenced-frame-config-fenced-frame-reporting-metadata③">fenced frame reporting metadata</a>
         <dd data-md>
          <p>null</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-exfiltration-budget-metadata" id="ref-for-fenced-frame-config-exfiltration-budget-metadata①">exfiltration budget metadata</a>
         <dd data-md>
          <p>null</p>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-nested-configs" id="ref-for-fenced-frame-config-nested-configs②">nested configs</a>
         <dd data-md>
          <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①④">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑦">items</a>:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#nested-configs-value" id="ref-for-nested-configs-value②">value</a>
           <dd data-md>
            <p>an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a> «»</p>
           <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#nested-configs-visibility" id="ref-for-nested-configs-visibility①">visibility</a>
           <dd data-md>
            <p>"<a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#visibility-opaque" id="ref-for-visibility-opaque①①"><code>opaque</code></a>"</p>
          </dl>
         <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-frame-config-embedder-shared-storage-context" id="ref-for-fenced-frame-config-embedder-shared-storage-context①">embedder shared storage context</a>
         <dd data-md>
          <p>null</p>
        </dl>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>fencedFrameConfig</var> to <var>nestedConfigs</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>nestedConfigs</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate and convert auction ad config">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-and-convert-auction-ad-config">validate and convert auction ad config</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig②">AuctionAdConfig</a></code> <var>config</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a> <var>isTopLevel</var>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a> that these steps are not running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>auctionConfig</var> be a new <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config②">auction config</a>.</p>
     <li data-md>
      <p>Let <var>seller</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin④">parsing an https origin</a> with <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-seller" id="ref-for-dom-auctionadconfig-seller">seller</a></code>"].</p>
     <li data-md>
      <p>If <var>seller</var> is failure, then return failure.</p>
     <li data-md>
      <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①">seller</a> to <var>seller</var>.</p>
     <li data-md>
      <p>Let <var>decisionLogicURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-decisionlogicurl" id="ref-for-dom-auctionadconfig-decisionlogicurl">decisionLogicURL</a></code>"].</p>
     <li data-md>
      <p>If <var>decisionLogicURL</var> is failure, or it is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller②">seller</a>, then return failure.</p>
     <li data-md>
      <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url">decision logic url</a> to <var>decisionLogicURL</var>.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-trustedscoringsignalsurl" id="ref-for-dom-auctionadconfig-trustedscoringsignalsurl">trustedScoringSignalsURL</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>trustedScoringSignalsURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser③">URL parser</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-trustedscoringsignalsurl" id="ref-for-dom-auctionadconfig-trustedscoringsignalsurl①">trustedScoringSignalsURL</a></code>"].</p>
       <li data-md>
        <p>If <var>trustedScoringSignalsURL</var> is failure, or it is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller③">seller</a>, then return failure.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>trustedScoringSignalsURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-trusted-scoring-signals-url" id="ref-for-auction-config-trusted-scoring-signals-url">trusted scoring signals url</a> to <var>trustedScoringSignalsURL</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers">interestGroupBuyers</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>buyers</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">list</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①③">For each</a> <var>buyerString</var> in <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers①">interestGroupBuyers</a></code>"]:</p>
        <ol>
         <li data-md>
          <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin⑤">parsing an https origin</a> with <var>buyerString</var>.</p>
         <li data-md>
          <p>If <var>buyer</var> is failure, then return failure.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>buyer</var> to <var>buyers</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers②">interest group buyers</a> to <var>buyers</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals">auctionSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals">auction signals</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals①">auctionSignals</a></code>"].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals①">auction signals</a>:</p>
        <ul>
         <li data-md>
          <p>To parse the value <var>result</var>, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals②">auction signals</a> to the
result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string②">serializing a JavaScript value to a JSON string</a>.</p>
         <li data-md>
          <p>To handle an error, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals③">auction signals</a> to failure.</p>
        </ul>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellersignals" id="ref-for-dom-auctionadconfig-sellersignals">sellerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②①">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals">seller signals</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellersignals" id="ref-for-dom-auctionadconfig-sellersignals①">sellerSignals</a></code>"].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration①">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals①">seller signals</a>:</p>
        <ul>
         <li data-md>
          <p>To parse the value <var>result</var>, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals②">seller signals</a> to the
result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string③">serializing a JavaScript value to a JSON string</a>, given <var>result</var>.</p>
         <li data-md>
          <p>To handle an error, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals③">seller signals</a> to failure.</p>
        </ul>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionnonce" id="ref-for-dom-auctionadconfig-auctionnonce">auctionNonce</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②②">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">set</a> <var>auctionConfig</var>’s</p>
      <p><a data-link-type="dfn" href="#auction-config-auction-nonce" id="ref-for-auction-config-auction-nonce">auction nonce</a> to the result of running <a data-link-type="dfn" href="#get-uuid-from-string" id="ref-for-get-uuid-from-string">get uuid from string</a> with <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionnonce" id="ref-for-dom-auctionadconfig-auctionnonce①">auctionNonce</a></code>"].</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-additionalbids" id="ref-for-dom-auctionadconfig-additionalbids">additionalBids</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②③">exists</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑨">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑥">TypeError</a></code> if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionnonce" id="ref-for-dom-auctionadconfig-auctionnonce②">auctionNonce</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②④">exist</a>;</p>
         <li data-md>
          <p><var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers②">interestGroupBuyers</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑤">exist</a>, or is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty②">empty</a>;</p>
         <li data-md>
          <p><var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions">componentAuctions</a></code>"] is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty③">empty</a>.</p>
        </ul>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-expects-additional-bids" id="ref-for-auction-config-expects-additional-bids">expects additional bids</a> to true.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration②">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-additionalbids" id="ref-for-dom-auctionadconfig-additionalbids①">additionalBids</a></code>"]:</p>
        <p class="note" role="note"><span class="marker">Note:</span> The JavaScript code calling <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction③">runAdAuction()</a></code> is responsible for not resolving <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-additionalbids" id="ref-for-dom-auctionadconfig-additionalbids②">additionalBids</a></code>"] until an associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-initiator-type" id="ref-for-request-initiator-type">initiator type</a> is <code>"fetch"</code> and the <code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders">adAuctionHeaders</a></code> option set to <code>true</code> returns a response, or alternatively, not calling <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction④">runAdAuction()</a></code> until the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a> returns a response.</p>
        <ul>
         <li data-md>
          <p>To parse the value <var>result</var>:</p>
          <ol>
           <li data-md>
            <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-expects-additional-bids" id="ref-for-auction-config-expects-additional-bids①">expects additional bids</a> to false.</p>
          </ol>
         <li data-md>
          <p>To handle an error:</p>
          <ol>
           <li data-md>
            <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-expects-additional-bids" id="ref-for-auction-config-expects-additional-bids②">expects additional bids</a> to failure.</p>
          </ol>
        </ul>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignalsheaderadslot" id="ref-for-dom-auctionadconfig-directfromsellersignalsheaderadslot">directFromSellerSignalsHeaderAdSlot</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑥">exists</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration③">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignalsheaderadslot" id="ref-for-dom-auctionadconfig-directfromsellersignalsheaderadslot①">directFromSellerSignalsHeaderAdSlot</a></code>"]:</p>
        <p class="note" role="note"><span class="marker">Note:</span> The JavaScript code calling <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction⑤">runAdAuction()</a></code> is responsible for resolving <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-directfromsellersignalsheaderadslot" id="ref-for-dom-auctionadconfig-directfromsellersignalsheaderadslot②">directFromSellerSignalsHeaderAdSlot</a></code>"] only when the <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①③">Promise</a></code> returned from an associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request③">request</a>, whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-initiator-type" id="ref-for-request-initiator-type①">initiator type</a> is <code>"fetch"</code> and the <code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders①">adAuctionHeaders</a></code> option set to <code>true</code>, resolves or rejects. Otherwise, there
  will be a race condition that the worklet can run without the direct from seller signals that
  it needs. See <a href="#fetch-patch-for-auction-headers">§ 11 Fetch Patch for Auction Headers</a> for details.</p>
        <ul>
         <li data-md>
          <p>To parse the value <var>result</var>:</p>
          <ol>
           <li data-md>
            <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot">direct from seller signals header ad slot</a> to <var>result</var>.</p>
          </ol>
         <li data-md>
          <p>To handle an error:</p>
          <ol>
           <li data-md>
            <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot①">direct from seller signals header ad slot</a> to
failure.</p>
          </ol>
        </ul>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellertimeout" id="ref-for-dom-auctionadconfig-sellertimeout">sellerTimeout</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑦">exists</a>, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-timeout" id="ref-for-auction-config-seller-timeout">seller timeout</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellertimeout" id="ref-for-dom-auctionadconfig-sellertimeout①">sellerTimeout</a></code>"] in milliseconds
or 500 milliseconds, whichever is smaller.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellerexperimentgroupid" id="ref-for-dom-auctionadconfig-sellerexperimentgroupid">sellerExperimentGroupId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑧">exists</a>, then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-experiment-group-id" id="ref-for-auction-config-seller-experiment-group-id">seller experiment group id</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellerexperimentgroupid" id="ref-for-dom-auctionadconfig-sellerexperimentgroupid①">sellerExperimentGroupId</a></code>"].</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellercurrency" id="ref-for-dom-auctionadconfig-sellercurrency">sellerCurrency</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑨">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If the result of <a data-link-type="dfn" href="#check-whether-a-string-is-a-valid-currency-tag" id="ref-for-check-whether-a-string-is-a-valid-currency-tag">checking whether a string is a valid currency tag</a> on <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellercurrency" id="ref-for-dom-auctionadconfig-sellercurrency①">sellerCurrency</a></code>"] is false, then return failure.</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-currency" id="ref-for-auction-config-seller-currency">seller currency</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-sellercurrency" id="ref-for-dom-auctionadconfig-sellercurrency②">sellerCurrency</a></code>"].</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyersignals" id="ref-for-dom-auctionadconfig-perbuyersignals">perBuyerSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⓪">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals">per buyer signals</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyersignals" id="ref-for-dom-auctionadconfig-perbuyersignals①">perBuyerSignals</a></code>"].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration④">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals①">per buyer signals</a>:</p>
        <ul>
         <li data-md>
          <p>To parse the value <var>result</var>:</p>
          <ol>
           <li data-md>
            <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals②">per buyer signals</a> to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">strings</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <var>key</var> → <var>value</var> of <var>result</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin⑥">parsing an https origin</a> with <var>key</var>. If <var>buyer</var> is
 failure, throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑦">TypeError</a></code>.</p>
             <li data-md>
              <p>Let <var>signalsString</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string④">serializing a JavaScript value to a JSON string</a>,
given <var>value</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑤">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals③">per buyer signals</a>[<var>buyer</var>] to <var>signalsString</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>To handle an error, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals④">per buyer signals</a> to failure.</p>
        </ul>
      </ol>
     <li data-md>
      <p>For each <var>idlTimeoutMember</var>, <var>perBuyerTimeoutField</var>, <var>allBuyersTimeoutField</var> in the following table</p>
      <table class="data">
       <thead>
        <tr>
         <th>IDL timeout member
         <th>Per buyer timeout field
         <th>All buyers timeout field
       <tbody>
        <tr>
         <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyertimeouts" id="ref-for-dom-auctionadconfig-perbuyertimeouts">perBuyerTimeouts</a></code>"
         <td><a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts">per buyer timeouts</a>
         <td><a data-link-type="dfn" href="#auction-config-all-buyers-timeout" id="ref-for-auction-config-all-buyers-timeout">all buyers timeout</a>
        <tr>
         <td>"<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyercumulativetimeouts" id="ref-for-dom-auctionadconfig-perbuyercumulativetimeouts">perBuyerCumulativeTimeouts</a></code>"
         <td><a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts">per buyer cumulative timeouts</a>
         <td><a data-link-type="dfn" href="#auction-config-all-buyers-cumulative-timeout" id="ref-for-auction-config-all-buyers-cumulative-timeout">all buyers cumulative timeout</a>
      </table>
      <ol>
       <li data-md>
        <p>If <var>config</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③①">contains</a> <var>idlTimeoutMember</var>:</p>
        <ol>
         <li data-md>
          <p>Set <var>auctionConfig</var>’s <var>perBuyerTimeoutField</var> to <var>config</var>[<var>idlTimeoutMember</var>].</p>
         <li data-md>
          <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration⑤">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>auctionConfig</var>’s <var>perBuyerTimeoutField</var>:</p>
          <ul>
           <li data-md>
            <p>To parse the value <var>result</var>:</p>
            <ol>
             <li data-md>
              <p>Set <var>auctionConfig</var>’s <var>perBuyerTimeoutField</var> to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑤">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values④">values</a> are <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration">durations</a> in milliseconds.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">For each</a> <var>key</var> → <var>value</var> of <var>result</var>:</p>
              <ol>
               <li data-md>
                <p>If <var>perBuyerTimeoutField</var> is "<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyertimeouts" id="ref-for-dom-auctionadconfig-perbuyertimeouts①">perBuyerTimeouts</a></code>", and <var>value</var> > 500, then set <var>value</var> to 500.</p>
               <li data-md>
                <p>If <var>key</var> is "*", then set <var>auctionConfig</var>’s <var>allBuyersTimeoutField</var> to <var>value</var> in
milliseconds, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
               <li data-md>
                <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin⑦">parsing an https origin</a> with <var>key</var>. If <var>buyer</var> is
failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⓪">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑧">TypeError</a></code>.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑥">Set</a> <var>auctionConfig</var>’s <var>perBuyerTimeoutField</var>[<var>buyer</var>] to <var>value</var> in milliseconds.</p>
              </ol>
            </ol>
           <li data-md>
            <p>To handle an error, set <var>auctionConfig</var>’s <var>perBuyerTimeoutField</var> to failure.</p>
          </ul>
        </ol>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits">perBuyerGroupLimits</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③②">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits①">perBuyerGroupLimits</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>value</var> is 0, then return failure.</p>
       <li data-md>
        <p>If <var>key</var> is "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-group-limit" id="ref-for-auction-config-all-buyers-group-limit">all buyers group limit</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin⑧">parsing an https origin</a> with <var>key</var>.</p>
       <li data-md>
        <p>If <var>buyer</var> is failure, then return failure.</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits">per buyer group limits</a>[<var>buyer</var>] to <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerexperimentgroupids" id="ref-for-dom-auctionadconfig-perbuyerexperimentgroupids">perBuyerExperimentGroupIds</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③③">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerexperimentgroupids" id="ref-for-dom-auctionadconfig-perbuyerexperimentgroupids①">perBuyerExperimentGroupIds</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>key</var> is "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyer-experiment-group-id" id="ref-for-auction-config-all-buyer-experiment-group-id">all buyer experiment group id</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin⑨">parsing an https origin</a> with <var>key</var>.</p>
       <li data-md>
        <p>If <var>buyer</var> is failure, then return failure.</p>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-experiment-group-ids" id="ref-for-auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</a>[<var>buyer</var>] to <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals">perBuyerPrioritySignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③④">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑥">for each</a> <var>key</var> → <var>value</var> of <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals①">perBuyerPrioritySignals</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>Let <var>signals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys④">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑤">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑤">double</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑦">for each</a> <var>k</var> → <var>v</var> of <var>value</var>:</p>
        <ol>
         <li data-md>
          <p>If <var>k</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with">starts with</a> "browserSignals.", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①⑨">TypeError</a></code>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑦">Set</a> <var>signals</var>[<var>k</var>] to <var>v</var>.</p>
        </ol>
       <li data-md>
        <p>If <var>key</var> is "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-priority-signals" id="ref-for-auction-config-all-buyers-priority-signals">all buyers priority signals</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
       <li data-md>
        <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①⓪">parsing an https origin</a> with <var>key</var>.</p>
       <li data-md>
        <p>If <var>buyer</var> is failure, then return failure.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑧">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-priority-signals" id="ref-for-auction-config-per-buyer-priority-signals">per buyer priority signals</a>[<var>buyer</var>] to <var>signals</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyercurrencies" id="ref-for-dom-auctionadconfig-perbuyercurrencies">perBuyerCurrencies</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⑤">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies">per buyer currencies</a> to <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyercurrencies" id="ref-for-dom-auctionadconfig-perbuyercurrencies①">perBuyerCurrencies</a></code>"]</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-an-input-promise-in-configuration" id="ref-for-handle-an-input-promise-in-configuration⑥">Handle an input promise in configuration</a> given <var>auctionConfig</var> and <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies①">per buyer currencies</a>:</p>
        <ul>
         <li data-md>
          <p>To parse the value <var>result</var>:</p>
          <ol>
           <li data-md>
            <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies②">per buyer currencies</a> to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑤">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑥">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑥">values</a> are <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag">currency tags</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑧">for each</a> <var>key</var> → <var>value</var> of <var>result</var>:</p>
            <ol>
             <li data-md>
              <p>If the result of <a data-link-type="dfn" href="#check-whether-a-string-is-a-valid-currency-tag" id="ref-for-check-whether-a-string-is-a-valid-currency-tag①">checking whether a string is a valid currency tag</a> given <var>value</var> is
false, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②②">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⓪">TypeError</a></code>.</p>
             <li data-md>
              <p>If <var>key</var> is "*", then set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-currency" id="ref-for-auction-config-all-buyers-currency">all buyers currency</a> to <var>value</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
             <li data-md>
              <p>Let <var>buyer</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①①">parsing an https origin</a> with <var>key</var>. If <var>buyer</var> is
failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②①">TypeError</a></code>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set⑨">Set</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies③">per buyer currencies</a>[<var>buyer</var>] to <var>value</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>To handle an error, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies④">per buyer currencies</a> to failure.</p>
        </ul>
      </ol>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions①">componentAuctions</a></code>"] is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty④">empty</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-interestgroupbuyers" id="ref-for-dom-auctionadconfig-interestgroupbuyers③">interestGroupBuyers</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⑥">exists</a> and is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty⑤">empty</a>,
then return failure.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①④">For each</a> <var>component</var> in <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions②">componentAuctions</a></code>"]:</p>
      <ol>
       <li data-md>
        <p>If <var>isTopLevel</var> is false, then return failure.</p>
       <li data-md>
        <p>Let <var>componentAuction</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-auction-ad-config" id="ref-for-validate-and-convert-auction-ad-config①">validate and convert auction ad config</a> with <var>component</var> and false.</p>
       <li data-md>
        <p>If <var>componentAuction</var> is failure, then return failure.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> <var>componentAuction</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions②">component auctions</a>.</p>
      </ol>
     <li data-md>
      <p>Set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-config-idl" id="ref-for-auction-config-config-idl">config idl</a> to <var>config</var>.</p>
     <li data-md>
      <p>If <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-resolvetoconfig" id="ref-for-dom-auctionadconfig-resolvetoconfig">resolveToConfig</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⑦">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-resolve-to-config" id="ref-for-auction-config-resolve-to-config②">resolve to config</a> be <var>config</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-resolvetoconfig" id="ref-for-dom-auctionadconfig-resolvetoconfig①">resolveToConfig</a></code>"].</p>
       <li data-md>
        <p>TODO: What should happen if this rejects?</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment">Upon fulfillment</a> of <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-resolve-to-config" id="ref-for-auction-config-resolve-to-config③">resolve to config</a> with <var>resolveToConfig</var>, set <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-resolve-to-config" id="ref-for-auction-config-resolve-to-config④">resolve to config</a> to <var>resolveToConfig</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>auctionConfig</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="parse an https origin">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-https-origin">parse an https origin</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">string</a> <var>input</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>url</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser④">URL parser</a> on <var>input</var>.</p>
     <li data-md>
      <p>If <var>url</var> is failure, or its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme④">scheme</a> is not "<code>https</code>", then return failure.</p>
     <li data-md>
      <p>Return <var>url</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="update bid count">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-bid-count">update bid count</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①⑤">interest group</a>s <var>igs</var>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑤">For each</a> <var>ig</var> in <var>igs</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>loadedIg</var> be the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①⑥">interest group</a> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②①">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②⓪">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②④">owner</a> is <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②⑤">owner</a> and whose <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑦">name</a> is <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑧">name</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a> if none found.</p>
       <li data-md>
        <p>If the most recent entry in <var>loadedIg</var>’s <a data-link-type="dfn" href="#interest-group-bid-counts" id="ref-for-interest-group-bid-counts①">bid counts</a> corresponds to
the current day in UTC, increment its count. If not, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-insert" id="ref-for-list-insert①">insert</a> a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple①">tuple</a> of
the time set to the current UTC day and a count of 1.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace">Replace</a> the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①⑦">interest group</a> that has <var>loadedIg</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②⑥">owner</a> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name⑨">name</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②②">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②①">interest group set</a> with <var>loadedIg</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="update previous wins">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-previous-wins">update previous wins</dfn> given a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid">generated bid</a> <var>bid</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>ig</var> be <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group④">interest group</a>.</p>
     <li data-md>
      <p>Let <var>loadedIg</var> be the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①⑧">interest group</a> from the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②③">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②②">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②⑦">owner</a> is <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②⑧">owner</a> and whose <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①⓪">name</a> is <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①①">name</a>, return if none found.</p>
     <li data-md>
      <p>Let <var>win</var> be a new <a data-link-type="dfn" href="#previous-win" id="ref-for-previous-win">previous win</a>.</p>
     <li data-md>
      <p>Set <var>win</var>’s <a data-link-type="dfn" href="#previous-win-time" id="ref-for-previous-win-time">time</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time④">current wall time</a>.</p>
     <li data-md>
      <p>Let <var>ad</var> be the <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor">ad descriptor</a> from <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②">ads</a> whose <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url⑤">url</a> is <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor④">ad descriptor</a> <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url⑥">url</a>, return if none found.</p>
     <li data-md>
      <p>Set <var>win</var>’s <a data-link-type="dfn" href="#previous-win-ad-json" id="ref-for-previous-win-ad-json">ad json</a> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string">serializing an Infra value to a JSON string</a> given <var>ad</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> <var>win</var> to <var>loadedIg</var>’s <a data-link-type="dfn" href="#interest-group-previous-wins" id="ref-for-interest-group-previous-wins①">previous wins</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace①">Replace</a> the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group①⑨">interest group</a> that has <var>loadedIg</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner②⑨">owner</a> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①②">name</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②④">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②③">interest group set</a> with <var>loadedIg</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build bid generators map">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-bid-generators-map">build bid generators map</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config③">auction config</a> <var>auctionConfig</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>bidGenerators</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑥">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑦">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑦">values</a> are <a data-link-type="dfn" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator">per buyer bid generators</a>.</p>
     <li data-md>
      <p>Let <var>negativeTargetInfo</var> be a new <a data-link-type="dfn" href="#negative-target-info" id="ref-for-negative-target-info">negative target info</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑥">For each</a> <var>buyer</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers③">interest group buyers</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑦">For each</a> <var>ig</var> of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②⑤">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②④">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③⓪">owner</a> is <var>buyer</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>igName</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①③">name</a>.</p>
         <li data-md>
          <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key②">additional bid key</a> is not null:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⓪">Set</a> <var>negativeTargetInfo</var>[(<var>buyer</var>, <var>igName</var>)] to (<var>ig</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin③">joining origin</a>, <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key③">additional bid key</a>).</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">Continue</a> if any of the following conditions hold:</p>
          <ul>
           <li data-md>
            <p><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url②">bidding url</a> is null;</p>
           <li data-md>
            <p><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads③">ads</a> is null, or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is empty</a>.</p>
          </ul>
         <li data-md>
          <p>Let <var>signalsUrl</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url③">trusted bidding signals url</a>.</p>
         <li data-md>
          <p>Let <var>joiningOrigin</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin④">joining origin</a>.</p>
         <li data-md>
          <p>If <var>bidGenerators</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⑧">contain</a> <var>buyer</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>perBuyerGenerator</var> be a new <a data-link-type="dfn" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator①">per buyer bid generator</a>.</p>
           <li data-md>
            <p>Let <var>perSignalsUrlGenerator</var> be a new <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator">per signals url bid generator</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①①">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①②">Set</a> <var>perBuyerGenerator</var>[<var>signalsUrl</var>] to <var>perSignalsUrlGenerator</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①③">Set</a> <var>bidGenerators</var>[<var>buyer</var>] to <var>perBuyerGenerator</var>.</p>
           <li data-md>
            <p>TODO: add a perBiddingScriptUrlGenerator layer that replaces the list of IGs with a map
from biddingScriptUrl to a list of IGs.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Let <var>perBuyerGenerator</var> be <var>bidGenerators</var>[<var>buyer</var>].</p>
           <li data-md>
            <p>If <var>perBuyerGenerator</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③⑨">contain</a> <var>signalsUrl</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>perSignalsUrlGenerator</var> be a new <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator①">per signals url bid generator</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①④">Set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑤">Set</a> <var>perBuyerGenerator</var>[<var>signalsUrl</var>] to <var>perSignalsUrlGenerator</var>.</p>
            </ol>
           <li data-md>
            <p>Otherwise:</p>
            <ol>
             <li data-md>
              <p>Let <var>perSignalsUrlGenerator</var> be <var>perBuyerGenerator</var>[<var>signalsUrl</var>].</p>
             <li data-md>
              <p>If <var>perSignalsUrlGenerator</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④⓪">contain</a> <var>joiningOrigin</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑥">set</a> <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>] to « <var>ig</var> ».</p>
             <li data-md>
              <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">append</a> <var>ig</var> to <var>perSignalsUrlGenerator</var>[<var>joiningOrigin</var>].</p>
            </ol>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Return « <var>bidGenerators</var>, <var>negativeTargetInfo</var> ».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="generate a bid">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-a-bid">generate a bid</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">ordered map</a> <var>allTrustedBiddingSignals</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">string</a> <var>auctionSignals</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-biddingbrowsersignals" id="ref-for-dictdef-biddingbrowsersignals">BiddingBrowserSignals</a></code> <var>browserSignals</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">string</a>-or-null <var>perBuyerSignals</var>,
a <code class="idl"><a data-link-type="idl" href="#dictdef-directfromsellersignalsforbuyer" id="ref-for-dictdef-directfromsellersignalsforbuyer">DirectFromSellerSignalsForBuyer</a></code> <var>directFromSellerSignalsForBuyer</var>, a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①">duration</a> <var>perBuyerTimeout</var> in milliseconds, a <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag①">currency tag</a> <var>expectedCurrency</var>, an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②⓪">interest group</a> <var>ig</var>,
and a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment①">moment</a> <var>auctionStartTime</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>igGenerateBid</var> be the result of <a data-link-type="dfn" href="#build-an-interest-group-passed-to-generatebid" id="ref-for-build-an-interest-group-passed-to-generatebid">building an interest group passed to generateBid</a> with <var>ig</var>.</p>
     <li data-md>
      <p>Set <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-joincount" id="ref-for-dom-biddingbrowsersignals-joincount">joinCount</a></code>"] to the sum of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-join-counts" id="ref-for-interest-group-join-counts②">join counts</a> for all days within the last 30 days.</p>
     <li data-md>
      <p>Set <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-recency" id="ref-for-dom-biddingbrowsersignals-recency">recency</a></code>"] to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time⑤">current wall time</a> minus <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-join-time" id="ref-for-interest-group-join-time①">join time</a>, in milliseconds.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑦">Set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-bidcount" id="ref-for-dom-biddingbrowsersignals-bidcount">bidCount</a></code>"] to the sum of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bid-counts" id="ref-for-interest-group-bid-counts②">bid counts</a> for all days within the last 30 days.</p>
     <li data-md>
      <p>Let <var>prevWins</var> be a new <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑦">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="#dictdef-previouswin" id="ref-for-dictdef-previouswin">PreviousWin</a></code>></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑧">For each</a> <var>prevWin</var> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-previous-wins" id="ref-for-interest-group-previous-wins②">previous wins</a> for all days within the
the last 30 days:</p>
      <ol>
       <li data-md>
        <p>Let <var>timeDelta</var> be <var>auctionStartTime</var> minus <var>prevWin</var>’s <a data-link-type="dfn" href="#previous-win-time" id="ref-for-previous-win-time①">time</a>.</p>
       <li data-md>
        <p>Set <var>timeDelta</var> to 0 if <var>timeDelta</var> is negative, <var>timeDelta</var>’s nearest second (rounding down)
otherwise.</p>
       <li data-md>
        <p>Let <var>prevWinIDL</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-previouswin" id="ref-for-dictdef-previouswin①">PreviousWin</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑧">Set</a> <var>prevWinIDL</var>["<code class="idl"><a data-link-type="idl" href="#dom-previouswin-timedelta" id="ref-for-dom-previouswin-timedelta">timeDelta</a></code>"] to <var>timeDelta</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①⑨">Set</a> <var>prevWinIDL</var>["<code class="idl"><a data-link-type="idl" href="#dom-previouswin-adjson" id="ref-for-dom-previouswin-adjson">adJSON</a></code>"] to <var>prevWin</var>’s <a data-link-type="dfn" href="#previous-win-ad-json" id="ref-for-previous-win-ad-json①">ad json</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑦">Append</a> <var>prevWinIDL</var> to <var>prevWins</var>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⓪">Set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-prevwinsms" id="ref-for-dom-biddingbrowsersignals-prevwinsms">prevWinsMs</a></code>"] to <var>prevWins</var>.</p>
     <li data-md>
      <p>Let <var>biddingScript</var> be the result of <a data-link-type="dfn" href="#fetch-script" id="ref-for-fetch-script">fetching script</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url③">bidding url</a>.</p>
     <li data-md>
      <p>If <var>biddingScript</var> is failure, return failure.</p>
     <li data-md>
      <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url②">bidding wasm helper url</a> is not null:</p>
      <ol>
       <li data-md>
        <p>Let <var>wasmModuleObject</var> be the result of <a data-link-type="dfn" href="#fetch-webassembly" id="ref-for-fetch-webassembly">fetching WebAssembly</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url③">bidding wasm helper url</a>.</p>
       <li data-md>
        <p>If <var>wasmModuleObject</var> is not failure, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②①">set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-wasmhelper" id="ref-for-dom-biddingbrowsersignals-wasmhelper">wasmHelper</a></code>"] to <var>wasmModuleObject</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>trustedBiddingSignals</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑦">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">strings</a> and
whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑧">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤">any</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑨">For each</a> <var>key</var> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys②">trusted bidding signals keys</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>allTrustedBiddingSignals</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①③">ordered map</a> and <var>allTrustedBiddingSignals</var>[<var>key</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④①">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②②">set</a> <var>trustedBiddingSignals</var>[<var>key</var>] to <var>allTrustedBiddingSignals</var>[<var>key</var>].</p>
      </ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#evaluate-a-bidding-script" id="ref-for-evaluate-a-bidding-script">evaluating a bidding script</a> with <var>biddingScript</var>, <var>ig</var>, <var>expectedCurrency</var>, <var>igGenerateBid</var>, <var>auctionSignals</var>, <var>perBuyerSignals</var>, <var>trustedBiddingSignals</var>, <var>browserSignals</var>, <var>directFromSellerSignalsForBuyer</var>, and <var>perBuyerTimeout</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="generate and score bids">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="generate-and-score-bids">generate and score bids</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config④">auction config</a> <var>auctionConfig</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑤">auction config</a>-or-null <var>topLevelAuctionConfig</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object">global object</a> <var>global</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑧">origin</a> <var>topLevelOrigin</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②①">interest groups</a> <var>bidIgs</var>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>auctionStartTime</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time⑥">current wall time</a>.</p>
     <li data-md>
      <p>Let <var>decisionLogicScript</var> be the result of <a data-link-type="dfn" href="#fetch-script" id="ref-for-fetch-script①">fetching script</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url①">decision logic url</a>.</p>
     <li data-md>
      <p>If <var>decisionLogicScript</var> is failure, return null.</p>
     <li data-md>
      <p>Let « <var>bidGenerators</var>, <var>negativeTargetInfo</var> » be the result of running <a data-link-type="dfn" href="#build-bid-generators-map" id="ref-for-build-bid-generators-map">build bid generators map</a> with <var>auctionConfig</var>.</p>
     <li data-md>
      <p>Let <var>leadingBidInfo</var> be a new <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info②">leading bid info</a>.</p>
     <li data-md>
      <p>Let <var>queue</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue" id="ref-for-starting-a-new-parallel-queue②">starting a new parallel queue</a>.</p>
     <li data-md>
      <p>Let <var>capturedAuctionHeaders</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑤">associated Document’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①">node navigable’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable">traversable navigable’s</a> <a data-link-type="dfn" href="#traversable-navigable-captured-ad-auction-signals-headers" id="ref-for-traversable-navigable-captured-ad-auction-signals-headers">captured ad auction signals headers</a>.</p>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions③">component auctions</a> are not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a> <var>topLevelAuctionConfig</var> is null.</p>
       <li data-md>
        <p>Let <var>pendingComponentAuctions</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions④">component auctions</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑤">size</a>.</p>
       <li data-md>
        <p>Let <var>topLevelDirectFromSellerSignalsForSeller</var> be null.</p>
       <li data-md>
        <p>Let <var>topLevelDirectFromSellerSignalsRetrieved</var> be false.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⓪">For each</a> <var>component</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions⑤">component auctions</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps②">enqueue the following steps</a> to <var>queue</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>compWinner</var> be the result of running <a data-link-type="dfn" href="#generate-and-score-bids" id="ref-for-generate-and-score-bids①">generate and score bids</a> with <var>component</var>, <var>auctionConfig</var>, <var>global</var>, and <var>topLevelOrigin</var>.</p>
         <li data-md>
          <p>If <var>compWinner</var> is failure, return failure.</p>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#recursively-wait-until-configuration-input-promises-resolve" id="ref-for-recursively-wait-until-configuration-input-promises-resolve">recursively wait until configuration input promises resolve</a> given <var>auctionConfig</var> returns
failure, return failure.</p>
         <li data-md>
          <p>If <var>topLevelDirectFromSellerSignalsRetrieved</var> is false:</p>
          <ol>
           <li data-md>
            <p>Let <var>topLevelDirectFromSellerSignals</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals" id="ref-for-get-direct-from-seller-signals">get direct from seller signals</a> given <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller④">seller</a>, <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot②">direct from seller signals header ad slot</a>, and <var>capturedAuctionHeaders</var>.</p>
           <li data-md>
            <p>Let <var>topLevelDirectFromSellerSignalsForSeller</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals-for-a-seller" id="ref-for-get-direct-from-seller-signals-for-a-seller">get direct from seller signals for a seller</a> given <var>topLevelDirectFromSellerSignals</var>.</p>
           <li data-md>
            <p>Set <var>topLevelDirectFromSellerSignalsRetrieved</var> to true.</p>
          </ol>
         <li data-md>
          <p>If <var>compWinner</var> is not null, then run <a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid">score and rank a bid</a> with <var>auctionConfig</var>, <var>compWinner</var>, <var>leadingBidInfo</var>, <var>decisionLogicScript</var>, null, "top-level-auction", null, and <var>topLevelOrigin</var>.</p>
         <li data-md>
          <p>Decrement <var>pendingComponentAuctions</var> by 1.</p>
        </ol>
       <li data-md>
        <p>Wait until <var>pendingComponentAuctions</var> is 0.</p>
       <li data-md>
        <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid③">leading bid</a> is null, return null.</p>
       <li data-md>
        <p>Let <var>winningComponentConfig</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config">auction config</a>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config①">auction config</a> to <var>auctionConfig</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller①">component seller</a> to <var>winningComponentConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑤">seller</a>.</p>
       <li data-md>
        <p>Let « <var>topLevelSellerSignals</var>, unusedTopLevelReportResultBrowserSignals » be the result of
running <a data-link-type="dfn" href="#report-result" id="ref-for-report-result">report result</a> with <var>leadingBidInfo</var>, <var>topLevelDirectFromSellerSignalsForSeller</var>, <var>winningComponentConfig</var>, and <var>global</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config②">auction config</a> to <var>winningComponentConfig</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller②">component seller</a> to null.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-level-seller" id="ref-for-leading-bid-info-top-level-seller">top level seller</a> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑥">seller</a>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-level-seller-signals" id="ref-for-leading-bid-info-top-level-seller-signals">top level seller signals</a> to <var>topLevelSellerSignals</var>.</p>
       <li data-md>
        <p>Let <var>directFromSellerSignals</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals" id="ref-for-get-direct-from-seller-signals①">get direct from seller signals</a> given <var>winningComponentConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑦">seller</a>, <var>winningComponentConfig</var>’s <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot③">direct from seller signals header ad slot</a>, and <var>capturedAuctionHeaders</var>.</p>
       <li data-md>
        <p>Let <var>directFromSellerSignalsForSeller</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals-for-a-seller" id="ref-for-get-direct-from-seller-signals-for-a-seller①">get direct from seller signals for a seller</a> given <var>directFromSellerSignals</var>.</p>
       <li data-md>
        <p>Let <var>directFromSellerSignalsForBuyer</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals-for-a-buyer" id="ref-for-get-direct-from-seller-signals-for-a-buyer">get direct from seller signals for a buyer</a> with <var>directFromSellerSignals</var>, and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid④">leading bid</a>'s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group⑤">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③①">owner</a>.</p>
       <li data-md>
        <p>Let « <var>sellerSignals</var>, <var>reportResultBrowserSignals</var> » be the result of running <a data-link-type="dfn" href="#report-result" id="ref-for-report-result①">report result</a> with <var>leadingBidInfo</var>, <var>directFromSellerSignalsForSeller</var>, null, and <var>global</var>.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#report-win" id="ref-for-report-win">report win</a> with <var>leadingBidInfo</var>, <var>sellerSignals</var>, <var>reportResultBrowserSignals</var>, and <var>directFromSellerSignalsForBuyer</var>.</p>
       <li data-md>
        <p>Return <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid⑤">leading bid</a>.</p>
      </ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#wait-until-configuration-input-promises-resolve" id="ref-for-wait-until-configuration-input-promises-resolve">waiting until configuration input promises resolve</a> given <var>auctionConfig</var> returns failure,
then return failure.</p>
     <li data-md>
      <p>Let <var>allBuyersExperimentGroupId</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyer-experiment-group-id" id="ref-for-auction-config-all-buyer-experiment-group-id①">all buyer experiment group id</a>.</p>
     <li data-md>
      <p>Let <var>allBuyersGroupLimit</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-group-limit" id="ref-for-auction-config-all-buyers-group-limit①">all buyers group limit</a>.</p>
     <li data-md>
      <p>Let <var>auctionSignals</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals④">auction signals</a>.</p>
     <li data-md>
      <p>Let <var>directFromSellerSignals</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals" id="ref-for-get-direct-from-seller-signals②">get direct from seller signals</a> given <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑧">seller</a>, <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot④">direct from seller signals header ad slot</a>, and <var>capturedAuctionHeaders</var>.</p>
     <li data-md>
      <p>Let <var>directFromSellerSignalsForSeller</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals-for-a-seller" id="ref-for-get-direct-from-seller-signals-for-a-seller②">get direct from seller signals for a seller</a> given <var>directFromSellerSignals</var>.</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be a <code class="idl"><a data-link-type="idl" href="#dictdef-biddingbrowsersignals" id="ref-for-dictdef-biddingbrowsersignals①">BiddingBrowserSignals</a></code>.</p>
     <li data-md>
      <p>Let <var>topLevelHost</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-host-serializer" id="ref-for-concept-host-serializer">host serializer</a> on <var>topLevelOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host①">host</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②③">Set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-topwindowhostname" id="ref-for-dom-biddingbrowsersignals-topwindowhostname">topWindowHostname</a></code>"] to <var>topLevelHost</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②④">Set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-seller" id="ref-for-dom-biddingbrowsersignals-seller">seller</a></code>"] to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin③">serialization</a> of <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller⑨">seller</a>.</p>
     <li data-md>
      <p>Let <var>auctionLevel</var> be "single-level-auction".</p>
     <li data-md>
      <p>Let <var>componentAuctionExpectedCurrency</var> be null.</p>
     <li data-md>
      <p>If <var>topLevelAuctionConfig</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑤">Set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-toplevelseller" id="ref-for-dom-biddingbrowsersignals-toplevelseller">topLevelSeller</a></code>"]] to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin④">serialization</a> of <var>topLevelAuctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①⓪">seller</a>.</p>
       <li data-md>
        <p>Set <var>auctionLevel</var> to "component-auction".</p>
       <li data-md>
        <p>Set <var>componentAuctionExpectedCurrency</var> to the result of <a data-link-type="dfn" href="#look-up-per-buyer-currency" id="ref-for-look-up-per-buyer-currency">looking up per-buyer currency</a> with <var>topLevelAuctionConfig</var> and <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①①">seller</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>pendingBuyers</var> be <var>bidGenerators</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size①">size</a>.</p>
     <li data-md>
      <p>Let <var>additionalBids</var> be the result of running <a data-link-type="dfn" href="#validate-and-convert-additional-bids" id="ref-for-validate-and-convert-additional-bids">validate and convert additional bids</a> with <var>auctionConfig</var>, <var>topLevelAuctionConfig</var>, <var>negativeTargetInfo</var> and <var>global</var>.</p>
     <li data-md>
      <p>Let <var>pendingAdditionalBids</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑥">size</a> of <var>additionalBids</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②①">For each</a> <var>additionalBid</var> of <var>additionalBids</var>, run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid①">Score and rank a bid</a> with <var>auctionConfig</var>, <var>additionalBid</var>, <var>leadingBidInfo</var>, <var>decisionLogicScript</var>, null, <var>auctionLevel</var>, <var>componentAuctionExpectedCurrency</var>, and <var>topLevelOrigin</var>.</p>
       <li data-md>
        <p>Decrement <var>pendingAdditionalBids</var> by 1.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑨">For each</a> <var>buyer</var> → <var>perBuyerGenerator</var> of <var>bidGenerators</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps" id="ref-for-enqueue-the-following-steps③">enqueue the following steps</a> to <var>queue</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>perBuyerCumulativeTimeout</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-cumulative-timeout" id="ref-for-auction-config-all-buyers-cumulative-timeout①">all buyers cumulative timeout</a>.</p>
       <li data-md>
        <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts①">per buyer cumulative timeouts</a> is not null and <a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts②">per buyer cumulative timeouts</a>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④②">exists</a>, then set <var>perBuyerCumulativeTimeout</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts③">per buyer cumulative timeouts</a>[<var>buyer</var>].</p>
       <li data-md>
        <p>Let <var>buyerExperimentGroupId</var> be <var>allBuyersExperimentGroupId</var>.</p>
       <li data-md>
        <p>Let <var>perBuyerExperimentGroupIds</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-experiment-group-ids" id="ref-for-auction-config-per-buyer-experiment-group-ids①">per buyer experiment group ids</a>.</p>
       <li data-md>
        <p>If <var>perBuyerExperimentGroupIds</var> is not null and <var>perBuyerExperimentGroupIds</var>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④③">exists</a>, then set <var>buyerExperimentGroupId</var> to <var>perBuyerExperimentGroupIds</var>[<var>buyer</var>].</p>
       <li data-md>
        <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="apply-interest-groups-limits-to-prioritized-list">Apply interest groups limits to prioritized list</dfn>:</p>
        <ol>
         <li data-md>
          <p>Let <var>buyerGroupLimit</var> be <var>allBuyersGroupLimit</var>.</p>
         <li data-md>
          <p>Let <var>perBuyerGroupLimits</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits①">per buyer group limits</a>.</p>
         <li data-md>
          <p>If <var>perBuyerGroupLimits</var> is not null and <var>perBuyerGroupLimits</var>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④④">exists</a>, then
set <var>buyerGroupLimit</var> to <var>perBuyerGroupLimits</var>[<var>buyer</var>].</p>
         <li data-md>
          <p>Let <var>igs</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">list</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②②">interest groups</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⓪">For each</a> signalsUrl → <var>perSignalsUrlGenerator</var> of <var>perBuyerGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①①">For each</a> joiningOrigin → <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend">Extend</a> <var>igs</var> with <var>groups</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-descending-order" id="ref-for-list-sort-in-descending-order②">Sort in descending order</a> <var>igs</var>, with <var>a</var> being less than <var>b</var> if <var>a</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority②">priority</a> is less than <var>b</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority③">priority</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑧">Remove</a> the first <var>buyerGroupLimit</var> items from <var>igs</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①②">For each</a> signalsUrl → <var>perSignalsUrlGenerator</var> of <var>perBuyerGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①③">For each</a> joiningOrigin → <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove⑨">Remove</a> from <var>groups</var> any <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②③">interest group</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contained</a> in <var>igs</var>.</p>
            </ol>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>perBuyerSignals</var> be null.</p>
       <li data-md>
        <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals⑤">per buyer signals</a> is not null and <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals⑥">per buyer signals</a>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④⑤">exists</a>, then set <var>perBuyerSignals</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals⑦">per buyer signals</a>[<var>buyer</var>].</p>
       <li data-md>
        <p>Let <var>perBuyerTimeout</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-timeout" id="ref-for-auction-config-all-buyers-timeout①">all buyers timeout</a>.</p>
       <li data-md>
        <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts①">per buyer timeouts</a> is not null and <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts②">per buyer timeouts</a>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④⑥">exists</a>, then set <var>perBuyerTimeout</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts③">per buyer timeouts</a>[<var>buyer</var>].</p>
       <li data-md>
        <p>Let <var>expectedCurrency</var> be the result of <a data-link-type="dfn" href="#look-up-per-buyer-currency" id="ref-for-look-up-per-buyer-currency①">looking up per-buyer currency</a> with <var>auctionConfig</var> and <var>buyer</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①④">For each</a> <var>signalsUrl</var> → <var>perSignalsUrlGenerator</var> of <var>perBuyerGenerator</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>keys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a>.</p>
         <li data-md>
          <p>Let <var>igNames</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">ordered set</a>.</p>
         <li data-md>
          <p>Let <var>fetchSignalStartTime</var> be <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time">current monotonic time</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⑤">For each</a> joiningOrigin → <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②②">For each</a> <var>ig</var> of <var>groups</var>:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys③">trusted bidding signals keys</a> to <var>keys</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">Append</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①④">name</a> to <var>igNames</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Let <var>biddingSignalsUrl</var> be the result of <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url">building trusted bidding signals url</a> with <var>signalsUrl</var>, <var>keys</var>, <var>igNames</var>, <var>buyerExperimentGroupId</var>, and <var>topLevelOrigin</var>.</p>
         <li data-md>
          <p>Let « <var>allTrustedBiddingSignals</var>, <var>dataVersion</var> » be the result of <a data-link-type="dfn" href="#fetch-trusted-signals" id="ref-for-fetch-trusted-signals">fetching trusted signals</a> with <var>biddingSignalsUrl</var> and true.</p>
         <li data-md>
          <p>If <var>dataVersion</var> is not null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑥">set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-dataversion" id="ref-for-dom-biddingbrowsersignals-dataversion">dataVersion</a></code>"] to <var>dataVersion</var>.</p>
         <li data-md>
          <p>Let <var>fetchSignalDuration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from">duration from</a> <var>fetchSignalStartTime</var> to <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time①">current monotonic time</a>, in milliseconds.</p>
         <li data-md>
          <p>If <var>perBuyerCumulativeTimeout</var> is not null:</p>
          <ol>
           <li data-md>
            <p>Decrement <var>perBuyerCumulativeTimeout</var> by <var>fetchSignalDuration</var>.</p>
           <li data-md>
            <p>If <var>perBuyerCumulativeTimeout</var> is negative, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">break</a>;</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⑥">For each</a> joiningOrigin → <var>groups</var> of <var>perSignalsUrlGenerator</var>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②③">For each</a> <var>ig</var> of <var>groups</var>:</p>
            <ol>
             <li data-md>
              <p>If <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url④">bidding url</a> is null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>.</p>
             <li data-md>
              <p>If <var>perBuyerCumulativeTimeout</var> is not null and is less than <var>perBuyerTimeout</var>, then set <var>perBuyerTimeout</var> to <var>perBuyerCumulativeTimeout</var>.</p>
             <li data-md>
              <p>Let <var>generateBidStartTime</var> be <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time②">current monotonic time</a>.</p>
             <li data-md>
              <p>Let <var>generatedBid</var> be the result of <a data-link-type="dfn" href="#generate-a-bid" id="ref-for-generate-a-bid">generate a bid</a> given <var>allTrustedBiddingSignals</var>, <var>auctionSignals</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clone" id="ref-for-map-clone">clone</a> of <var>browserSignals</var>, <var>perBuyerSignals</var>, <var>perBuyerTimeout</var>, <var>expectedCurrency</var>, <var>ig</var>, and <var>auctionStartTime</var>.</p>
             <li data-md>
              <p>Let <var>generateBidDuration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from①">duration from</a> <var>generateBidStartTime</var> to <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time③">current monotonic time</a>, in milliseconds.</p>
             <li data-md>
              <p>If <var>perBuyerCumulativeTimeout</var> is not null, decrement <var>perBuyerCumulativeTimeout</var> by <var>generateBidDuration</var>.</p>
             <li data-md>
              <p>If <var>generatedBid</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⓪">continue</a>.</p>
             <li data-md>
              <p>If <a data-link-type="dfn" href="#query-generated-bid-k-anonymity-count" id="ref-for-query-generated-bid-k-anonymity-count">query generated bid k-anonymity count</a> given <var>generatedBid</var> returns false:</p>
              <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#generate-a-bid" id="ref-for-generate-a-bid①">Generate a bid</a> is now rerun with only k-anonymous <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads④">ads</a> to give
the buyer a chance to <a data-link-type="dfn" href="#generate-a-bid" id="ref-for-generate-a-bid②">generate a bid</a> for k-anonymous <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads⑤">ads</a>. Allowing
the buyer to first <a data-link-type="dfn" href="#generate-a-bid" id="ref-for-generate-a-bid③">generate a bid</a> for non-k-anonymous <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads⑥">ads</a> provides a
mechanism to bootstrap the k-anonymity count, otherwise no <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads⑦">ads</a> would
ever trigger <a data-link-type="dfn" href="#increment-k-anonymity-count" id="ref-for-increment-k-anonymity-count">increment k-anonymity count</a> and all ads would fail <a data-link-type="dfn" href="#query-k-anonymity-count" id="ref-for-query-k-anonymity-count">query k-anonymity count</a>.</p>
              <ol>
               <li data-md>
                <p>TODO: Run <a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid②">score and rank a bid</a> on <var>generatedBid</var> to find the highest scoring bid
that isn’t k-anonymous. After the auction, if the highest scoring bid that isn’t
k-anonymous has a higher score than the highest scoring k-anonymous bid, then call <a data-link-type="dfn" href="#increment-ad-k-anonymity-count" id="ref-for-increment-ad-k-anonymity-count①">increment ad k-anonymity count</a> on it.</p>
               <li data-md>
                <p>Let <var>originalAds</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads⑧">ads</a>.</p>
               <li data-md>
                <p>If <var>originalAds</var> is not null:</p>
                <ol>
                 <li data-md>
                  <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads⑨">ads</a> to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①">interest group ad</a>.</p>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②④">For each</a> <var>ad</var> in <var>originalAds</var>:</p>
                  <ol>
                   <li data-md>
                    <p>If <a data-link-type="dfn" href="#query-ad-k-anonymity-count" id="ref-for-query-ad-k-anonymity-count">query ad k-anonymity count</a> given <var>ig</var> and <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url③">render url</a> returns true, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑧">append</a> <var>ad</var> to <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①⓪">ads</a>.</p>
                  </ol>
                </ol>
               <li data-md>
                <p>Let <var>originalAdComponents</var> be <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components②">ad components</a>.</p>
               <li data-md>
                <p>If <var>originalAdComponents</var> is not null:</p>
                <ol>
                 <li data-md>
                  <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components③">ad components</a> to a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑥">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad②">interest group ad</a>.</p>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑤">For each</a> <var>adComponent</var> in <var>originalAdComponents</var>:</p>
                  <ol>
                   <li data-md>
                    <p>If <a data-link-type="dfn" href="#query-component-ad-k-anonymity-count" id="ref-for-query-component-ad-k-anonymity-count">query component ad k-anonymity count</a> given <var>adComponent</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url④">render url</a> returns true, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">append</a> <var>adComponent</var> to <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components④">ad components</a>.</p>
                  </ol>
                </ol>
               <li data-md>
                <p>If <var>perBuyerCumulativeTimeout</var> is not null and is less than <var>perBuyerTimeout</var>, then set <var>perBuyerTimeout</var> to <var>perBuyerCumulativeTimeout</var>.</p>
               <li data-md>
                <p>Let <var>generateBidStartTime</var> be <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time④">current monotonic time</a>.</p>
               <li data-md>
                <p>Set <var>generatedBid</var> to the result of <a data-link-type="dfn" href="#generate-a-bid" id="ref-for-generate-a-bid④">generate a bid</a> given <var>allTrustedBiddingSignals</var>, <var>auctionSignals</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clone" id="ref-for-map-clone①">clone</a> of <var>browserSignals</var>, <var>perBuyerSignals</var>, <var>directFromSellerSignalsForBuyer</var>, <var>perBuyerTimeout</var>, <var>expectedCurrency</var>,
and <var>ig</var>.</p>
               <li data-md>
                <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①①">ads</a> to <var>originalAds</var>.</p>
               <li data-md>
                <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components⑤">ad components</a> to <var>originalAdComponents</var>.</p>
               <li data-md>
                <p>Let <var>generateBidDuration</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration-from" id="ref-for-dfn-duration-from②">duration from</a> <var>generateBidStartTime</var> to <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time⑤">current monotonic time</a>, in milliseconds.</p>
               <li data-md>
                <p>If <var>perBuyerCumulativeTimeout</var> is not null, then decrement <var>perBuyerCumulativeTimeout</var> by <var>generateBidDuration</var>.</p>
               <li data-md>
                <p>If <var>generatedBid</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①①">continue</a>.</p>
              </ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-insert" id="ref-for-list-insert②">Insert</a> <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group⑥">interest group</a> in <var>bidIgs</var>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid③">Score and rank a bid</a> with <var>auctionConfig</var>, <var>generatedBid</var>, <var>leadingBidInfo</var>, <var>decisionLogicScript</var>, <var>directFromSellerSignalsForSeller</var>, <var>dataVersion</var>, <var>auctionLevel</var>, <var>componentAuctionExpectedCurrency</var>, and <var>topLevelOrigin</var>.</p>
            </ol>
          </ol>
        </ol>
       <li data-md>
        <p>Decrement <var>pendingBuyers</var> by 1.</p>
      </ol>
     <li data-md>
      <p>Wait until both <var>pendingBuyers</var> and <var>pendingAdditionalBids</var> are 0.</p>
     <li data-md>
      <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid⑥">leading bid</a> is null, return null.</p>
     <li data-md>
      <p>If <var>topLevelAuctionConfig</var> is null:</p>
      <ol>
       <li data-md>
        <p>Let « <var>sellerSignals</var>, <var>reportResultBrowserSignals</var> » be the result of running <a data-link-type="dfn" href="#report-result" id="ref-for-report-result②">report result</a> with <var>leadingBidInfo</var>, <var>directFromSellerSignalsForSeller</var>, null, and <var>global</var>.</p>
       <li data-md>
        <p>Let <var>directFromSellerSignalsForWinner</var> be the result of running <a data-link-type="dfn" href="#get-direct-from-seller-signals-for-a-buyer" id="ref-for-get-direct-from-seller-signals-for-a-buyer①">get direct from seller signals for a buyer</a> with <var>directFromSellerSignals</var>, and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid⑦">leading bid</a>'s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group⑦">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③②">owner</a>.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#report-win" id="ref-for-report-win①">report win</a> with <var>leadingBidInfo</var>, <var>sellerSignals</var>, <var>reportResultBrowserSignals</var>, and <var>directFromSellerSignalsForWinner</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid⑧">leading bid</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build an interest group passed to generateBid">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-an-interest-group-passed-to-generatebid">build an interest group passed to generateBid</dfn> given an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②④">interest group</a> <var>ig</var>: 
    <ol>
     <li data-md>
      <p>Let <var>igGenerateBid</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-generatebidinterestgroup" id="ref-for-dictdef-generatebidinterestgroup①">GenerateBidInterestGroup</a></code> with the following fields:</p>
      <dl>
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-owner" id="ref-for-dom-generatebidinterestgroup-owner①">owner</a></code> 
       <dd>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin⑤">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③③">owner</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-name" id="ref-for-dom-generatebidinterestgroup-name①">name</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①⑤">name</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-enablebiddingsignalsprioritization" id="ref-for-dom-generatebidinterestgroup-enablebiddingsignalsprioritization①">enableBiddingSignalsPrioritization</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization②">enable bidding signals prioritization</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-priorityvector" id="ref-for-dom-generatebidinterestgroup-priorityvector②">priorityVector</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector③">priority vector</a> if not null, otherwise <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤">undefined</a></code> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-executionmode" id="ref-for-dom-generatebidinterestgroup-executionmode①">executionMode</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode②">execution mode</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-biddinglogicurl" id="ref-for-dom-generatebidinterestgroup-biddinglogicurl①">biddingLogicURL</a></code> 
       <dd>The <a data-link-type="dfn" href="#serialize-a-url" id="ref-for-serialize-a-url">serialization-or-undefined</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑤">bidding url</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-biddingwasmhelperurl" id="ref-for-dom-generatebidinterestgroup-biddingwasmhelperurl①">biddingWasmHelperURL</a></code> 
       <dd>The <a data-link-type="dfn" href="#serialize-a-url" id="ref-for-serialize-a-url①">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url④">bidding wasm helper url</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-updateurl" id="ref-for-dom-generatebidinterestgroup-updateurl②">updateURL</a></code> 
       <dd>The <a data-link-type="dfn" href="#serialize-a-url" id="ref-for-serialize-a-url②">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url②">update url</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-trustedbiddingsignalsurl" id="ref-for-dom-generatebidinterestgroup-trustedbiddingsignalsurl①">trustedBiddingSignalsURL</a></code> 
       <dd>The <a data-link-type="dfn" href="#serialize-a-url" id="ref-for-serialize-a-url③">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url④">trusted bidding signals url</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-trustedbiddingsignalskeys" id="ref-for-dom-generatebidinterestgroup-trustedbiddingsignalskeys②">trustedBiddingSignalsKeys</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys④">trusted bidding signals keys</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-userbiddingsignals" id="ref-for-dom-generatebidinterestgroup-userbiddingsignals②">userBiddingSignals</a></code> 
       <dd><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-a-javascript-value" id="ref-for-parse-a-json-string-to-a-javascript-value">Parse a JSON string to a JavaScript value</a> given <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-user-bidding-signals" id="ref-for-interest-group-user-bidding-signals②">user bidding signals</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-ads" id="ref-for-dom-generatebidinterestgroup-ads③">ads</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①②">ads</a> <a data-link-type="dfn" href="#convert-to-an-auctionad-sequence" id="ref-for-convert-to-an-auctionad-sequence">converted to an AuctionAd sequence</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-generatebidinterestgroup-adcomponents" id="ref-for-dom-generatebidinterestgroup-adcomponents①">adComponents</a></code> 
       <dd><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components⑥">ad components</a> <a data-link-type="dfn" href="#convert-to-an-auctionad-sequence" id="ref-for-convert-to-an-auctionad-sequence①">converted to an AuctionAd sequence</a> 
      </dl>
     <li data-md>
      <p>Return <var>igGenerateBid</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="serialize a URL">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-a-url">serialize a URL</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URL</a>-or-null <var>url</var>: 
    <ol>
     <li data-md>
      <p>If <var>url</var> is null, then return <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥">undefined</a></code>.</p>
     <li data-md>
      <p>Return the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑥">serialization</a> of <var>url</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="convert to an AuctionAd sequence">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-to-an-auctionad-sequence">convert to an AuctionAd sequence</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑦">list</a>-or-null <var>ads</var>: 
    <ol>
     <li data-md>
      <p>If <var>ads</var> is null, then return <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑦">undefined</a></code>.</p>
     <li data-md>
      <p>Let <var>adsIDL</var> be a new <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑧">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad②">AuctionAd</a></code>></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑥">For each</a> <var>ad</var> of <var>ads</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adIDL</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad③">AuctionAd</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑦">Set</a> <var>adIDL</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-renderurl" id="ref-for-dom-auctionad-renderurl①">renderURL</a></code>"] to the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑦">serialization</a> of <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url⑤">render url</a>.</p>
       <li data-md>
        <p>If <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata③">metadata</a> is not null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑧">set</a> <var>adIDL</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata②">metadata</a></code>"] to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-a-javascript-value" id="ref-for-parse-a-json-string-to-a-javascript-value①">parsing a JSON string to a JavaScript value</a> given <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata④">metadata</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">Append</a> <var>adIDL</var> to <var>adsIDL</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>adsIDL</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="score and rank a bid">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="score-and-rank-a-bid">score and rank a bid</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑥">auction config</a> <var>auctionConfig</var>, a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid①">generated bid</a> <var>generatedBid</var>, a <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info③">leading bid info</a> <var>leadingBidInfo</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">string</a> <var>decisionLogicScript</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-directfromsellersignalsforseller" id="ref-for-dictdef-directfromsellersignalsforseller">DirectFromSellerSignalsForSeller</a></code> <var>directFromSellerSignalsForSeller</var>, an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long">unsigned long</a></code>-or-null <var>biddingDataVersion</var>, an enum <var>auctionLevel</var>, which is "single-level-auction", "top-level-auction",
or "component-auction", a <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag②">currency tag</a> <var>componentAuctionExpectedCurrency</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑨">origin</a> <var>topLevelOrigin</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>renderURL</var> be <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑧">serialized</a> <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor⑤">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url⑦">url</a>.</p>
     <li data-md>
      <p>Let <var>adComponentRenderURLs</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑧">list</a>.</p>
     <li data-md>
      <p>If <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors④">ad component descriptors</a> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑦">For each</a> <var>adComponentDescriptor</var> in <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors⑤">ad component descriptors</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑨">serialized</a> <var>adComponentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url⑧">url</a> to <var>adComponentRenderURLs</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>fullSignalsUrl</var> be the result of <a data-link-type="dfn" href="#build-trusted-scoring-signals-url" id="ref-for-build-trusted-scoring-signals-url">building trusted scoring signals url</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-trusted-scoring-signals-url" id="ref-for-auction-config-trusted-scoring-signals-url①">trusted scoring signals url</a>, «<var>renderURL</var>», <var>adComponentRenderURLs</var>, <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-experiment-group-id" id="ref-for-auction-config-seller-experiment-group-id①">seller experiment group id</a>, and <var>topLevelOrigin</var>.</p>
      <p>Implementations may batch requests by collecting render URLs and ad component render URLs
from multiple invocations of <a data-link-type="dfn" href="#score-and-rank-a-bid" id="ref-for-score-and-rank-a-bid④">score and rank a bid</a> and passing them all to a single invocation
of <a data-link-type="dfn" href="#build-trusted-scoring-signals-url" id="ref-for-build-trusted-scoring-signals-url①">building trusted scoring signals url</a> -- the network response has to be parsed to pull out
the pieces relevant to each <a data-link-type="dfn" href="#evaluate-a-scoring-script" id="ref-for-evaluate-a-scoring-script">evaluation of a scoring script</a>.</p>
     <li data-md>
      <p>Let <var>trustedScoringSignals</var> be null.</p>
     <li data-md>
      <p>Let «<var>allTrustedScoringSignals</var>, <var>scoringDataVersion</var>» be the result of <a data-link-type="dfn" href="#fetch-trusted-signals" id="ref-for-fetch-trusted-signals①">fetching trusted signals</a> with <var>fullSignalsUrl</var> and false.</p>
     <li data-md>
      <p>If <var>allTrustedScoringSignals</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①④">ordered map</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>trustedScoringSignals</var> to a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑤">map</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②⑨">Set</a> <var>trustedScoringSignals</var>["<code>renderURL</code>"] to a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑥">map</a>.</p>
       <li data-md>
        <p>If <var>allTrustedScoringSignals</var>["<code>renderURLs</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④⑦">exists</a> and <var>allTrustedScoringSignals</var>["<code>renderURLs</code>"][<var>renderURL</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④⑧">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⓪">set</a> <var>trustedScoringSignals</var>["<code>renderURL</code>"][<var>renderURL</var>] to <var>allTrustedScoringSignals</var>["<code>renderURLs</code>"][<var>renderURL</var>].</p>
       <li data-md>
        <p>If <var>adComponentRenderURLs</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty⑥">empty</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>adComponentRenderURLsValue</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑦">map</a>.</p>
         <li data-md>
          <p>If <var>allTrustedScoringSignals</var>["<code>adComponentRenderURLs</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④⑨">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑧">for each</a> <var>adComponentRenderURL</var> in <var>adComponentRenderURLs</var>:</p>
          <ol>
           <li data-md>
            <p>If <var>allTrustedScoringSignals</var>["<code>adComponentRenderURLs</code>"][<var>adComponentRenderURL</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤⓪">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③①">set</a> <var>adComponentRenderURLsValue</var>[<var>adComponentRenderURL</var>] to <var>allTrustedScoringSignals</var>["<code>adComponentRenderURLs</code>"][<var>adComponentRenderURL</var>].</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③②">Set</a> <var>trustedScoringSignals</var>["<code>adComponentRenderURLs</code>"] to <var>adComponentRenderURLsValue</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>adMetadata</var> be <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad" id="ref-for-generated-bid-ad">ad</a>.</p>
     <li data-md>
      <p>Let <var>bidValue</var> be <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid">bid</a>.</p>
     <li data-md>
      <p>If <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid">modified bid</a> is not null, then set <var>bidValue</var> to <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid①">modified bid</a>.</p>
     <li data-md>
      <p>Let <var>owner</var> be <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group⑧">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③④">owner</a>.</p>
     <li data-md>
      <p>Let <var>browserSignals</var> be a <code class="idl"><a data-link-type="idl" href="#dictdef-scoringbrowsersignals" id="ref-for-dictdef-scoringbrowsersignals">ScoringBrowserSignals</a></code> with the following fields:</p>
      <dl>
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-topwindowhostname" id="ref-for-dom-scoringbrowsersignals-topwindowhostname">topWindowHostname</a></code> 
       <dd>The result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-host-serializer" id="ref-for-concept-host-serializer①">host serializer</a> on <var>topLevelOrigin</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host②">host</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-interestgroupowner" id="ref-for-dom-scoringbrowsersignals-interestgroupowner">interestGroupOwner</a></code> 
       <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin⑥">Serialized</a> <var>owner</var> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-renderurl" id="ref-for-dom-scoringbrowsersignals-renderurl">renderURL</a></code> 
       <dd>The result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⓪">URL serializer</a> on <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor⑥">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url⑨">url</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-biddingdurationmsec" id="ref-for-dom-scoringbrowsersignals-biddingdurationmsec">biddingDurationMsec</a></code> 
       <dd><var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-duration" id="ref-for-generated-bid-bid-duration">bid duration</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-bidcurrency" id="ref-for-dom-scoringbrowsersignals-bidcurrency">bidCurrency</a></code> 
       <dd>The result of <a data-link-type="dfn" href="#serialize-a-currency-tag" id="ref-for-serialize-a-currency-tag">serializing a currency tag</a> with <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid①">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency">currency</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-dataversion" id="ref-for-dom-scoringbrowsersignals-dataversion">dataVersion</a></code> 
       <dd><var>scoringDataVersion</var> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑧">undefined</a></code> otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-adcomponents" id="ref-for-dom-scoringbrowsersignals-adcomponents">adComponents</a></code> 
       <dd><var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors⑥">ad component descriptors</a> <a data-link-type="dfn" href="#convert-to-a-string-sequence" id="ref-for-convert-to-a-string-sequence">converted to a string sequence</a> 
      </dl>
     <li data-md>
      <p>Let <var>scoreAdResult</var> be the result of <a data-link-type="dfn" href="#evaluate-a-scoring-script" id="ref-for-evaluate-a-scoring-script①">evaluating a scoring script</a> with <var>decisionLogicScript</var>, <var>adMetadata</var>, <var>bidValue</var>’s <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value">value</a>, <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-config-idl" id="ref-for-auction-config-config-idl①">config idl</a>, <var>trustedScoringSignals</var>, <var>browserSignals</var>, <var>directFromSellerSignalsForSeller</var>, and <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-timeout" id="ref-for-auction-config-seller-timeout①">seller timeout</a>.</p>
     <li data-md>
      <p>Let <var>scoreAdOutput</var> be result of <a data-link-type="dfn" href="#process-scoread-output" id="ref-for-process-scoread-output">processing scoreAd output</a> with <var>scoreAdResult</var>.</p>
     <li data-md>
      <p>If <var>scoreAdOutput</var> is failure, return.</p>
     <li data-md>
      <p>If <var>auctionLevel</var> is not "single-level-auction", and <var>scoreAdOutput</var> ["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-allowcomponentauction" id="ref-for-dom-scoreadoutput-allowcomponentauction">allowComponentAuction</a></code>"] is false, return.</p>
     <li data-md>
      <p>Let <var>score</var> be <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-desirability" id="ref-for-dom-scoreadoutput-desirability">desirability</a></code>"].</p>
     <li data-md>
      <p>If <var>score</var> is negative or 0, return.</p>
     <li data-md>
      <p>If <var>auctionLevel</var> is "component-auction":</p>
      <ol>
       <li data-md>
        <p>Let <var>bidToCheck</var> be <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid②">bid</a>.</p>
       <li data-md>
        <p>If <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid">bid</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤①">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>modifiedBidValue</var> be <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid①">bid</a></code>"].</p>
         <li data-md>
          <p>If <var>modifiedBidValue</var> is negative or 0, return.</p>
         <li data-md>
          <p>Let <var>modifiedBidCurrency</var> be null.</p>
         <li data-md>
          <p>If <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bidcurrency" id="ref-for-dom-scoreadoutput-bidcurrency">bidCurrency</a></code>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤②">exists</a>, then set <var>modifiedBidCurrency</var> to <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bidcurrency" id="ref-for-dom-scoreadoutput-bidcurrency①">bidCurrency</a></code>].</p>
         <li data-md>
          <p>Set <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid②">modified bid</a> to a <a data-link-type="dfn" href="#bid-with-currency" id="ref-for-bid-with-currency">bid with currency</a> with <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value①">value</a> <var>modifiedBidValue</var> and <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency①">currency</a> <var>modifiedBidCurrency</var>.</p>
         <li data-md>
          <p>Set <var>bidToCheck</var> to <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid③">modified bid</a>.</p>
        </ol>
       <li data-md>
        <p>If the result of <a data-link-type="dfn" href="#check-a-currency-tag" id="ref-for-check-a-currency-tag">checking a currency tag</a> with <var>componentAuctionExpectedCurrency</var> and <var>bidToCheck</var>’s <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency②">currency</a> is false, return.</p>
       <li data-md>
        <p>If the result of <a data-link-type="dfn" href="#check-a-currency-tag" id="ref-for-check-a-currency-tag①">checking a currency tag</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-currency" id="ref-for-auction-config-seller-currency①">seller currency</a> and <var>bidToCheck</var>’s <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency③">currency</a> is false,
return.</p>
      </ol>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-currency" id="ref-for-auction-config-seller-currency②">seller currency</a> is not null:</p>
      <ol>
       <li data-md>
        <p>If <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid③">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency④">currency</a> is equal to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-currency" id="ref-for-auction-config-seller-currency③">seller currency</a>:</p>
        <ol>
         <li data-md>
          <p>Set <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-in-seller-currency" id="ref-for-generated-bid-bid-in-seller-currency">bid in seller currency</a> to <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid④">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value②">value</a>.</p>
         <li data-md>
          <p>If <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-incomingbidinsellercurrency" id="ref-for-dom-scoreadoutput-incomingbidinsellercurrency">incomingBidInSellerCurrency</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤③"> exists</a> and does
not equal <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-in-seller-currency" id="ref-for-generated-bid-bid-in-seller-currency①">bid in seller currency</a>, return.</p>
        </ol>
       <li data-md>
        <p>Otherwise if <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-incomingbidinsellercurrency" id="ref-for-dom-scoreadoutput-incomingbidinsellercurrency①">incomingBidInSellerCurrency</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤④"> exists</a>,
then set <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-in-seller-currency" id="ref-for-generated-bid-bid-in-seller-currency②">bid in seller currency</a> to <var>scoreAdOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-incomingbidinsellercurrency" id="ref-for-dom-scoreadoutput-incomingbidinsellercurrency②">incomingBidInSellerCurrency</a></code>"]</p>
      </ol>
     <li data-md>
      <p>Let <var>updateLeadingBid</var> be false.</p>
     <li data-md>
      <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid⑨">leading bid</a> is null, or <var>score</var> is greater than <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score">top score</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>updateLeadingBid</var> to true.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count">top bids count</a> to 1.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-at-most-one-top-bid-owner" id="ref-for-leading-bid-info-at-most-one-top-bid-owner">at most one top bid owner</a> to true.</p>
      </ol>
     <li data-md>
      <p>Otherwise if <var>score</var> equals <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score①">top score</a>:</p>
      <ol>
       <li data-md>
        <p>Increment <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count①">top bids count</a> by 1.</p>
       <li data-md>
        <p>Set <var>updateLeadingBid</var> to true with 1 in <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-bids-count" id="ref-for-leading-bid-info-top-bids-count②">top bids count</a> chance.</p>
       <li data-md>
        <p>If <var>updateLeadingBid</var> is false, then <a data-link-type="dfn" href="#update-highest-scoring-other-bid" id="ref-for-update-highest-scoring-other-bid">update highest scoring other bid</a> with <var>score</var>, <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①⓪">leading bid</a>, and <var>leadingBidInfo</var>.</p>
       <li data-md>
        <p>If <var>owner</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑤">same origin</a> with <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①①">leading bid</a>'s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group⑨">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③⑤">owner</a>, then set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-at-most-one-top-bid-owner" id="ref-for-leading-bid-info-at-most-one-top-bid-owner①">at most one top bid owner</a> to false.</p>
      </ol>
     <li data-md>
      <p>Otherwise if <var>score</var> is greater than or equal to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-second-highest-score" id="ref-for-leading-bid-info-second-highest-score">second highest score</a>, then <a data-link-type="dfn" href="#update-highest-scoring-other-bid" id="ref-for-update-highest-scoring-other-bid①">update highest scoring other bid</a> with <var>score</var>, <var>bidValue</var>, and <var>leadingBidInfo</var>.</p>
     <li data-md>
      <p>If <var>updateLeadingBid</var> is true:</p>
      <ol>
       <li data-md>
        <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①②">leading bid</a> is not null, then <a data-link-type="dfn" href="#update-highest-scoring-other-bid" id="ref-for-update-highest-scoring-other-bid②">update highest scoring other bid</a> with <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score②">top score</a>, <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①③">leading bid</a>, and <var>leadingBidInfo</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score③">top score</a> to <var>score</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①④">leading bid</a> to <var>generatedBid</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config③">auction config</a> to <var>auctionConfig</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-bidding-data-version" id="ref-for-leading-bid-info-bidding-data-version">bidding data version</a> to <var>biddingDataVersion</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-scoring-data-version" id="ref-for-leading-bid-info-scoring-data-version">scoring data version</a> to <var>scoringDataVersion</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="convert to a string sequence">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-to-a-string-sequence">convert to a string sequence</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑨">list</a>-or-null <var>adComponents</var>: 
    <ol>
     <li data-md>
      <p>If <var>adComponents</var> is null, return <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑨">undefined</a></code>.</p>
     <li data-md>
      <p>Let <var>result</var> be a new <code><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑨">sequence</a>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③⓪">USVString</a></code>></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑨">For each</a> <var>component</var> of <var>adComponents</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">Append</a> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①①">serialized</a> <var>component</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①⓪">url</a> to <var>result</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="update highest scoring other bid">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-highest-scoring-other-bid">update highest scoring other bid</dfn> given a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑥">double</a></code> <var>score</var>, a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid②">generated bid</a>-or-null <var>bid</var>, and a <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info④">leading bid info</a> <var>leadingBidInfo</var>: 
    <ol>
     <li data-md>
      <p>If <var>bid</var> is null, return.</p>
     <li data-md>
      <p>Let <var>owner</var> be <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①⓪">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③⑥">owner</a>.</p>
     <li data-md>
      <p>If <var>score</var> is greater than <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-second-highest-score" id="ref-for-leading-bid-info-second-highest-score①">second highest score</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid" id="ref-for-leading-bid-info-highest-scoring-other-bid">highest scoring other bid</a> to <var>bid</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bids-count" id="ref-for-leading-bid-info-highest-scoring-other-bids-count">highest scoring other bids count</a> to 1.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-second-highest-score" id="ref-for-leading-bid-info-second-highest-score②">second highest score</a> to <var>score</var>.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid-owner" id="ref-for-leading-bid-info-highest-scoring-other-bid-owner">highest scoring other bid owner</a> to <var>owner</var> if <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-at-most-one-top-bid-owner" id="ref-for-leading-bid-info-at-most-one-top-bid-owner②">at most one top bid owner</a> is true, null otherwise.</p>
      </ol>
     <li data-md>
      <p>Otherwise if <var>score</var> is equal to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-second-highest-score" id="ref-for-leading-bid-info-second-highest-score③">second highest score</a>:</p>
      <ol>
       <li data-md>
        <p>Increment <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bids-count" id="ref-for-leading-bid-info-highest-scoring-other-bids-count①">highest scoring other bids count</a> by 1.</p>
       <li data-md>
        <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid" id="ref-for-leading-bid-info-highest-scoring-other-bid①">highest scoring other bid</a> to <var>bid</var> with 1 in <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bids-count" id="ref-for-leading-bid-info-highest-scoring-other-bids-count②">highest scoring other bids count</a> chance.</p>
       <li data-md>
        <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid-owner" id="ref-for-leading-bid-info-highest-scoring-other-bid-owner①">highest scoring other bid owner</a> is not null and <var>owner</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑥">same origin</a> with <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid-owner" id="ref-for-leading-bid-info-highest-scoring-other-bid-owner②">highest scoring other bid owner</a>, then set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid-owner" id="ref-for-leading-bid-info-highest-scoring-other-bid-owner③">highest scoring other bid owner</a> to null.</p>
      </ol>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-ad-auction-allowed"><code>Ad-Auction-Allowed</code></dfn> HTTP response header is a <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#top" id="ref-for-top">structured header</a> whose value must be a <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#boolean" id="ref-for-boolean②">boolean</a>.</p>
   <div class="algorithm" data-algorithm="validate fetching response">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-fetching-response">validate fetching response</dfn> given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a> <var>response</var>, null, failure, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①">byte sequence</a> <var>responseBody</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">string</a> <var>mimeType</var>: 
    <ol>
     <li data-md>
      <p>If <var>responseBody</var> is null or failure, return false.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header">getting</a> <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-allowed" id="ref-for-http-headerdef-ad-auction-allowed">Ad-Auction-Allowed</a></code>`</span> and
"<code>item</code>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a> does not return a true value, return false.</p>
     <li data-md>
      <p>Let <var>headerMimeType</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type①">extracting a MIME type</a> from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list②">header list</a>.</p>
     <li data-md>
      <p>Return false if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>headerMimeType</var> is failure;</p>
       <li data-md>
        <p><var>mimeType</var> is "<code>text/javascript</code>" and <var>headerMimeType</var> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="ref-for-javascript-mime-type">JavaScript MIME type</a>;</p>
       <li data-md>
        <p><var>mimeType</var> is "<code>application/json</code>" and <var>headerMimeType</var> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#json-mime-type" id="ref-for-json-mime-type①">JSON MIME type</a>.</p>
      </ul>
     <li data-md>
      <p>Let <var>mimeTypeCharset</var> be <var>headerMimeType</var>’s <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parameters" id="ref-for-parameters">parameters</a>["<code>charset</code>"].</p>
     <li data-md>
      <p>Return false if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>mimeTypeCharset</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤⑤">exist</a>, or <var>mimeTypeCharset</var> is "utf-8", and <var>responseBody</var> is not <a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#utf-8" id="ref-for-utf-8">UTF-8</a> encoded;</p>
       <li data-md>
        <p><var>mimeTypeCharset</var> is "us-ascii", and not all bytes in <var>responseBody</var> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-byte" id="ref-for-ascii-byte">ASCII bytes</a>.</p>
      </ul>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fetch-script">fetch script</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a> <var>url</var>: 
    <ol>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request④">request</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①">URL</a>
       <dd data-md>
        <p><var>url</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list①">header list</a>
       <dd data-md>
        <p>«<code>Accept</code>: <code>text/javascript</code>»</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client①">client</a>
       <dd data-md>
        <p><code>null</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode①">mode</a>
       <dd data-md>
        <p>"<code>no-cors</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer①">referrer</a>
       <dd data-md>
        <p>"<code>no-referrer</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode①">credentials mode</a>
       <dd data-md>
        <p>"<code>omit</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode①">redirect mode</a>
       <dd data-md>
        <p>"<code>error</code>"</p>
      </dl>
      <p class="issue" id="issue-72f1e776①"><a class="self-link" href="#issue-72f1e776①"></a> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
service worker interceptions, despite not having to set the service workers mode.</p>
      <p class="issue" id="issue-7a2c8032"><a class="self-link" href="#issue-7a2c8032"></a> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>).</p>
     <li data-md>
      <p>Let <var>script</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue①">useParallelQueue</a> set to true, and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body①">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a> <var>response</var> and null, failure, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence②">byte sequence</a> <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="#validate-fetching-response" id="ref-for-validate-fetching-response">validate fetching response</a> with <var>response</var>, <var>responseBody</var> and "<code>text/javascript</code>"
returns false, set <var>script</var> to failure and return.</p>
       <li data-md>
        <p>Set <var>script</var> to <var>responseBody</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>script</var> to be set.</p>
     <li data-md>
      <p>Return <var>script</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch WebAssembly">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fetch-webassembly">fetch WebAssembly</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a> <var>url</var>: 
    <ol>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑤">request</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url②">URL</a>
       <dd data-md>
        <p><var>url</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list②">header list</a>
       <dd data-md>
        <p>«<code>Accept</code>: <code>application/wasm</code>»</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client②">client</a>
       <dd data-md>
        <p><code>null</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode②">mode</a>
       <dd data-md>
        <p>"<code>no-cors</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer②">referrer</a>
       <dd data-md>
        <p>"<code>no-referrer</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode②">credentials mode</a>
       <dd data-md>
        <p>"<code>omit</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode②">redirect mode</a>
       <dd data-md>
        <p>"<code>error</code>"</p>
      </dl>
      <p class="issue" id="issue-72f1e776②"><a class="self-link" href="#issue-72f1e776②"></a> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
service worker interceptions, despite not having to set the service workers mode.</p>
      <p class="issue" id="issue-7a2c8032①"><a class="self-link" href="#issue-7a2c8032①"></a> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>).</p>
     <li data-md>
      <p>Let <var>moduleObject</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body②">processResponseConsumeBody</a> set to the following steps given
a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a> <var>response</var> and null, failure, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence③">byte sequence</a> <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>Set <var>moduleObject</var> to failure and return, if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>responseBody</var> is null or failure;</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header①">Getting</a> <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-allowed" id="ref-for-http-headerdef-ad-auction-allowed①">Ad-Auction-Allowed</a></code>`</span> and "<code>item</code>"
from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list③">header list</a> does not return a true value.</p>
        </ul>
       <li data-md>
        <p>Let <var>module</var> be the result of <a data-link-type="dfn" href="https://webassembly.github.io/spec/js-api/#compile-a-webassembly-module" id="ref-for-compile-a-webassembly-module">compiling a WebAssembly module</a> <var>response</var>.</p>
       <li data-md>
        <p>If <var>module</var> is <a data-link-type="dfn" href="https://webassembly.github.io/spec/core/appendix/embedding.html#embed-error" id="ref-for-embed-error">error</a>, set <var>moduleObject</var> to failure.</p>
       <li data-md>
        <p>Otherwise, set <var>moduleObject</var> to <var>module</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>moduleObject</var> to be set.</p>
     <li data-md>
      <p>Return <var>moduleObject</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-data-version"><code>Data-Version</code></dfn> HTTP response header is a <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#top" id="ref-for-top①">structured header</a> whose value must be an <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#integer" id="ref-for-integer">integer</a>.
The <dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-x-fledge-bidding-signals-format-version"><code>X-fledge-bidding-signals-format-version</code></dfn> HTTP response header
is a <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#top" id="ref-for-top②">structured header</a> whose value must be an <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#integer" id="ref-for-integer①">integer</a>.</p>
   <div class="algorithm" data-algorithm="fetch trusted signals">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fetch-trusted-signals">fetch trusted signals</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a> <var>url</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean③">boolean</a> <var>isBiddingSignal</var>: 
    <ol>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑥">request</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url③">URL</a>
       <dd data-md>
        <p><var>url</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list③">header list</a>
       <dd data-md>
        <p>«<code>Accept</code>: <code>application/json</code>»</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client③">client</a>
       <dd data-md>
        <p><code>null</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode③">mode</a>
       <dd data-md>
        <p>"<code>no-cors</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer③">referrer</a>
       <dd data-md>
        <p>"<code>no-referrer</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode③">credentials mode</a>
       <dd data-md>
        <p>"<code>omit</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode③">redirect mode</a>
       <dd data-md>
        <p>"<code>error</code>"</p>
      </dl>
      <p class="issue" id="issue-72f1e776③"><a class="self-link" href="#issue-72f1e776③"></a> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
service worker interceptions, despite not having to set the service workers mode.</p>
      <p class="issue" id="issue-7a2c8032②"><a class="self-link" href="#issue-7a2c8032②"></a> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>).</p>
     <li data-md>
      <p>Let <var>signals</var> be null.</p>
     <li data-md>
      <p>Let <var>dataVersion</var> be null.</p>
     <li data-md>
      <p>Let <var>formatVersion</var> be null.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch③">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue②">useParallelQueue</a> set to true, and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body③">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a> <var>response</var> and null, failure, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence④">byte sequence</a> <var>responseBody</var>:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="#validate-fetching-response" id="ref-for-validate-fetching-response①">validate fetching response</a> with <var>response</var>, <var>responseBody</var> and "<code>application/json</code>"
returns false, set <var>signals</var> to failure and return.</p>
       <li data-md>
        <p>Let <var>headers</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list④">header list</a>.</p>
       <li data-md>
        <p>Set <var>dataVersion</var> to the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header②">getting a structured field value</a> given <span>`<code><a data-link-type="http-header" href="#http-headerdef-data-version" id="ref-for-http-headerdef-data-version">Data-Version</a></code>`</span> and "<code>item</code>" from <var>headers</var>.</p>
       <li data-md>
        <p>If <var>dataVersion</var> is not null:</p>
        <ol>
         <li data-md>
          <p>If <var>dataVersion</var> is not an integer, or is less than 0 or more than 2<sup>32</sup>−1,
set <var>signals</var> to failure and return.</p>
        </ol>
       <li data-md>
        <p>If <var>isBiddingSignal</var> is true, then set <var>formatVersion</var> to the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header③">getting a structured field value</a> given <span>`<code><a data-link-type="http-header" href="#http-headerdef-x-fledge-bidding-signals-format-version" id="ref-for-http-headerdef-x-fledge-bidding-signals-format-version">X-fledge-bidding-signals-format-version</a></code>`</span> and "<code>item</code>" from <var>headers</var>.</p>
       <li data-md>
        <p>Set <var>signals</var> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value①">parsing JSON bytes to an Infra value</a> <var>responseBody</var>.</p>
      </ol>
     <li data-md>
      <p>Wait for <var>signals</var> to be set.</p>
     <li data-md>
      <p>If <var>signals</var> is a parsing exception, or if <var>signals</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑧">ordered map</a>, return « null,
null ».</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⑦">For each</a> <var>key</var> → <var>value</var> of <var>signals</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③③">Set</a> <var>signals</var>[<var>key</var>] to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string①">serializing an Infra value to a JSON string</a> given <var>value</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>formatVersion</var> is 2:</p>
      <ol>
       <li data-md>
        <p>If <var>signals</var>["<code>keys</code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤⑥">exist</a>, return « null, null ».</p>
       <li data-md>
        <p>Set <var>signals</var> to <var>signals</var>["<code>keys</code>"].</p>
       <li data-md>
        <p>If <var>signals</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑨">ordered map</a>, return « null, null ».</p>
       <li data-md>
        <p>TODO: handle priority vector.</p>
      </ol>
     <li data-md>
      <p>Return « <var>signals</var>, <var>dataVersion</var> ».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="encode trusted signals keys">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="encode-trusted-signals-keys">encode trusted signals keys</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">strings</a> <var>keys</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>list</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⓪">list</a>.</p>
     <li data-md>
      <p>Let <var>keysStr</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate①">concatenating</a> <var>keys</var> with separator set to ",".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①③">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode①">UTF-8 percent-encoding</a> <var>keysStr</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set①">component percent-encode set</a> to <var>list</var>.</p>
      <p class="issue" id="issue-790ce1fd"><a class="self-link" href="#issue-790ce1fd"></a> The Chrome implementation encodes 0x20 (SP) to U+002B (+), while <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode②">UTF-8 percent-encoding</a> encodes it to "%20".</p>
     <li data-md>
      <p>Return <var>list</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build trusted bidding signals url">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-trusted-bidding-signals-url">build trusted bidding signals url</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a> <var>signalsUrl</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">strings</a> <var>keys</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">strings</a> <var>igNames</var>, an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short③">unsigned short</a></code>-or-null <var>experimentGroupId</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⓪">origin</a> <var>topLevelOrigin</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>queryParamsList</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②①">list</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> These steps create a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query②">query</a> of the form "<code>&amp;&lt;name>=&lt;values in comma-delimited list></code>". E.g.,
  "<code>hostname=publisher1.com&amp;keys=key1,key2&amp;interestGroupNames=ad+platform,name2&amp;experimentGroupId=1234</code>". <br><br>These steps don’t use the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-urlencoded-serializer" id="ref-for-concept-urlencoded-serializer">application/x-www-form-urlencoded serializer</a> to construct the query string because it repeats a key if it has multiple values instead of a
  comma-demilited list (e.g., "keys=key1&amp;keys=key2", instead of "keys=key1,key2"), and it also
  uses a different percent encode set from the Chrome implementation.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①④">Append</a> "hostname=" to <var>queryParamsList</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑤">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode③">UTF-8 percent-encoding</a> the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin⑦">serialized</a> <var>topLevelOrigin</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set②">component percent-encode set</a> to <var>queryParamsList</var>.</p>
     <li data-md>
      <p>If <var>keys</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑥">Append</a> "&amp;keys=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend①">Extend</a> <var>queryParamsList</var> with the result of <a data-link-type="dfn" href="#encode-trusted-signals-keys" id="ref-for-encode-trusted-signals-keys">encode trusted signals keys</a> with <var>keys</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>igNames</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑦">Append</a> "&amp;interestGroupNames=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend②">Extend</a> <var>queryParamsList</var> with the result of <a data-link-type="dfn" href="#encode-trusted-signals-keys" id="ref-for-encode-trusted-signals-keys①">encode trusted signals keys</a> with <var>igNames</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>experimentGroupId</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑧">Append</a> "&amp;experimentGroupId=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⑨">Append</a> <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer">serialized</a> <var>experimentGroupId</var> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>fullSignalsUrl</var> be <var>signalsUrl</var>.</p>
     <li data-md>
      <p>Set <var>fullSignalsUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query③">query</a> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate②">concatenating</a> <var>queryParamsList</var>.</p>
     <li data-md>
      <p>return <var>fullSignalsUrl</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build trusted scoring signals url">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="build-trusted-scoring-signals-url">build trusted scoring signals url</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a> <var>signalsUrl</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②②">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">strings</a> <var>renderURLs</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">ordered set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">strings</a> <var>adComponentRenderURLs</var>, an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short④">unsigned short</a></code> <var>experimentGroupId</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①①">origin</a> <var>topLevelOrigin</var>:</p>
    <p class="note" role="note"><span class="marker">Note:</span> When trusted scoring signals fetches are not batched, <var>renderURLs</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑦">size</a> is 1.</p>
    <ol>
     <li data-md>
      <p>Let <var>queryParamsList</var> be a new empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②③">list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⓪">Append</a> "hostname=" to <var>queryParamsList</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②①">Append</a> the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode" id="ref-for-string-utf-8-percent-encode④">UTF-8 percent-encoding</a> <var>topLevelOrigin</var> using <a data-link-type="dfn" href="https://url.spec.whatwg.org/#component-percent-encode-set" id="ref-for-component-percent-encode-set③">component percent-encode set</a> to <var>queryParamsList</var>.</p>
     <li data-md>
      <p>If <var>renderURLs</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②②">Append</a> "&amp;renderURLs=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend③">Extend</a> <var>queryParamsList</var> with the result of <a data-link-type="dfn" href="#encode-trusted-signals-keys" id="ref-for-encode-trusted-signals-keys②">encode trusted signals keys</a> with <var>renderURLs</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>adComponentRenderURLs</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑤">empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②③">Append</a> "&amp;adComponentRenderURLs=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend④">Extend</a> <var>queryParamsList</var> with the result of <a data-link-type="dfn" href="#encode-trusted-signals-keys" id="ref-for-encode-trusted-signals-keys③">encode trusted signals keys</a> with <var>adComponentRenderURLs</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>experimentGroupId</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②④">Append</a> "&amp;experimentGroupId=" to <var>queryParamsList</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑤">Append</a> <a data-link-type="dfn" href="#serialize-an-integer" id="ref-for-serialize-an-integer①">serialized</a> <var>experimentGroupId</var> to <var>queryParamsList</var>.</p>
      </ol>
     <li data-md>
      <p>Set <var>signalsUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query④">query</a> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate③">concatenating</a> <var>queryParamsList</var>.</p>
     <li data-md>
      <p>return <var>signalsUrl</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="send report">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="send-report">send report</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a> <var>url</var>: 
    <ol>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑦">request</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url④">URL</a>
       <dd data-md>
        <p><var>url</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client④">client</a>
       <dd data-md>
        <p><code>null</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode④">mode</a>
       <dd data-md>
        <p>"<code>no-cors</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer④">referrer</a>
       <dd data-md>
        <p>"<code>no-referrer</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode④">credentials mode</a>
       <dd data-md>
        <p>"<code>omit</code>"</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode④">redirect mode</a>
       <dd data-md>
        <p>"<code>error</code>"</p>
      </dl>
      <p class="issue" id="issue-7a2c8032③"><a class="self-link" href="#issue-7a2c8032③"></a> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>).</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch④">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue③">useParallelQueue</a> set to true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="serialize an integer">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-an-integer">serialize an integer</dfn>, represent it as a string of the shortest possible decimal
number.</p>
    <p class="issue" id="issue-ccb90c6c"><a class="self-link" href="#issue-ccb90c6c"></a> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a></p>
   </div>
   <div class="algorithm" data-algorithm="round a value">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="round-a-value">round a value</dfn> given a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑦">double</a></code> <var>value</var>: 
    <ol>
     <li data-md>
      <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/C#valid-floating-point-number" id="ref-for-valid-floating-point-number">valid floating-point number</a>, return <var>value</var>.</p>
     <li data-md>
      <p>Let <var>valueExp</var> be <var>value</var>’s IEEE 754 biased exponent field minus 1023.</p>
     <li data-md>
      <p>Let <var>normValue</var> be <var>value</var> multiplied by 2<sup>(−1 × <var>valueExp</var>)</sup>.</p>
     <li data-md>
      <p>If <var>valueExp</var> is less than −128:</p>
      <ol>
       <li data-md>
        <p>If <var>value</var> is less than 0, return −0.</p>
       <li data-md>
        <p>Otherwise, return 0.</p>
      </ol>
     <li data-md>
      <p>If <var>valueExp</var> is greater than 127:</p>
      <ol>
       <li data-md>
        <p>If <var>value</var> is less than 0, return −∞.</p>
       <li data-md>
        <p>Otherwise, return ∞.</p>
      </ol>
     <li data-md>
      <p>Let <var>precisionScaledValue</var> be <var>normValue</var> multiplied by 256.</p>
     <li data-md>
      <p>Let <var>noisyScaledValue</var> be <var>precisionScaledValue</var> plus a random <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑧">double</a></code> value greater than or
equal to 0 but less than 1.</p>
     <li data-md>
      <p>Let <var>truncatedScaledValue</var> be the largest integer not greater than <var>noisyScaledValue</var>.</p>
     <li data-md>
      <p>Return <var>truncatedScaledValue</var> multiplied by 2<sup>(<var>valueExp</var> − 8)</sup>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get direct from seller signals">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-direct-from-seller-signals">get direct from seller signals</dfn> given an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①②">origin</a> <var>seller</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">string</a>-or-null <var>adSlot</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⓪">map</a> <var>capturedAuctionHeaders</var>: 
    <ol>
     <li data-md>
      <p>If <var>adSlot</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a>, then return null.</p>
     <li data-md>
      <p>Let <var>directFromSellerSignals</var> be null.</p>
     <li data-md>
      <p>Let <var>directFromSellerSignalsKey</var> be a new <a data-link-type="dfn" href="#direct-from-seller-signals-key" id="ref-for-direct-from-seller-signals-key">direct from seller signals key</a> with its <a data-link-type="dfn" href="#direct-from-seller-signals-key-seller" id="ref-for-direct-from-seller-signals-key-seller">seller</a> set to <var>seller</var>, and <a data-link-type="dfn" href="#direct-from-seller-signals-key-ad-slot" id="ref-for-direct-from-seller-signals-key-ad-slot">ad slot</a> set to <var>adSlot</var>.</p>
     <li data-md>
      <p>If <var>capturedAuctionHeaders</var>[<var>directFromSellerSignalsKey</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤⑦">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>directFromSellerSignals</var> to <var>capturedAuctionHeaders</var>[<var>directFromSellerSignalsKey</var>].</p>
      </ol>
     <li data-md>
      <p>Return <var>directFromSellerSignals</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get direct from seller signals for a seller">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-direct-from-seller-signals-for-a-seller">get direct from seller signals for a seller</dfn> given a <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals">direct from seller signals</a>-or-null <var>directFromSellerSignals</var>: 
    <ol>
     <li data-md>
      <p>Let <var>directFromSellerSignalsForSeller</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-directfromsellersignalsforseller" id="ref-for-dictdef-directfromsellersignalsforseller①">DirectFromSellerSignalsForSeller</a></code>.</p>
     <li data-md>
      <p>If <var>directFromSellerSignals</var> is null, then return <var>directFromSellerSignalsForSeller</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③④">Set</a> <var>directFromSellerSignalsForSeller</var>["auctionSignals"] to the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value">parse a JSON string to an Infra value</a> given <var>directFromSellerSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-auction-signals" id="ref-for-direct-from-seller-signals-auction-signals">auction signals</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⑤">Set</a> <var>directFromSellerSignalsForSeller</var>["sellerSignals"] to the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value①">parse a JSON string to an Infra value</a> given <var>directFromSellerSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-seller-signals" id="ref-for-direct-from-seller-signals-seller-signals">seller signals</a>.</p>
     <li data-md>
      <p>Return <var>directFromSellerSignalsForSeller</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get direct from seller signals for a buyer">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-direct-from-seller-signals-for-a-buyer">get direct from seller signals for a buyer</dfn> given a <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals①">direct from seller signals</a>-or-null <var>directFromSellerSignals</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①③">origin</a> <var>owner</var>: 
    <ol>
     <li data-md>
      <p>Let <var>directFromSellerSignalsForBuyer</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-directfromsellersignalsforbuyer" id="ref-for-dictdef-directfromsellersignalsforbuyer①">DirectFromSellerSignalsForBuyer</a></code>.</p>
     <li data-md>
      <p>If <var>directFromSellerSignals</var> is null, then return <var>directFromSellerSignalsForBuyer</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⑥">Set</a> <var>directFromSellerSignalsForBuyer</var>["auctionSignals"] to the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value②">parse a JSON string to an Infra value</a> given <var>directFromSellerSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-auction-signals" id="ref-for-direct-from-seller-signals-auction-signals①">auction signals</a>.</p>
     <li data-md>
      <p>If <var>directFromSellerSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-per-buyer-signals" id="ref-for-direct-from-seller-signals-per-buyer-signals">per buyer signals</a>[<var>owner</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤⑧">exists</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⑦">Set</a> <var>directFromSellerSignalsForBuyer</var>["perBuyerSignals"] to the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value③">parse a JSON string to an Infra value</a> given <var>directFromSellerSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-per-buyer-signals" id="ref-for-direct-from-seller-signals-per-buyer-signals①">per buyer signals</a>[<var>owner</var>].</p>
      </ol>
     <li data-md>
      <p>Return <var>directFromSellerSignalsForBuyer</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="report result">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="report-result">report result</dfn> given a <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info⑤">leading bid info</a> <var>leadingBidInfo</var>, a <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals②">direct from seller signals</a>-or-null <var>directFromSellerSignals</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑦">auction config</a>-or-null <var>winningComponentConfig</var>, and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object①">global object</a> <var>global</var>: 
    <ol>
     <li data-md>
      <p>Let <var>config</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config④">auction config</a>.</p>
     <li data-md>
      <p>Let <var>bidCurrency</var> be null.</p>
     <li data-md>
      <p>If <var>winningComponentConfig</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a> that <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller③">component seller</a> is not null.</p>
       <li data-md>
        <p>Set <var>bidCurrency</var> to <var>winningComponentConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller-currency" id="ref-for-auction-config-seller-currency④">seller currency</a>.</p>
       <li data-md>
        <p>If <var>bidCurrency</var> is null, then set <var>bidCurrency</var> to the result of <a data-link-type="dfn" href="#look-up-per-buyer-currency" id="ref-for-look-up-per-buyer-currency②">looking up per-buyer currency</a> with <var>config</var> and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller④">component seller</a>.</p>
      </ol>
     <li data-md>
      <p>Otherwise, set <var>bidCurrency</var> to the result of <a data-link-type="dfn" href="#look-up-per-buyer-currency" id="ref-for-look-up-per-buyer-currency③">looking up per-buyer currency</a> with <var>config</var> and <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①⑤">leading bid</a>'s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①①">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③⑦">owner</a>.</p>
     <li data-md>
      <p>Let <var>winner</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①⑥">leading bid</a>.</p>
     <li data-md>
      <p>Let <var>sellerCurrency</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config⑤">auction config</a>'s <a data-link-type="dfn" href="#auction-config-seller-currency" id="ref-for-auction-config-seller-currency⑤">seller currency</a>.</p>
     <li data-md>
      <p>Let <var>highestScoringOtherBid</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid" id="ref-for-leading-bid-info-highest-scoring-other-bid②">highest scoring other bid</a>'s <a data-link-type="dfn" href="#generated-bid-bid-in-seller-currency" id="ref-for-generated-bid-bid-in-seller-currency③">bid in seller currency</a> (or
0 if encountered a null).</p>
     <li data-md>
      <p>If <var>sellerCurrency</var> is null, then set <var>highestScoringOtherBid</var> to <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid" id="ref-for-leading-bid-info-highest-scoring-other-bid③">highest scoring other bid</a>'s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid⑤">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value③">value</a> (or 0 if encountered a null).</p>
     <li data-md>
      <p>Let <var>bid</var> be <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid⑥">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value④">value</a>.</p>
     <li data-md>
      <p>Let <var>modifiedBid</var> be null.</p>
     <li data-md>
      <p>If <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid④">modified bid</a> is not null:</p>
      <ol>
       <li data-md>
        <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller⑤">component seller</a> is not null, then set <var>bid</var> to <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid⑤">modified bid</a>.</p>
       <li data-md>
        <p>Otherwise, set <var>modifiedBid</var> to <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid⑥">modified bid</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>browserSignals</var> be a <code class="idl"><a data-link-type="idl" href="#dictdef-reportresultbrowsersignals" id="ref-for-dictdef-reportresultbrowsersignals">ReportResultBrowserSignals</a></code> with the following fields:</p>
      <dl data-link-for-hint="ReportingBrowserSignals">
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-topwindowhostname" id="ref-for-dom-reportingbrowsersignals-topwindowhostname">topWindowHostname</a></code> 
       <dd>The result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-host-serializer" id="ref-for-concept-host-serializer②">host serializer</a> on <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin③">top-level origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host③">host</a>. 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-interestgroupowner" id="ref-for-dom-reportingbrowsersignals-interestgroupowner">interestGroupOwner</a></code> 
       <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin⑧">Serialized</a> <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①②">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③⑧">owner</a>. 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-renderurl" id="ref-for-dom-reportingbrowsersignals-renderurl">renderURL</a></code> 
       <dd><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①②">Serialized</a> <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor⑦">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①①">url</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-bid" id="ref-for-dom-reportingbrowsersignals-bid">bid</a></code> 
       <dd><a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value">Stochastically rounded</a> <var>bid</var> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-bidcurrency" id="ref-for-dom-reportingbrowsersignals-bidcurrency">bidCurrency</a></code> 
       <dd>The result of <a data-link-type="dfn" href="#serialize-a-currency-tag" id="ref-for-serialize-a-currency-tag①">serializing a currency tag</a> with <var>bidCurrency</var> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-highestscoringotherbid" id="ref-for-dom-reportingbrowsersignals-highestscoringotherbid">highestScoringOtherBid</a></code> 
       <dd><var>highestScoringOtherBid</var> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-highestscoringotherbidcurrency" id="ref-for-dom-reportingbrowsersignals-highestscoringotherbidcurrency">highestScoringOtherBidCurrency</a></code> 
       <dd><var>sellerCurrency</var> if it is not null, "<code>???</code>" otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-toplevelseller" id="ref-for-dom-reportingbrowsersignals-toplevelseller">topLevelSeller</a></code> 
       <dd><var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-level-seller" id="ref-for-leading-bid-info-top-level-seller①">top level seller</a> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⓪">undefined</a></code> otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-componentseller" id="ref-for-dom-reportingbrowsersignals-componentseller">componentSeller</a></code> 
       <dd><var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller⑥">component seller</a> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①①">undefined</a></code> otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-desirability" id="ref-for-dom-reportresultbrowsersignals-desirability">desirability</a></code> 
       <dd><a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value①">Stochastically rounded</a> <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-score" id="ref-for-leading-bid-info-top-score④">top score</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-toplevelsellersignals" id="ref-for-dom-reportresultbrowsersignals-toplevelsellersignals">topLevelSellerSignals</a></code> 
       <dd><var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-level-seller-signals" id="ref-for-leading-bid-info-top-level-seller-signals①">top level seller signals</a> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①②">undefined</a></code> otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-modifiedbid" id="ref-for-dom-reportresultbrowsersignals-modifiedbid">modifiedBid</a></code> 
       <dd><a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value②">Stochastically rounded</a> <var>modifiedBid</var> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①③">undefined</a></code> otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-dataversion" id="ref-for-dom-reportresultbrowsersignals-dataversion">dataVersion</a></code> 
       <dd><var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-scoring-data-version" id="ref-for-leading-bid-info-scoring-data-version①">scoring data version</a> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①④">undefined</a></code> otherwise 
      </dl>
     <li data-md>
      <p>Let <var>igAd</var> be the <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad③">interest group ad</a> from <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①③">interest group</a>'s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①③">ads</a> whose <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url⑥">render url</a> is <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor⑧">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①②">url</a>.</p>
     <li data-md>
      <p>If <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id②">buyer and seller reporting ID</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤⑨">exists</a> and the result of <a data-link-type="dfn" href="#query-reporting-id-k-anonymity-count" id="ref-for-query-reporting-id-k-anonymity-count">query reporting ID k-anonymity count</a> given <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①④">interest group</a> and <var>igAd</var> is true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⑧">set</a> <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-buyerandsellerreportingid" id="ref-for-dom-reportingbrowsersignals-buyerandsellerreportingid">buyerAndSellerReportingId</a></code>"] to <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id③">buyer and seller reporting ID</a>.</p>
     <li data-md>
      <p>Let <var>sellerReportingScript</var> be the result of <a data-link-type="dfn" href="#fetch-script" id="ref-for-fetch-script②">fetching script</a> with <var>config</var>’s <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url②">decision logic url</a>.</p>
     <li data-md>
      <p>Let « <var>sellerSignals</var>, <var>reportUrl</var>, <var>reportingBeaconMap</var>, ignored » be the result of <a data-link-type="dfn" href="#evaluate-a-reporting-script" id="ref-for-evaluate-a-reporting-script">evaluating a reporting script</a> with <var>sellerReportingScript</var>, "<code>reportResult</code>", and
« <var>config</var>’s <a data-link-type="dfn" href="#auction-config-config-idl" id="ref-for-auction-config-config-idl②">config idl</a>, <var>browserSignals</var>, <var>directFromSellerSignals</var> ».</p>
     <li data-md>
      <p>Let <var>reportingResult</var> be a <a data-link-type="dfn" href="#reporting-result" id="ref-for-reporting-result">reporting result</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑧">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="#reporting-result-report-url" id="ref-for-reporting-result-report-url③">report url</a>
       <dd data-md>
        <p><var>reportUrl</var></p>
       <dt data-md><a data-link-type="dfn" href="#reporting-result-reporting-beacon-map" id="ref-for-reporting-result-reporting-beacon-map③">reporting beacon map</a>
       <dd data-md>
        <p><var>reportingBeaconMap</var></p>
      </dl>
     <li data-md>
      <p>If <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-top-level-seller" id="ref-for-leading-bid-info-top-level-seller②">top level seller</a> is null (i.e., if we are reporting
 for a component seller), set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-component-seller-reporting-result" id="ref-for-leading-bid-info-component-seller-reporting-result④">component seller reporting result</a> to <var>reportingResult</var>.</p>
     <li data-md>
      <p>Otherwise, set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-seller-reporting-result" id="ref-for-leading-bid-info-seller-reporting-result④">seller reporting result</a> to <var>reportingResult</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> <var>browserSignals</var>["<code>desirability</code>"].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove①">Remove</a> <var>browserSignals</var>["<code>modifiedBid</code>"].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove②">Remove</a> <var>browserSignals</var>["<code>topLevelSellerSignals</code>"].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove③">Remove</a> <var>browserSignals</var>["<code>dataVersion</code>"].</p>
      <p class="note" role="note"><span class="marker">Note:</span> Remove fields specific to <code class="idl"><a data-link-type="idl" href="#dictdef-reportresultbrowsersignals" id="ref-for-dictdef-reportresultbrowsersignals①">ReportResultBrowserSignals</a></code> which only sellers can learn about,
so that they are not passed to "<code>reportWin()</code>".</p>
     <li data-md>
      <p>Return « <var>sellerSignals</var>, <var>browserSignals</var> ».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="report win">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="report-win">report win</dfn> given a <a data-link-type="dfn" href="#leading-bid-info" id="ref-for-leading-bid-info⑥">leading bid info</a> <var>leadingBidInfo</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a> <var>sellerSignals</var>,
a <code class="idl"><a data-link-type="idl" href="#dictdef-reportingbrowsersignals" id="ref-for-dictdef-reportingbrowsersignals">ReportingBrowserSignals</a></code> <var>browserSignals</var>, and a <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals③">direct from seller signals</a>-or-null <var>directFromSellerSignals</var>: 
    <ol>
     <li data-md>
      <p>Let <var>config</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config⑥">auction config</a>.</p>
     <li data-md>
      <p>Let <var>winner</var> be <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①⑦">leading bid</a>.</p>
     <li data-md>
      <p>Let <var>perBuyerSignals</var> be <var>config</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals⑧">per buyer signals</a>.</p>
     <li data-md>
      <p>Let <var>buyer</var> be <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①⑤">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner③⑨">owner</a>.</p>
     <li data-md>
      <p>Let <var>perBuyerSignalsForBuyer</var> be <var>perBuyerSignals</var>[<var>buyer</var>] if that member <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥⓪">exists</a>,
and null otherwise.</p>
     <li data-md>
      <p>Let <var>reportWinBrowserSignals</var> be a <code class="idl"><a data-link-type="idl" href="#dictdef-reportwinbrowsersignals" id="ref-for-dictdef-reportwinbrowsersignals">ReportWinBrowserSignals</a></code> with the members that
are declared on <code class="idl"><a data-link-type="idl" href="#dictdef-reportingbrowsersignals" id="ref-for-dictdef-reportingbrowsersignals①">ReportingBrowserSignals</a></code> initialized to their values in <var>browserSignals</var>.</p>
     <li data-md>
      <p>Add the following fields to <var>reportWinBrowserSignals</var>:</p>
      <dl>
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-dataversion" id="ref-for-dom-reportwinbrowsersignals-dataversion">dataVersion</a></code> 
       <dd><var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-bidding-data-version" id="ref-for-leading-bid-info-bidding-data-version①">bidding data version</a> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑤">undefined</a></code> otherwise. 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-adcost" id="ref-for-dom-reportwinbrowsersignals-adcost">adCost</a></code> 
       <dd><a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value③">Rounded</a> <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-cost" id="ref-for-generated-bid-ad-cost">ad cost</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-seller" id="ref-for-dom-reportwinbrowsersignals-seller">seller</a></code> 
       <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin⑨">Serialized</a> <var>config</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①②">seller</a> 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-madehighestscoringotherbid" id="ref-for-dom-reportwinbrowsersignals-madehighestscoringotherbid">madeHighestScoringOtherBid</a></code> 
       <dd>Set to true if <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid-owner" id="ref-for-leading-bid-info-highest-scoring-other-bid-owner④">highest scoring other bid owner</a> is
    not null, and <var>buyer</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑦">same origin</a> with <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-highest-scoring-other-bid-owner" id="ref-for-leading-bid-info-highest-scoring-other-bid-owner⑤">highest scoring other bid owner</a>, false otherwise 
       <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-modelingsignals" id="ref-for-dom-reportwinbrowsersignals-modelingsignals">modelingSignals</a></code> 
       <dd><var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-modeling-signals" id="ref-for-generated-bid-modeling-signals">modeling signals</a> if it is not null, <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑥">undefined</a></code> otherwise
    (TODO: noise and bucket this signal) 
      </dl>
     <li data-md>
      <p>Let <var>igAd</var> be the <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad④">interest group ad</a> from <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①⑥">interest group</a>'s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①④">ads</a> whose <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url⑦">render url</a> is <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor⑨">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①③">url</a>.</p>
     <li data-md>
      <p>If <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id④">buyer and seller reporting ID</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥①">exist</a> and the result of <a data-link-type="dfn" href="#query-reporting-id-k-anonymity-count" id="ref-for-query-reporting-id-k-anonymity-count①">query reporting ID k-anonymity count</a> given <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①⑦">interest group</a> and <var>igAd</var> is true:</p>
      <ol>
       <li data-md>
        <p>If <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id②">buyer reporting ID</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥②">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③⑨">set</a> <var>reportWinBrowserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-buyerreportingid" id="ref-for-dom-reportwinbrowsersignals-buyerreportingid">buyerReportingId</a></code>"] to <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id③">buyer reporting ID</a>.</p>
       <li data-md>
        <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④⓪">Set</a> <var>reportWinBrowserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-interestgroupname" id="ref-for-dom-reportwinbrowsersignals-interestgroupname">interestGroupName</a></code>"]
to <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①⑧">interest group</a> <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①⑥">name</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>buyerReportingScript</var> be the result of <a data-link-type="dfn" href="#fetch-script" id="ref-for-fetch-script③">fetching script</a> with <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group①⑨">interest group</a>'s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑥">bidding url</a>.</p>
     <li data-md>
      <p>Let <var>reportFunctionName</var> be "<code>reportWin</code>".</p>
     <li data-md>
      <p>If <var>winner</var>’s <a data-link-type="dfn" href="#generated-bid-provided-as-additional-bid" id="ref-for-generated-bid-provided-as-additional-bid">provided as additional bid</a> is true:</p>
      <ol>
       <li data-md>
        <p>Set <var>reportFunctionName</var> be "<code>reportAdditionalBidWin</code>".</p>
      </ol>
     <li data-md>
      <p>Let « ignored, <var>resultUrl</var>, <var>reportingBeaconMap</var>, <var>reportingMacroMap</var> » be the result of <a data-link-type="dfn" href="#evaluate-a-reporting-script" id="ref-for-evaluate-a-reporting-script①">evaluating a reporting script</a> with <var>buyerReportingScript</var>, "<code>reportWin</code>", and
 « <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-auction-config" id="ref-for-leading-bid-info-auction-config⑦">auction config</a>'s <a data-link-type="dfn" href="#auction-config-config-idl" id="ref-for-auction-config-config-idl③">config idl</a>'s <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-auctionsignals" id="ref-for-dom-auctionadconfig-auctionsignals②">auctionSignals</a></code>, <var>perBuyerSignalsForBuyer</var>, <var>sellerSignals</var>, <var>reportWinBrowserSignals</var>, <var>directFromSellerSignals</var> ».</p>
     <li data-md>
      <p>Set <var>leadingBidInfo</var>’s <a data-link-type="dfn" href="#leading-bid-info-buyer-reporting-result" id="ref-for-leading-bid-info-buyer-reporting-result⑤">buyer reporting result</a> to a <a data-link-type="dfn" href="#reporting-result" id="ref-for-reporting-result①">reporting result</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑨">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="#reporting-result-report-url" id="ref-for-reporting-result-report-url④">report url</a>
       <dd data-md>
        <p><var>resultUrl</var></p>
       <dt data-md><a data-link-type="dfn" href="#reporting-result-reporting-beacon-map" id="ref-for-reporting-result-reporting-beacon-map④">reporting beacon map</a>
       <dd data-md>
        <p><var>reportingBeaconMap</var></p>
       <dt data-md><a data-link-type="dfn" href="#reporting-result-reporting-macro-map" id="ref-for-reporting-result-reporting-macro-map①">reporting macro map</a>
       <dd data-md>
        <p><var>reportingMacroMap</var></p>
      </dl>
    </ol>
   </div>
   <h2 class="heading settled" data-level="5" id="additional-bids-and-negative-targeting"><span class="secno">5. </span><span class="content">Additional Bids and Negative Targeting</span><a class="self-link" href="#additional-bids-and-negative-targeting"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="create-auction-nonce"><span class="secno">5.1. </span><span class="content">createAuctionNonce()</span><a class="self-link" href="#create-auction-nonce"></a></h3>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator⑦">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-createauctionnonce" id="ref-for-dom-navigator-createauctionnonce">createAuctionNonce()</a></code> creates an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="auction-nonce">auction nonce</dfn>, a
one-time <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#version-4-uuid" id="ref-for-version-4-uuid">version 4 UUID</a> uniquely associated with a single call to <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator⑧">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction⑥">runAdAuction()</a></code>. For multi-seller auctions, this ID is uniquely
associated with all <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions③">componentAuctions</a></code>. This nonce will need to be passed back in
via a subsequent call to <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator⑨">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction⑦">runAdAuction()</a></code> via the <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig③">AuctionAdConfig</a></code>. This is currently only needed for <a data-link-type="dfn" href="#auction" id="ref-for-auction">auctions</a> that use <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids">additional bids</a>,
for which the <a data-link-type="dfn" href="#auction-nonce" id="ref-for-auction-nonce">auction nonce</a> will be included in each <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①">additional bid</a> as a way of ensuring
that those bids are only used in the <a data-link-type="dfn" href="#auction" id="ref-for-auction①">auctions</a> for which they were intended.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator⑤"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-createauctionnonce" id="ref-for-dom-navigator-createauctionnonce①"><c- g>createAuctionNonce</c-></a>();
};
</pre>
   <div class="algorithm" data-algorithm="createAuctionNonce()">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-createauctionnonce"><code>createAuctionNonce()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">a new promise</a>.</p>
     <li data-md>
      <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>nonce</var> be the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#string-representation" id="ref-for-string-representation">string representation</a> of a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#version-4-uuid" id="ref-for-version-4-uuid①">version 4 UUID</a>.</p>
      </ol>
      <div class="note" role="note">
        Because we’re going in parallel: 
       <ul>
        <li data-md>
         <p>There is no guarantee that the promise will be resolved before other tasks get queued on the
main thread;</p>
        <li data-md>
         <p>...which gives browsers the freedom to generate this UUID in another process, and
asynchronously send it back to the main thread at an arbitrary future time.</p>
       </ul>
      </div>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①⓪">Queue a global task</a> on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⓪">DOM manipulation task source</a>, given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global④">relevant global object</a>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve④">resolve</a> <var>p</var> with <var>nonce</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="5.2" id="additional-bids-section"><span class="secno">5.2. </span><span class="content">Additional Bids</span><a class="self-link" href="#additional-bids-section"></a></h3>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p>In addition to <a data-link-type="dfn" href="#generate-a-bid" id="ref-for-generate-a-bid⑤">bids generated by interest groups</a>, sellers can enable buyers to
introduce bids generated outside of the auction, which are called <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="additional-bids">additional bids</dfn>. <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids②">Additional bids</a> are commonly triggered using contextual signals. Buyers compute the <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids③">additional bids</a>, likely as part of a contextual auction. Buyers need to package up each <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids④">additional bid</a> using a new data structure that encapsulates all of the information needed for
the <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids⑤">additional bid</a> to compete against other bids in a Protected Audience <a data-link-type="dfn" href="#auction" id="ref-for-auction②">auction</a>.</p>
   <div class="example" id="additional-bid-example">
    <a class="self-link" href="#additional-bid-example"></a> 
    <p> Each additional bid is expressed using the following JSON data structure:</p>
<pre class="highlight"><c- a>const</c-> additionalBid <c- o>=</c-> <c- p>{</c->
  <c- u>"bid"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"ad"</c-><c- o>:</c-> <c- t>'ad-metadata'</c-><c- p>,</c->
    <c- u>"adCost"</c-><c- o>:</c-> <c- mf>2.99</c-><c- p>,</c->
    <c- u>"bid"</c-><c- o>:</c-> <c- mf>1.99</c-><c- p>,</c->
    <c- u>"bidCurrency"</c-><c- o>:</c-> <c- u>"USD"</c-><c- p>,</c->
    <c- u>"render"</c-><c- o>:</c-> <c- u>"https://www.example-dsp.com/ad/123.jpg"</c-><c- p>,</c->
    <c- u>"adComponents"</c-><c- o>:</c-> <c- p>[</c->adComponent1<c- p>,</c-> adComponent2<c- p>],</c->
    <c- u>"allowComponentAuction"</c-><c- o>:</c-> <c- kc>true</c-><c- p>,</c->
    <c- u>"modelingSignals"</c-><c- o>:</c-> <c- mf>123</c-><c- p>,</c->
  <c- p>},</c->
  <c- u>"interestGroup"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"owner"</c-><c- o>:</c-> <c- u>"https://www.example-dsp.com"</c->
    <c- u>"name"</c-><c- o>:</c-> <c- u>"campaign123"</c-><c- p>,</c->
    <c- u>"biddingLogicURL"</c-><c- o>:</c-> <c- u>"https://www.example-dsp.com/bid_logic.js"</c->
  <c- p>},</c->
  <c- u>"negativeInterestGroups"</c-><c- o>:</c-> <c- p>{</c->
    joiningOrigin<c- o>:</c-> <c- u>"https://www.example-advertiser.com"</c-><c- p>,</c->
    interestGroupNames<c- o>:</c-> <c- p>[</c->
      <c- u>"example_advertiser_negative_interest_group_a"</c-><c- p>,</c->
      <c- u>"example_advertiser_negative_interest_group_b"</c-><c- p>,</c->
    <c- p>]</c->
  <c- p>},</c->
  <c- u>"auctionNonce"</c-><c- o>:</c-> <c- u>"12345678-90ab-cdef-fedcba09876543210"</c-><c- p>,</c->
  <c- u>"seller"</c-><c- o>:</c-> <c- u>"https://www.example-ssp.com"</c-><c- p>,</c->
  <c- u>"topLevelSeller"</c-><c- o>:</c-> <c- u>"https://www.another-ssp.com"</c->
<c- p>}</c->
</pre>
   </div>
   <div class="algorithm" data-algorithm="validate and convert additional bids">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-and-convert-additional-bids">validate and convert additional bids</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑧">auction config</a> <var>auctionConfig</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config⑨">auction config</a>-or-null <var>topLevelAuctionConfig</var>, a <a data-link-type="dfn" href="#negative-target-info" id="ref-for-negative-target-info①">negative target info</a> <var>negativeTargetInfo</var>,
and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object②">global object</a> <var>global</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a> that <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-nonce" id="ref-for-auction-config-auction-nonce①">auction nonce</a> is not null.</p>
     <li data-md>
      <p>Let <var>auctionNonce</var> be the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#string-representation" id="ref-for-string-representation①">string representation</a> of <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-nonce" id="ref-for-auction-config-auction-nonce②">auction nonce</a>.</p>
     <li data-md>
      <p>Let <var>capturedAdditionalBidsHeaders</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑥">associated Document’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable②">node navigable’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①">traversable navigable’s</a> <a data-link-type="dfn" href="#captured-additional-bids-headers" id="ref-for-captured-additional-bids-headers">captured additional bids headers</a>.</p>
     <li data-md>
      <p>Let <var>additionalBids</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②④">list</a> of <a data-link-type="dfn" href="#decoded-additional-bid" id="ref-for-decoded-additional-bid">decoded additional bids</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⓪">For each</a> <var>encodedSignedAdditionalBid</var> of <var>capturedAdditionalBidsHeaders</var>[<var>auctionNonce</var>]:</p>
      <ol>
       <li data-md>
        <p>Let <var>signedAdditionalBid</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode①">forgiving-base64 decode</a> with <var>encodedSignedAdditionalBid</var>.</p>
       <li data-md>
        <p>If <var>signedAdditionalBid</var> is failure, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①②">continue</a>.</p>
       <li data-md>
        <p>Let <var>additionalBid</var> be the result of running <a data-link-type="dfn" href="#parse-a-signed-additional-bid" id="ref-for-parse-a-signed-additional-bid">parse a signed additional bid</a> given <var>signedAdditionalBid</var>, <var>auctionConfig</var>, <var>topLevelAuctionConfig</var>, and <var>negativeTargetInfo</var>.</p>
       <li data-md>
        <p>If <var>additionalBid</var> is not null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑥">append</a> <var>additionalBid</var> to <var>additionalBids</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>additionalBids</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="parse a signed additional bid">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-a-signed-additional-bid">parse a signed additional bid</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑤">byte sequence</a> <var>signedAdditionalBid</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①⓪">auction config</a> <var>auctionConfig</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①①">auction config</a>-or-null <var>topLevelAuctionConfig</var>, and a <a data-link-type="dfn" href="#negative-target-info" id="ref-for-negative-target-info②">negative target info</a> <var>negativeTargetInfo</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑧">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>parsedSignedAdditionalBid</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value④">parse a JSON string to an infra value</a> given <var>signedAdditionalBid</var>.</p>
     <li data-md>
      <p>Return null if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>parsedSignedAdditionalBid</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②①">map</a>;</p>
       <li data-md>
        <p><var>parsedSignedAdditionalBid</var>["bid"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥③">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">string</a>;</p>
       <li data-md>
        <p><var>parsedSignedAdditionalBid</var>["signatures"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥④">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑤">list</a>.</p>
      </ul>
     <li data-md>
      <p>Let <var>signatures</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑥">list</a> of <a data-link-type="dfn" href="#signed-additional-bid-signature" id="ref-for-signed-additional-bid-signature">signed additional bid signatures</a>.</p>
     <li data-md>
      <p>Let <var>decodeSignatureFailed</var> be false.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③①">For each</a> <var>sig</var> of <var>parsedSignedAdditionalBid</var>["signatures"]:</p>
      <ol>
       <li data-md>
        <p>Set <var>decodeSignatureFailed</var> to true and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break②">break</a> if any of the following
conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>sig</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②②">map</a>;</p>
         <li data-md>
          <p><var>sig</var>["key"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥⑤">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">string</a>;</p>
         <li data-md>
          <p><var>sig</var>["signature"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥⑥">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">string</a>.</p>
        </ul>
       <li data-md>
        <p>Let <var>maybeKey</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode②">forgiving-base64 decode</a> with <var>sig</var>["key"].</p>
       <li data-md>
        <p>Let <var>maybeSignature</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode③">forgiving-base64 decode</a> with <var>sig</var>["signature"].</p>
       <li data-md>
        <p>Set <var>decodeSignatureFailed</var> to true and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break③">break</a> if any of the following
conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>maybeKey</var> is failure, or its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length①">length</a> is not 32;</p>
         <li data-md>
          <p><var>maybeSignature</var> is failure, or its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length②">length</a> is not 64;</p>
        </ul>
       <li data-md>
        <p>Let <var>signature</var> be a <a data-link-type="dfn" href="#signed-additional-bid-signature" id="ref-for-signed-additional-bid-signature①">signed additional bid signatures</a>, whose <a data-link-type="dfn" href="#signed-additional-bid-signature-key" id="ref-for-signed-additional-bid-signature-key">key</a> is <var>maybeKey</var>, and <a data-link-type="dfn" href="#signed-additional-bid-signature-signature" id="ref-for-signed-additional-bid-signature-signature">signature</a> is <var>maybeSignature</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑦">Append</a> <var>signature</var> to <var>signatures</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>decodeSignatureFailed</var> is true, then return null.</p>
     <li data-md>
      <p>Let <var>decodedAdditionalBid</var> be the result of <a data-link-type="dfn" href="#decode-an-additional-bid-json" id="ref-for-decode-an-additional-bid-json">decode an additional bid json</a> given <var>parsedSignedAdditionalBid</var>["bid"], <var>auctionConfig</var> and <var>topLevelAuctionConfig</var>.</p>
     <li data-md>
      <p>Return null if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>decodedAdditionalBid</var> is failure;</p>
       <li data-md>
        <p>The result of <a data-link-type="dfn" href="#check-a-currency-tag" id="ref-for-check-a-currency-tag②">checking a currency tag</a> with <var>decodedAdditionalBid</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-bid" id="ref-for-decoded-additional-bid-bid">bid</a>'s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid⑦">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency⑤">currency</a> and
the result of running <a data-link-type="dfn" href="#look-up-per-buyer-currency" id="ref-for-look-up-per-buyer-currency④">look up per-buyer currency</a> with <var>auctionConfig</var>.</p>
      </ul>
     <li data-md>
      <p>Let <var>verifiedSignatureKeys</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑥">byte sequences</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③②">For each</a> <var>signature</var> of <var>signatures</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>isSignatureValid</var> be the result of running <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc8032#section-5.1.7" id="ref-for-section-5.1.7">verify</a> <var>signature</var>’s <a data-link-type="dfn" href="#signed-additional-bid-signature-signature" id="ref-for-signed-additional-bid-signature-signature①">signature</a> on message <var>parsedSignedAdditionalBid</var>["bid"]
using <var>signature</var>’s <a data-link-type="dfn" href="#signed-additional-bid-signature-key" id="ref-for-signed-additional-bid-signature-key①">key</a>, with 0 for Ed25519ctx.</p>
       <li data-md>
        <p>If <var>isSignatureValid</var> is true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append②">append</a> <var>signature</var>’s <a data-link-type="dfn" href="#signed-additional-bid-signature-key" id="ref-for-signed-additional-bid-signature-key②">key</a> to <var>verifiedSignatureKeys</var>.</p>
      </ol>
     <li data-md>
      <p>If the result of <a data-link-type="dfn" href="#check-whether-negative-targeted" id="ref-for-check-whether-negative-targeted">checking whether negative targeted</a> given <var>decodedAdditionalBid</var>, <var>verifiedSignatureKeys</var> and <var>negativeTargetInfo</var> is true, then return null.</p>
     <li data-md>
      <p>Return <var>decodedAdditionalBid</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="decode an additional bid json">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="decode-an-additional-bid-json">decode an additional bid json</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a> <var>additionalBidJson</var>, an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①②">auction config</a> <var>auctionConfig</var>, and an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①③">auction config</a>-or-null <var>topLevelAuctionConfig</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①①">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑨">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>parsedAdditionalBid</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value" id="ref-for-parse-a-json-string-to-an-infra-value⑤">parse a JSON string to an infra value</a> given <var>additionalBidJson</var>.</p>
     <li data-md>
      <p>If <var>parsedAdditionalBid</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②③">map</a>, then return failure.</p>
     <li data-md>
      <p>Let <var>result</var> be a new <a data-link-type="dfn" href="#decoded-additional-bid" id="ref-for-decoded-additional-bid①">decoded additional bid</a>.</p>
     <li data-md>
      <p>Return failure if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>parsedAdditionalBid</var>["auctionNonce"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥⑦">exist</a>;</p>
       <li data-md>
        <p><var>parsedAdditionalBid</var>["auctionNonce"] is not the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#string-representation" id="ref-for-string-representation②">string representation</a> of <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-nonce" id="ref-for-auction-config-auction-nonce③">auction nonce</a>;</p>
       <li data-md>
        <p><var>parsedAdditionalBid</var>["seller"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥⑧">exist</a>;</p>
       <li data-md>
        <p>The result of running the <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①②">parse an https origin</a> with <var>parsedAdditionalBid</var>["seller"] is
failure, or not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑧">same origin</a> with <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①③">seller</a>.</p>
      </ul>
     <li data-md>
      <p>If <var>topLevelAuctionConfig</var> is null:</p>
      <ol>
       <li data-md>
        <p>If <var>parsedAdditionalBid</var>["topLevelSeller"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥⑨">exists</a>, then return failure.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>If <var>parsedAdditionalBid</var>["topLevelSeller"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦⓪">exist</a>, then return failure.</p>
       <li data-md>
        <p>Let <var>bidTopLevelSeller</var> be the result of running the <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①③">parse an https origin</a> with <var>parsedAdditionalBid</var>["topLevelSeller"].</p>
       <li data-md>
        <p>If <var>bidTopLevelSeller</var> is failure, or <var>bidTopLevelSeller</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑨">same origin</a> with <var>topLevelAuctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①④">seller</a>, then return failure.</p>
      </ol>
     <li data-md>
      <p>If <var>parsedAdditionalBid</var>["interestGroup"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦①">exist</a>, then return failure.</p>
     <li data-md>
      <p>Let <var>igMap</var> be <var>parsedAdditionalBid</var>["interestGroup"].</p>
     <li data-md>
      <p>Return failure if any the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>igMap</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②④">map</a>;</p>
       <li data-md>
        <p><var>igMap</var>["name"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦②">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">string</a>;</p>
       <li data-md>
        <p><var>igMap</var>["biddingLogicURL"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦③">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">string</a>;</p>
       <li data-md>
        <p><var>igMap</var>["owner"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦④">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②②">string</a>;</p>
      </ul>
     <li data-md>
      <p>Let <var>igOwner</var> be the result of running <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①④">parse an https origin</a> given <var>igMap</var>["owner"].</p>
     <li data-md>
      <p>Let <var>igName</var> be <var>igMap</var>["name"].</p>
     <li data-md>
      <p>Let <var>igBiddingUrl</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑤">url parser</a> on <var>igMap</var>["biddingLogicURL"].</p>
     <li data-md>
      <p>Return failure if any of the following conditions hold:</p>
      <ul>
       <li data-md>
        <p><var>igOwner</var> is failure;</p>
       <li data-md>
        <p><var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-interest-group-buyers" id="ref-for-auction-config-interest-group-buyers④">interest group buyers</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contain</a> <var>igOwner</var>;</p>
       <li data-md>
        <p><var>igBiddingUrl</var> is failure;</p>
       <li data-md>
        <p><var>igOwner</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⓪">same origin</a> with <var>igBiddingUrl</var>.</p>
      </ul>
     <li data-md>
      <p>Let <var>ig</var> be a new <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②⑤">interest group</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④⓪">owner</a>
       <dd data-md>
        <p><var>igOwner</var></p>
       <dt data-md><a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①⑦">name</a>
       <dd data-md>
        <p><var>igName</var></p>
       <dt data-md><a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑦">bidding url</a>
       <dd data-md>
        <p><var>igBiddingUrl</var></p>
      </dl>
     <li data-md>
      <p>If <var>parsedAdditionalBid</var>["bid"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦⑤">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑤">map</a>, return failure.</p>
     <li data-md>
      <p>Let <var>bidMap</var> be <var>parsedAdditionalBid</var>["bid"].</p>
     <li data-md>
      <p>If <var>bidMap</var>["render"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦⑥">exist</a> or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②③">string</a>, then return failure.</p>
     <li data-md>
      <p>Let <var>renderUrl</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑥">URL parser</a> on <var>bidMap</var>["render"].</p>
     <li data-md>
      <p>If <var>renderUrl</var> is failure, then return failure.</p>
     <li data-md>
      <p>Let <var>ad</var> be a new <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad⑤">interest group ad</a> whose <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url⑧">render url</a> is <var>renderUrl</var>.</p>
     <li data-md>
      <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①⑤">ads</a> to « <var>ad</var> ».</p>
     <li data-md>
      <p>Let <var>bidVal</var> be <var>bidMap</var>["bid"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦⑦">exists</a>, otherwise return failure.</p>
     <li data-md>
      <p>If <var>bidVal</var> is not a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double⑨">double</a></code>, or is less than or equal to 0, then return failure.</p>
     <li data-md>
      <p>Let <var>adMetadata</var> be "null".</p>
     <li data-md>
      <p>If <var>bidMap</var>["ad"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦⑧">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Set <var>adMetadata</var> to the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string②">serialize an Infra value to a JSON string</a> with <var>bidMap</var>["ad"].</p>
      </ol>
     <li data-md>
      <p>Let <var>bidCurrency</var> be null.</p>
     <li data-md>
      <p>If <var>bidMap</var>["bidCurrency"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦⑨">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>bidMap</var>["bidCurrency"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②④">string</a>, or the result of <a data-link-type="dfn" href="#check-whether-a-string-is-a-valid-currency-tag" id="ref-for-check-whether-a-string-is-a-valid-currency-tag②">checking whether a string
is a valid currency tag</a> is failure, then return failure.</p>
       <li data-md>
        <p>Set <var>bidCurrency</var> to <var>bidMap</var>["bidCurrency"].</p>
      </ol>
     <li data-md>
      <p>Let <var>adCost</var> be null.</p>
     <li data-md>
      <p>If <var>bidMap</var>["adCost"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧⓪">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>bidMap</var>["adCost"] is not a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⓪">double</a></code>, then return failure.</p>
       <li data-md>
        <p>Set <var>adCost</var> to <var>bidMap</var>["adCost"].</p>
      </ol>
     <li data-md>
      <p>Let <var>modelingSignals</var> be null.</p>
     <li data-md>
      <p>If <var>bidMap</var>["modelingSignals"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧①">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>bidMap</var>["modelingSignals"] is not a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①①">double</a></code>, then return failure.</p>
       <li data-md>
        <p>If <var>bidMap</var>["modelingSignals"] ≥ 0, and &lt; 4096, then set <var>modelingSignals</var> to <var>bidMap</var>["modelingSignals"].</p>
      </ol>
     <li data-md>
      <p>Let <var>adComponents</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑦">list</a> of <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor①">ad descriptors</a>.</p>
     <li data-md>
      <p>If <var>bidMap</var>["adComponents"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧②">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>bidMap</var>["adComponents"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑧">list</a>, then return failure.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③③">For each</a> <var>component</var> of <var>bidMap</var>["adComponents"]:</p>
        <ol>
         <li data-md>
          <p>If <var>component</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑤">string</a>, then return failure.</p>
         <li data-md>
          <p>Let <var>componentUrl</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑦">URL parser</a> on <var>component</var>.</p>
         <li data-md>
          <p>If <var>componentUrl</var> is failure, then return failure.</p>
         <li data-md>
          <p>Let <var>componentDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor②">ad descriptor</a> whose <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①④">url</a> is <var>componentUrl</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑧">Append</a> <var>componentDescriptor</var> to <var>adComponents</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components⑦">ad components</a> to <var>adComponents</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>parsedAdditionalBid</var>["negativeInterestGroup"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧③">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>parsedAdditionalBid</var>["negativeInterestGroups"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧④">exists</a>, or <var>parsedAdditionalBid</var>["negativeInterestGroup"] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑥">string</a>, then return failure.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②⑨">Append</a> <var>parsedAdditionalBid</var>["negativeInterestGroup"] to <var>result</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-negative-target-interest-group-names" id="ref-for-decoded-additional-bid-negative-target-interest-group-names">negative target interest group names</a>.</p>
      </ol>
     <li data-md>
      <p>If <var>parsedAdditionalBid</var>["negativeInterestGroups"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧⑤">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>multipleNegativeIg</var> be <var>parsedAdditionalBid</var>["negativeInterestGroups"].</p>
       <li data-md>
        <p>Return failure if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>multipleNegativeIg</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑥">map</a>;</p>
         <li data-md>
          <p><var>multipleNegativeIg</var>["joiningOrigin"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧⑥">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑦">string</a>;</p>
         <li data-md>
          <p><var>multipleNegativeIg</var>["interestGroupNames"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧⑦">exist</a>, or is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑨">list</a>.</p>
        </ul>
       <li data-md>
        <p>Let <var>joiningOrigin</var> be the result of running <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①⑤">parse an https origin</a> with <var>multipleNegativeIg</var>["joiningOrigin"].</p>
       <li data-md>
        <p>If <var>joiningOrigin</var> is failure, then return failure.</p>
       <li data-md>
        <p>Set <var>result</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-negative-target-joining-origin" id="ref-for-decoded-additional-bid-negative-target-joining-origin">negative target joining origin</a> to <var>joiningOrigin</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③④">For each</a> <var>igName</var> of <var>multipleNegativeIg</var>["interestGroupNames"]:</p>
        <ol>
         <li data-md>
          <p>If <var>igName</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑧">string</a>, then return failure.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③⓪">Append</a> <var>igName</var> to <var>result</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-negative-target-interest-group-names" id="ref-for-decoded-additional-bid-negative-target-interest-group-names①">negative target interest group names</a>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Set <var>result</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-bid" id="ref-for-decoded-additional-bid-bid①">bid</a> to a new <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid③">generated bid</a> with the following
properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid⑧">bid</a>
       <dd data-md>
        <p>A <a data-link-type="dfn" href="#bid-with-currency" id="ref-for-bid-with-currency①">bid with currency</a> whose <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value⑤">value</a> is <var>bidVal</var>, and <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency⑥">currency</a> is <var>bidCurrency</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-ad" id="ref-for-generated-bid-ad①">ad</a>
       <dd data-md>
        <p><var>adMetadata</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor①⓪">ad descriptor</a>
       <dd data-md>
        <p>An <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor③">ad descriptor</a> whose <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①⑤">url</a> is <var>renderUrl</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors⑦">ad component descriptors</a>
       <dd data-md>
        <p><var>adComponents</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-ad-cost" id="ref-for-generated-bid-ad-cost①">ad cost</a>
       <dd data-md>
        <p><var>adCost</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-modeling-signals" id="ref-for-generated-bid-modeling-signals①">modeling signals</a>
       <dd data-md>
        <p><var>modelingSignals</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group②⓪">interest group</a>
       <dd data-md>
        <p><var>ig</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-bid-ad" id="ref-for-generated-bid-bid-ad①">bid ad</a>
       <dd data-md>
        <p>A <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad⑥">interest group ad</a> whose <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url⑨">render url</a> is <var>renderUrl</var>, and <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata⑤">metadata</a> is <var>adMetadata</var></p>
       <dt data-md><a data-link-type="dfn" href="#generated-bid-provided-as-additional-bid" id="ref-for-generated-bid-provided-as-additional-bid①">provided as additional bid</a>
       <dd data-md>
        <p>true</p>
      </dl>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="signed-additional-bid-signature">signed additional bid signature</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑤">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②⓪">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="signed additional bid signature" data-dfn-type="dfn" data-noexport id="signed-additional-bid-signature-key">key</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑦">byte sequence</a> of length 32.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="signed additional bid signature" data-dfn-type="dfn" data-noexport id="signed-additional-bid-signature-signature">signature</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑧">byte sequence</a> of length 64.</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="decoded-additional-bid">decoded additional bid</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑥">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②①">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="decoded additional bid" data-dfn-type="dfn" data-noexport id="decoded-additional-bid-bid">bid</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid④">generated bid</a>. Fields analogous to those returned by <code>generateBid()</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="decoded additional bid" data-dfn-type="dfn" data-noexport id="decoded-additional-bid-negative-target-interest-group-names">negative target interest group names</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⓪">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑨">strings</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="decoded additional bid" data-dfn-type="dfn" data-noexport id="decoded-additional-bid-negative-target-joining-origin">negative target joining origin</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①④">origin</a>. Required if there is more than one entry in <a data-link-type="dfn" href="#decoded-additional-bid-negative-target-interest-group-names" id="ref-for-decoded-additional-bid-negative-target-interest-group-names②">negative target interest group names</a>.</p>
   </dl>
   <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable②">traversable navigable</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="captured-additional-bids-headers">captured additional bids headers</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑦">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑧">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⓪">strings</a> for <a data-link-type="dfn" href="#auction-nonce" id="ref-for-auction-nonce①">auction nonces</a>, and whose values are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③①">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③①">strings</a> for encoded additional bids.</p>
   <h3 class="heading settled" data-level="5.3" id="negative-targeting-section"><span class="secno">5.3. </span><span class="content">Negative Targeting</span><a class="self-link" href="#negative-targeting-section"></a></h3>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p>In online ad auctions for ad space, it’s sometimes useful to prevent showing an ad to certain
audiences, a concept known as <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="negative-targeting">negative targeting</dfn>. To facilitate <a data-link-type="dfn" href="#negative-targeting" id="ref-for-negative-targeting">negative targeting</a> in
Protected Audience <a data-link-type="dfn" href="#auction" id="ref-for-auction③">auctions</a>, each <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids⑥">additional bid</a> is allowed to identify one or more <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group③">negative interest groups</a>. If the user has been joined to any of the identified <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group④">negative interest groups</a>, the <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids⑦">additional bid</a> is dropped; otherwise it participates in the <a data-link-type="dfn" href="#auction" id="ref-for-auction④">auction</a>, competing alongside bids created by calls to <code>generateBid()</code>. An <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids⑧">additional bid</a> that specifies no <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group⑤">negative interest groups</a> is always accepted into the <a data-link-type="dfn" href="#auction" id="ref-for-auction⑤">auction</a>.</p>
   <div class="algorithm" data-algorithm="check whether negative targeted">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-whether-negative-targeted">check whether negative targeted</dfn> given an <a data-link-type="dfn" href="#decoded-additional-bid" id="ref-for-decoded-additional-bid②">decoded additional bid</a> <var>additionalBid</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">set</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence⑨">byte sequences</a> <var>verifiedSignatureKeys</var>, and a <a data-link-type="dfn" href="#negative-target-info" id="ref-for-negative-target-info③">negative target info</a> <var>negativeTargetInfo</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①②">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⓪">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>negativeTargeted</var> be false.</p>
     <li data-md>
      <p>Let <var>additionalBidBuyer</var> be <var>additionalBid</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-bid" id="ref-for-decoded-additional-bid-bid②">bid</a>'s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group②①">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④①">owner</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⑤">For each</a> <var>igName</var> of <var>additionalBid</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-negative-target-interest-group-names" id="ref-for-decoded-additional-bid-negative-target-interest-group-names③">negative target interest group names</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>negativeTargetInfo</var>[(<var>additionalBidBuyer</var>, <var>igName</var>)] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧⑧">exists</a>:</p>
        <ol>
         <li data-md>
          <p>Let (<var>joiningOrigin</var>, <var>additionalBidKey</var>) be <var>negativeTargetInfo</var>[(<var>additionalBidBuyer</var>, <var>igName</var>)].</p>
         <li data-md>
          <p>If <var>verifiedSignatureKeys</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contains</a> <var>additionalBidKey</var>:</p>
          <ol>
           <li data-md>
            <p>If <var>joiningOrigin</var> is not null:</p>
            <ol>
             <li data-md>
              <p>If <var>joiningOrigin</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①①">same origin</a> with <var>additionalBid</var>’s <a data-link-type="dfn" href="#decoded-additional-bid-negative-target-joining-origin" id="ref-for-decoded-additional-bid-negative-target-joining-origin①">negative target joining origin</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①③">continue</a>.</p>
            </ol>
           <li data-md>
            <p>Set <var>negativeTargeted</var> to true, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break④">break</a>.</p>
          </ol>
        </ol>
      </ol>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> If the signature doesn’t verify successfully, the <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids⑨">additional bid</a> proceeds as if the <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group⑥">negative interest group</a> is not present. This ensures that only the <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④②">owner</a> of the <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group⑦">negative interest group</a>, who created the <code class="idl"><a data-link-type="idl" href="#dom-auctionadinterestgroup-additionalbidkey" id="ref-for-dom-auctionadinterestgroup-additionalbidkey②">additionalBidKey</a></code>, is allowed to <a data-link-type="dfn" href="#negative-targeting" id="ref-for-negative-targeting①">negatively target</a> the interest group, and that nobody else can learn
      whether the <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②⑤">interest group set</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contains</a> the interest group.</p>
    <ol>
     <li data-md>
      <p>Return <var>negativeTargeted</var>.</p>
    </ol>
   </div>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="negative-target-info">negative target info</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑧">map</a>. Its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑨">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple②">tuples</a> consisting of an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑤">origin</a> for <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④③">owner</a> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③②">string</a> for <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①⑧">name</a>.
Its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑨">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple③">tuples</a> consisting of an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑥">origin</a> for <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin⑤">joining origin</a> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①⓪">byte sequence</a> for <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key④">additional bid key</a>.</p>
   <h4 class="heading settled" data-level="5.3.1" id="negative-interest-groups"><span class="secno">5.3.1. </span><span class="content">Negative Interest Groups</span><a class="self-link" href="#negative-interest-groups"></a></h4>
   <p><em>This section is non-normative.</em></p>
   <p>Though <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group⑧">negative interest groups</a> are joined using the same <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup④">joinAdInterestGroup()</a></code> API as <a data-link-type="dfn" href="#regular-interest-group" id="ref-for-regular-interest-group③">regular interest groups</a>, they remain distinct from one another. Only <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group⑨">negative interest groups</a>'s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key⑤">additional bid key</a> can be non-null, while only <a data-link-type="dfn" href="#regular-interest-group" id="ref-for-regular-interest-group④">regular interest groups</a>'s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①⑥">ads</a> can be non-null. Because the subset of fields
used by a <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①⓪">negative interest group</a> cannot be meaningfully updated, a <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①①">negative interest group</a>'s <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url③">update url</a> must be null, otherwise a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②②">TypeError</a></code> will be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②④">thrown</a> by <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup⑤">joinAdInterestGroup()</a></code> API.</p>
   <p><a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①⓪">Additional bids</a> specify the <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①②">negative interest groups</a> they’re <a data-link-type="dfn" href="#negative-targeting" id="ref-for-negative-targeting②">negatively targeting</a> against using at most one of the following two fields in their JSON data structure:</p>
   <ul>
    <li data-md>
     <p>negativeInterestGroup, for a single negative interest group;</p>
    <li data-md>
     <p>negativeInterestGroups, for more than one negative interest groups.</p>
   </ul>
   <p>If an <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①①">additional bid</a> needs to specify more than one <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①③">negative interest groups</a>, all of those <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①④">negative interest groups</a> must be joined from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①②">same origin</a>, and that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑦">origin</a> must be
identified ahead of time in the <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①②">additional bid</a>'s <code>joiningOrigin</code> field. Any <a data-link-type="dfn" href="#negative-interest-group" id="ref-for-negative-interest-group①⑤">negative interest group</a> that wasn’t joined from that identified <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑧">origin</a> is ignored for <a data-link-type="dfn" href="#negative-targeting" id="ref-for-negative-targeting③">negative targeting</a>.</p>
   <div class="example" id="negative-igs-example">
    <a class="self-link" href="#negative-igs-example"></a> 
    <p>Use <code>negativeInterestGroup</code> in additional bid’s JSON:</p>
<pre class="highlight"><c- a>const</c-> additionalBid <c- o>=</c-> <c- p>{</c->
  <c- p>...</c->
  <c- u>"negativeInterestGroup"</c-><c- o>:</c-> <c- u>"example_advertiser_negative_interest_group"</c-><c- p>,</c->
  <c- p>...</c->
<c- p>}</c->
</pre>
    <p>Use <code>negativeInterestGroups</code> in additional bid’s JSON:</p>
<pre class="highlight"><c- a>const</c-> additionalBid <c- o>=</c-> <c- p>{</c->
  <c- p>...</c->
  <c- u>"negativeInterestGroups"</c-><c- o>:</c-> <c- p>{</c->
    joiningOrigin<c- o>:</c-> <c- u>"https://example-advertiser.com"</c-><c- p>,</c->
    interestGroupNames<c- o>:</c-> <c- p>[</c->
      <c- u>"example_advertiser_negative_interest_group_a"</c-><c- p>,</c->
      <c- u>"example_advertiser_negative_interest_group_b"</c-><c- p>,</c->
    <c- p>]</c->
  <c- p>},</c->
  <c- p>...</c->
<c- p>}</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="6" id="k-anonymity"><span class="secno">6. </span><span class="content">K-anonymity</span><a class="self-link" href="#k-anonymity"></a></h2>
   <p>Two goals of this specification rely on applying <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity">k-anonymity</a> thresholds:</p>
   <ul>
    <li data-md>
     <p>To prevent cross-site leaks:  Inputs to event-level reporting functions, <code>reportWin()</code> and <code>reportResult()</code>, only contain limited cross-site information. As described in <a href="#privacy-considerations">§ 13 Privacy Considerations</a>, part of this limiting is done by
applying <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity①">k-anonymity</a> requirements to the ad URLs.</p>
    <li data-md>
     <p>To prevent microtargeting:  The browser applies <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity②">k-anonymity</a> requirements on the ad URLs to
ensure that the same ad or ad component is being shown to at least some minimum number of
people.</p>
   </ul>
   <p>The browser enforces these <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity③">k-anonymity</a> requirements by maintaining counts of how many times each
ad and ad component has been shown to users. These counts are maintained across users, so the counting must
be done on a central <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="k-anonymity-server">k-anonymity server</dfn>. This specification relies on two operations to query and
increment the counts: <a data-link-type="dfn" href="#query-k-anonymity-count" id="ref-for-query-k-anonymity-count①">query k-anonymity count</a> and <a data-link-type="dfn" href="#increment-k-anonymity-count" id="ref-for-increment-k-anonymity-count①">increment k-anonymity count</a>.</p>
   <p>The details of how the <a data-link-type="dfn" href="#k-anonymity-server" id="ref-for-k-anonymity-server">k-anonymity server</a> is operated and accessed are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined②">implementation-defined</a> but it should be done in a way that prevents the server operator from joining the identity of two
query or increment requests. One way to help prevent this is by making accesses to the server go
through an HTTP proxy that prevents the server from seeing the browsers' IP addresses.</p>
   <p>The browser should choose a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="k-anonymity-threshold">k-anonymity threshold</dfn>, otherwise known as the value for "k",
and a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="k-anonymity-duration">k-anonymity duration</dfn> depending
on the projected sizes of interest groups and the browser’s privacy goals. For example an implementation
might choose to require a <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity④">k-anonymity</a> threshold of fifty users over a seven day period. The server
will maintain the count over the chosen duration and compare the count to the chosen <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity⑤">k-anonymity</a> threshold when responding to <a data-link-type="dfn" href="#query-k-anonymity-count" id="ref-for-query-k-anonymity-count②">query k-anonymity count</a>.</p>
   <div class="algorithm" data-algorithm="query k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-k-anonymity-count">query k-anonymity count</dfn> given a <var>hashCode</var>: 
    <ol>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#k-anonymity-server" id="ref-for-k-anonymity-server①">k-anonymity server</a> has recorded at least <a data-link-type="dfn" href="#k-anonymity-threshold" id="ref-for-k-anonymity-threshold">k-anonymity threshold</a> users
  seeing <var>hashCode</var> over the last <a data-link-type="dfn" href="#k-anonymity-duration" id="ref-for-k-anonymity-duration">k-anonymity duration</a>, return true.
  Otherwise return false.</p>
     <li data-md>
      <p>Return true if it is above the threshold, otherwise return false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="query ad k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-ad-k-anonymity-count">query ad k-anonymity count</dfn> given an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②⑥">interest group</a> <var>ig</var> and a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL</a> <var>ad</var>: 
    <ol>
     <li data-md>
      <p>Let <var>keyString</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate④">concatenation</a> of the following strings separated with U+000A LF:</p>
      <ol>
       <li data-md>
        <p>"AdBid"</p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①⓪">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④④">owner</a></p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①③">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑧">bidding url</a></p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①④">serialization</a> of <var>ad</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>keyHash</var> be the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc6234.txt#sha-256" id="ref-for-sha-256">SHA-256</a> hash of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-encode" id="ref-for-ascii-encode">ASCII encoding</a> of <var>keyString</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#query-k-anonymity-count" id="ref-for-query-k-anonymity-count③">querying the k-anonymity count</a> given <var>keyHash</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute the key hash of reporting ID">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-the-key-hash-of-reporting-id">compute the key hash of reporting ID</dfn> given an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②⑦">interest group</a> <var>ig</var> and an <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad⑦">interest group ad</a> <var>igAd</var>: 
    <ol>
     <li data-md>
      <p>Let <var>keyString</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate⑤">concatenation</a> of the following strings separated with U+000A (LF):</p>
      <ol>
       <li data-md>
        <p>"NameReport"</p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①①">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④⑤">owner</a></p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑤">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url⑨">bidding url</a></p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑥">serialization</a> of <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①⓪">render url</a></p>
       <li data-md>
        <p>If <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id⑤">buyer and seller reporting ID</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧⑨">exists</a>:</p>
        <ol>
         <li data-md>
          <p>"BuyerAndSellerReportingId"</p>
         <li data-md>
          <p><var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id⑥">buyer and seller reporting ID</a></p>
        </ol>
       <li data-md>
        <p>Otherwise, if <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id④">buyer reporting ID</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨⓪">exists</a>:</p>
        <ol>
         <li data-md>
          <p>"BuyerReportingId"</p>
         <li data-md>
          <p><var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id⑤">buyer reporting ID</a></p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>"IgName"</p>
         <li data-md>
          <p><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name①⑨">name</a>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc6234.txt#sha-256" id="ref-for-sha-256①">SHA-256</a> hash of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-encode" id="ref-for-ascii-encode①">ASCII encoding</a> of <var>keyString</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="query component ad k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-component-ad-k-anonymity-count">query component ad k-anonymity count</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL</a> <var>ad</var>: 
    <ol>
     <li data-md>
      <p>Let <var>keyString</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate⑥">concatenation</a> of the following strings separated with U+000A LF:</p>
      <ol>
       <li data-md>
        <p>"ComponentBid"</p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑦">serialization</a> of <var>ad</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>keyHash</var> be the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc6234.txt#sha-256" id="ref-for-sha-256②">SHA-256</a> hash of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-encode" id="ref-for-ascii-encode②">ASCII encoding</a> of <var>keyString</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#query-k-anonymity-count" id="ref-for-query-k-anonymity-count④">querying the k-anonymity count</a> given <var>keyHash</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="query generated bid k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-generated-bid-k-anonymity-count">query generated bid k-anonymity count</dfn> given a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid⑤">generated bid</a> <var>bid</var>: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#query-ad-k-anonymity-count" id="ref-for-query-ad-k-anonymity-count①">query ad k-anonymity count</a> given <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor①①">ad descriptor</a>'s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①⑥">url</a> returns false, return false.</p>
     <li data-md>
      <p>If <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors⑧">ad component descriptors</a> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⑥">For each</a> <var>adComponentDescriptor</var> in <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors⑨">ad component descriptors</a>:</p>
        <ol>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#query-component-ad-k-anonymity-count" id="ref-for-query-component-ad-k-anonymity-count①">query component ad k-anonymity count</a> given <var>adComponentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①⑦">url</a> returns false, return false.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="query reporting ID k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-reporting-id-k-anonymity-count">query reporting ID k-anonymity count</dfn> given an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②⑧">interest group</a> <var>ig</var> and <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad⑧">interest group ad</a> <var>igAd</var>: 
    <ol>
     <li data-md>
      <p>Let <var>keyHash</var> be the result of <a data-link-type="dfn" href="#compute-the-key-hash-of-reporting-id" id="ref-for-compute-the-key-hash-of-reporting-id">computing the key hash of reporting ID</a> given <var>ig</var> and <var>igAd</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#query-k-anonymity-count" id="ref-for-query-k-anonymity-count⑤">querying the k-anonymity count</a> given <var>keyHash</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="increment k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="increment-k-anonymity-count">increment k-anonymity count</dfn> given a <var>hashCode</var>: 
    <ol>
     <li data-md>
      <p>Ask the <a data-link-type="dfn" href="#k-anonymity-server" id="ref-for-k-anonymity-server②">k-anonymity server</a> to record that this <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②⑥">user agent</a> has seen <var>hashCode</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="increment ad k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="increment-ad-k-anonymity-count">increment ad k-anonymity count</dfn> given an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group②⑨">interest group</a> <var>ig</var> and a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⓪">URL</a> <var>ad</var>: 
    <ol>
     <li data-md>
      <p>Let <var>keyString</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate⑦">concatenation</a> of the following strings separated with U+000A LF:</p>
      <ol>
       <li data-md>
        <p>"AdBid"</p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①②">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④⑥">owner</a></p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑧">serialization</a> of <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①⓪">bidding url</a></p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑨">serialization</a> of <var>ad</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>keyHash</var> be the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc6234.txt#sha-256" id="ref-for-sha-256③">SHA-256</a> hash of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-encode" id="ref-for-ascii-encode③">ASCII encoding</a> of <var>keyString</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#increment-k-anonymity-count" id="ref-for-increment-k-anonymity-count②">Increment k-anonymity count</a> given <var>keyHash</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="increment component ad k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="increment-component-ad-k-anonymity-count">increment component ad k-anonymity count</dfn> given a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①①">URL</a> <var>ad</var>: 
    <ol>
     <li data-md>
      <p>Let <var>keyString</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate" id="ref-for-string-concatenate⑧">concatenation</a> of the following strings separated with U+000A LF:</p>
      <ol>
       <li data-md>
        <p>"ComponentBid"</p>
       <li data-md>
        <p>the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer②⓪">serialization</a> of <var>ad</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>keyHash</var> be the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc6234.txt#sha-256" id="ref-for-sha-256④">SHA-256</a> hash of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-encode" id="ref-for-ascii-encode④">ASCII encoding</a> of <var>keyString</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#increment-k-anonymity-count" id="ref-for-increment-k-anonymity-count③">Increment k-anonymity count</a> given <var>keyHash</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="increment reporting ID k-anonymity count">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="increment-reporting-id-k-anonymity-count">increment reporting ID k-anonymity count</dfn> given an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③⓪">interest group</a> <var>ig</var> and a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①②">URL</a> <var>ad</var>: 
    <ol>
     <li data-md>
      <p>Let <var>igAd</var> be the <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad⑨">interest group ad</a> from <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①⑦">ads</a> whose <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①①">render url</a> is <var>ad</var>.</p>
     <li data-md>
      <p>Let <var>keyHash</var> be the result of <a data-link-type="dfn" href="#compute-the-key-hash-of-reporting-id" id="ref-for-compute-the-key-hash-of-reporting-id①">computing the key hash of reporting ID</a> given <var>ig</var> and <var>igAd</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#increment-k-anonymity-count" id="ref-for-increment-k-anonymity-count④">Increment k-anonymity count</a> given <var>keyHash</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="7" id="script-runners"><span class="secno">7. </span><span class="content">Script Runners</span><a class="self-link" href="#script-runners"></a></h2>
   <p><em>This introduction sub-section is non-normative</em>.</p>
   <p>This specification defines a new type of script execution environment called a <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner">script runner</a>. On
the surface, these are similar to <a href="https://html.spec.whatwg.org/C#worklets-intro">Worklets</a> in that they too are used for running scripts independent of the <em>main</em> execution environment with a
flexible implementation model.</p>
   <p>However, some key differences from traditional Worklets motivate us to create a new kind of script
execution environment. In particular, they:</p>
   <ul>
    <li data-md>
     <p>Are not scoped to a particular <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>, but are rather scoped to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②⑦">user agent</a>, as they
 are spun up by <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③①">interest groups</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②⑧">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②⑥">interest group set</a>.</p>
    <li data-md>
     <p>Consequently have a different, more flexible <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters">agent cluster</a> allocation model —<wbr>specifically, they need not execute in the same <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters①">agent cluster</a> as any <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>,
 and for privacy reasons implementations may be motivated to enjoy this flexibility.</p>
    <li data-md>
     <p>Do not have any other WebIDL interfaces exposed to their global besides the ones defined in this
 specification, unlike other Worklet types.</p>
    <li data-md>
     <p>Have a restricted set of ECMAScript APIs exposed to them; for example <code class="idl"><a data-link-type="idl" href="https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects" id="ref-for-sec-date-objects">Date</a></code> is not exposed in
 these environments.</p>
    <li data-md>
     <p>Are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#module-script" id="ref-for-module-script">module scripts</a>, and are instead evaluated as if they were <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#classic-script" id="ref-for-classic-script">classic scripts</a>.</p>
    <li data-md>
     <p>Are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" id="ref-for-concept-script">scripts</a> in the <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> sense, and as such:</p>
     <ul>
      <li data-md>
       <p>Their <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent" id="ref-for-agent">agent</a> does not have an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event loop</a></p>
      <li data-md>
       <p>Their <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" id="ref-for-realm">realm</a> does not have a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object" id="ref-for-concept-realm-settings-object">settings object</a>, and therefore functions
 inside them are not run with the familiar <a data-link-type="biblio" href="#biblio-webidl" title="Web IDL Standard">[WebIDL]</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function" id="ref-for-invoke-a-callback-function">invocation</a> mechanism.</p>
      <li data-md>
       <p>They do not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint" id="ref-for-perform-a-microtask-checkpoint">perform a microtask checkpoints</a>.</p>
     </ul>
   </ul>
   <h3 class="heading settled" data-level="7.1" id="realm-and-agent"><span class="secno">7.1. </span><span class="content">Realm and agent</span><a class="self-link" href="#realm-and-agent"></a></h3>
   <div class="algorithm" data-algorithm="create a new script runner agent">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-new-script-runner-agent">create a new script runner agent</dfn>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>signifier</var> be a new unique internal value.</p>
     <li data-md>
      <p>Let <var>candidateExecution</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/memory-model.html#sec-candidate-executions" id="ref-for-sec-candidate-executions">candidate execution</a>.</p>
     <li data-md>
      <p>Return a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent" id="ref-for-agent①">agent</a> whose [[CanBlock]] is false, [[Signifier]] is <var>signifier</var>, [[CandidateExecution]] is <var>candidateExecution</var>, and [[IsLockFree1]],
 [[IsLockFree2]], and [[LittleEndian]] are set at the implementation’s discretion.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> This algorithm is almost identical to <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/C#create-an-agent" id="ref-for-create-an-agent">create an agent</a> algorithm, with the
  exception that we do not give the returned agent a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①">event loop</a>, since it does not process <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">tasks</a> within <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task sources</a> in the usual way.</p>
   </div>
   <div class="algorithm" data-algorithm="obtain a script runner agent">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="obtain-a-script-runner-agent">obtain a script runner agent</dfn>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>agentCluster</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters②">agent cluster</a>.</p>
     <li data-md>
      <p>Let <var>agent</var> be the result of <a data-link-type="dfn" href="#create-a-new-script-runner-agent" id="ref-for-create-a-new-script-runner-agent">creating a new script runner agent</a>.</p>
     <li data-md>
      <p>Add <var>agent</var> to <var>agentCluster</var>.</p>
     <li data-md>
      <p>Return <var>agent</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create a new script runner realm">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-new-script-runner-realm">create a new script runner realm</dfn> with a global type <var>globalType</var>, run these steps: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①③">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①①">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>agent</var> be the result of <a data-link-type="dfn" href="#obtain-a-script-runner-agent" id="ref-for-obtain-a-script-runner-agent">obtaining a script runner agent</a> given null, true, and false.
Run the rest of these steps in <var>agent</var>.</p>
      <p class="issue" id="issue-43a9d327"><a class="self-link" href="#issue-43a9d327"></a> This exclusively creates a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters" id="ref-for-sec-agent-clusters③">agent cluster</a> for a given script to run
 in, but we should make this work with <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode③">execution mode</a> somehow.</p>
     <li data-md>
      <p>Let <var>realmExecutionContext</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm" id="ref-for-creating-a-new-javascript-realm">creating a new realm</a> given <var>agent</var> and the
 following customizations:</p>
      <ul>
       <li data-md>
        <p>For the global object, create a new object of type <var>globalType</var>.</p>
      </ul>
     <li data-md>
      <p>Let <var>realm</var> be <var>realmExecutionContext</var>’s Realm component.</p>
     <li data-md>
      <p>Let <var>global</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global">global object</a>, and run these steps:</p>
      <ol>
       <li data-md>
        <p>Perform !<var>global</var>.[[Delete]]("<code>Date</code>").</p>
       <li data-md>
        <p>If !<var>global</var>.[[HasProperty]]("<code>Temporal</code>") is true, then perform
 !<var>global</var>.[[Delete]]("<code>Temporal</code>").</p>
      </ol>
      <p><strong class="advisement"> This is not the best way to perform such API neutering (see <a href="https://github.com/tc39/ecma262/issues/1357#issuecomment-817560121">tc39/ecma262#1357</a>),
but at the moment it’s the way that host environments do this.</strong></p>
      <p class="note" role="note"><span class="marker">Note:</span> Removing time-referencing APIs from the <var>global</var> object is imperative for privacy, as a
script might otherwise be able to more easily exfiltrate data by using more accurate time
measurements.</p>
     <li data-md>
      <p>Return <var>realm</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="7.2" id="script-evaluation"><span class="secno">7.2. </span><span class="content">Script evaluation</span><a class="self-link" href="#script-evaluation"></a></h3>
   <p>Concretely, a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="script-runner">script runner</dfn> is a JavaScript execution environment instantiated with one
of the following global objects:</p>
   <ul>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope">InterestGroupBiddingScriptRunnerGlobalScope</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#interestgroupscoringscriptrunnerglobalscope" id="ref-for-interestgroupscoringscriptrunnerglobalscope">InterestGroupScoringScriptRunnerGlobalScope</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope">InterestGroupReportingScriptRunnerGlobalScope</a></code></p>
   </ul>
   <div class="algorithm" data-algorithm="evaluate a bidding script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-bidding-script">evaluate a bidding script</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③③">string</a> <var>script</var>, an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③②">interest group</a> <var>ig</var>, a <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag③">currency tag</a> <var>expectedCurrency</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-generatebidinterestgroup" id="ref-for-dictdef-generatebidinterestgroup②">GenerateBidInterestGroup</a></code> <var>igGenerateBid</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③④">string</a>-or-null <var>auctionSignals</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑤">string</a>-or-null <var>perBuyerSignals</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②⑨">ordered map</a> <var>trustedBiddingSignals</var>,
  a <code class="idl"><a data-link-type="idl" href="#dictdef-biddingbrowsersignals" id="ref-for-dictdef-biddingbrowsersignals②">BiddingBrowserSignals</a></code> <var>browserSignals</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-directfromsellersignalsforbuyer" id="ref-for-dictdef-directfromsellersignalsforbuyer②">DirectFromSellerSignalsForBuyer</a></code> <var>directFromSellerSignalsForBuyer</var> and an integer millisecond <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration②">duration</a> <var>timeout</var>: 
    <ol>
     <li data-md>
      <p>Let <var>realm</var> be the result of <a data-link-type="dfn" href="#create-a-new-script-runner-realm" id="ref-for-create-a-new-script-runner-realm">creating a new script runner realm</a> given <code class="idl"><a data-link-type="idl" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope①">InterestGroupBiddingScriptRunnerGlobalScope</a></code>.</p>
     <li data-md>
      <p>Let <var>global</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global①">global object</a>.</p>
     <li data-md>
      <p>Let <var>settings</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object" id="ref-for-concept-realm-settings-object①">settings object</a>.</p>
      <p class="issue" id="issue-78a1fc77"><a class="self-link" href="#issue-78a1fc77"></a> <a href="https://github.com/WICG/turtledove/issues/676">WICG/turtledove#676</a> needs
to be fixed in order to get <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object" id="ref-for-concept-realm-settings-object②">settings object</a>.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components">group has ad components</a> to true if <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components⑧">ad components</a> is not null, or false otherwise.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-expected-currency" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-expected-currency">expected currency</a> to <var>expectedCurrency</var>.</p>
     <li data-md>
      <p>Let <var>isComponentAuction</var> be true if <var>browserSignals</var>["<code class="idl"><a data-link-type="idl" href="#dom-biddingbrowsersignals-toplevelseller" id="ref-for-dom-biddingbrowsersignals-toplevelseller①">topLevelSeller</a></code>"] is not null, or
false otherwise.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-is-component-auction" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-is-component-auction">is component auction</a> to <var>isComponentAuction</var>.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-interest-group" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-interest-group">interest group</a> to <var>ig</var>.</p>
     <li data-md>
      <p>Let <var>igJS</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value">converting to ECMAScript values</a> given <var>igGenerateBid</var>.</p>
     <li data-md>
      <p>Let <var>auctionSignalsJS</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-a-javascript-value" id="ref-for-parse-a-json-string-to-a-javascript-value②">parsing a JSON string to a JavaScript value</a> given <var>auctionSignals</var> if <var>auctionSignals</var> is not null, otherwise <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑦">undefined</a></code>.</p>
     <li data-md>
      <p>Let <var>perBuyerSignalsJS</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-a-json-string-to-a-javascript-value" id="ref-for-parse-a-json-string-to-a-javascript-value③">parsing a JSON string to a JavaScript value</a> given <var>perBuyerSignals</var> if <var>perBuyerSignals</var> is not null, otherwise <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑧">undefined</a></code>.</p>
     <li data-md>
      <p>Let <var>trustedBiddingSignalsJS</var> be <var>trustedBiddingSignals</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value①">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Let <var>browserSignalsJS</var> be <var>browserSignals</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value②">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Let <var>directFromSellerSignalsJs</var> be <var>directFromSellerSignalsForBuyer</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value③">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Let <var>startTime</var> be <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time⑥">current monotonic time</a>.</p>
     <li data-md>
      <p>Let <var>result</var> be the result of <a data-link-type="dfn" href="#evaluate-a-script" id="ref-for-evaluate-a-script">evaluating a script</a> with <var>realm</var>, <var>script</var>, "<code>generateBid</code>",
« <var>igJS</var>, <var>auctionSignalsJS</var>, <var>perBuyerSignalsJS</var>, <var>trustedBiddingSignalsJS</var>, <var>browserSignalsJS</var>, <var>directFromSellerSignalsJs</var> », and <var>timeout</var>.</p>
     <li data-md>
      <p>Let <var>duration</var> be <var>settings</var>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-monotonic-time" id="ref-for-dfn-current-monotonic-time⑦">current monotonic time</a> minus <var>startTime</var> in milliseconds.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority">priority</a> is not null and not failure:</p>
      <ol>
       <li data-md>
        <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority④">priority</a> to <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority①">priority</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace②">Replace</a> the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③③">interest group</a> that has <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④⑦">owner</a> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②⓪">name</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②⑨">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②⑦">interest group set</a> with <var>ig</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority-signals" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority-signals">priority signals</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-is-empty" id="ref-for-map-is-empty①">is not empty</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⑧">For each</a> <var>k</var> → <var>v</var> of <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority-signals" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority-signals①">priority signals</a>:</p>
        <ol>
         <li data-md>
          <p>If <var>v</var> is null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove④">remove</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides③">priority signals overrides</a>[<var>k</var>].</p>
         <li data-md>
          <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④①">set</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides④">priority signals overrides</a>[<var>k</var>] to <var>v</var>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace③">Replace</a> the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③④">interest group</a> that has <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④⑧">owner</a> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②①">name</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent③⓪">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②⑧">interest group set</a> with <var>ig</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>generatedBid</var> be <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-bid" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-bid">bid</a>.</p>
     <li data-md>
      <p>If <var>result</var> is a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type">normal completion</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>generatedBidIDL</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" id="ref-for-dfn-convert-ecmascript-to-idl-value">converting</a> <var>result</var>’s [[Value]] to a <code class="idl"><a data-link-type="idl" href="#dictdef-generatebidoutput" id="ref-for-dictdef-generatebidoutput">GenerateBidOutput</a></code>.</p>
       <li data-md>
        <p>If no exception was <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑤">thrown</a> in the previous step, then set <var>generatedBid</var> to
the result of <a data-link-type="dfn" href="#convert-generatebidoutput-to-generated-bid" id="ref-for-convert-generatebidoutput-to-generated-bid">converting GenerateBidOutput to generated bid</a> with <var>generatedBidIDL</var>, <var>ig</var>, <var>expectedCurrency</var>, <var>isComponentAuction</var>, and <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components①">group has ad components</a>.</p>
       <li data-md>
        <p>Otherwise, set <var>generatedBid</var> to failure.</p>
      </ol>
     <li data-md>
      <p>If <var>generatedBid</var> is a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid⑥">generated bid</a> and <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid⑨">bid</a>'s <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value⑥">value</a> ≤ 0, set <var>generatedBid</var> to failure.</p>
     <li data-md>
      <p>If <var>generatedBid</var> is null, set it to failure.</p>
     <li data-md>
      <p>If <var>generatedBid</var> is not failure:</p>
      <ol>
       <li data-md>
        <p>Set <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-duration" id="ref-for-generated-bid-bid-duration①">bid duration</a> to <var>duration</var>.</p>
       <li data-md>
        <p>Set <var>generatedBid</var>’s <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group②②">interest group</a> to <var>ig</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>generatedBid</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="evaluate a scoring script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-scoring-script">evaluate a scoring script</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑥">string</a> <var>script</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑦">string</a> <var>adMetadata</var>,
  a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①②">double</a></code> <var>bidValue</var>, an <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig④">AuctionAdConfig</a></code> <var>auctionConfigIDL</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⓪">ordered map</a> <var>trustedScoringSignals</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-scoringbrowsersignals" id="ref-for-dictdef-scoringbrowsersignals①">ScoringBrowserSignals</a></code> <var>browserSignals</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-directfromsellersignalsforseller" id="ref-for-dictdef-directfromsellersignalsforseller②">DirectFromSellerSignalsForSeller</a></code> <var>directFromSellerSignalsForSeller</var>, and an integer
  millisecond <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration③">duration</a> <var>timeout</var>: 
    <ol>
     <li data-md>
      <p>Let <var>realm</var> be the result of <a data-link-type="dfn" href="#create-a-new-script-runner-realm" id="ref-for-create-a-new-script-runner-realm①">creating a new script runner realm</a> given <code class="idl"><a data-link-type="idl" href="#interestgroupscoringscriptrunnerglobalscope" id="ref-for-interestgroupscoringscriptrunnerglobalscope①">InterestGroupScoringScriptRunnerGlobalScope</a></code>.</p>
     <li data-md>
      <p>Let <var>browserSignalsJS</var> be <var>browserSignals</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value④">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Let <var>auctionConfigJS</var> be <var>auctionConfigIDL</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value⑤">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Let <var>trustedScoringSignalsJS</var> be <var>trustedScoringSignals</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value⑥">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Let <var>directFromSellerSignalsJs</var> be <var>directFromSellerSignalsForSeller</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value" id="ref-for-dfn-convert-idl-to-ecmascript-value⑦">converted to ECMAScript values</a>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#evaluate-a-script" id="ref-for-evaluate-a-script①">evaluating a script</a> with <var>realm</var>, <var>script</var>, "<code>scoreAd</code>",
«<var>adMetadata</var>, <var>bidValue</var>, <var>auctionConfigJS</var>, <var>trustedScoringSignalsJS</var>, <var>browserSignalsJS</var>, <var>directFromSellerSignalsJs</var>», and <var>timeout</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="evaluate a reporting script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-reporting-script">evaluate a reporting script</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑧">string</a> <var>script</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⑨">string</a> <var>functionName</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③②">list</a> of arguments <var>arguments</var>: 
    <ol>
     <li data-md>
      <p>Let <var>realm</var> be the result of <a data-link-type="dfn" href="#create-a-new-script-runner-realm" id="ref-for-create-a-new-script-runner-realm②">creating a new script runner realm</a> given <code class="idl"><a data-link-type="idl" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope①">InterestGroupReportingScriptRunnerGlobalScope</a></code>.</p>
     <li data-md>
      <p>Let <var>global</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global②">global object</a>.</p>
     <li data-md>
      <p>Let <var>argumentsJS</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#web-idl-arguments-list-converting" id="ref-for-web-idl-arguments-list-converting">converting</a> <var>arguments</var> to an ECMAScript arguments list. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑥">throws</a> an exception, return « "null", null, null, null ».</p>
     <li data-md>
      <p>Let <var>result</var> be the result of <a data-link-type="dfn" href="#evaluate-a-script" id="ref-for-evaluate-a-script②">evaluating a script</a> with <var>realm</var>, <var>script</var>, <var>functionName</var>, <var>argumentsJS</var>, and 50 milliseconds.</p>
     <li data-md>
      <p>If <var>result</var> is an <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type①">abrupt completion</a>, return « "null", null, null, null ».</p>
     <li data-md>
      <p>Let <var>resultJSON</var> be "null".</p>
     <li data-md>
      <p>If <var>functionName</var> is "<code>reportResult</code>", then set <var>resultJSON</var> to the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string⑤">serializing a JavaScript value to a JSON string</a> given <var>result</var>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Consider a return value that can’t be converted to JSON a valid result, so if an
exception was <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑦">thrown</a> in the previous step, keep <var>resultJSON</var> as "null".</p>
     <li data-md>
      <p>Let <var>reportURL</var> be <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-report-url" id="ref-for-interestgroupreportingscriptrunnerglobalscope-report-url">report url</a></p>
     <li data-md>
      <p>If <var>reportURL</var> is failure, set <var>reportURL</var> to null.</p>
     <li data-md>
      <p>Let <var>macroMap</var> be <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-reporting-macro-map" id="ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-macro-map">reporting macro map</a> if <var>functionName</var> is "<code>reportWin</code>" or "<code>reportAdditionalBidWin</code>", null otherwise.</p>
     <li data-md>
      <p>Return « <var>resultJSON</var>, <var>reportURL</var>, <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map" id="ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map">reporting beacon map</a>, <var>macroMap</var> ».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="evaluate a script">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="evaluate-a-script">evaluate a script</dfn> with a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" id="ref-for-realm①">realm</a> <var>realm</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④⓪">string</a> <var>script</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④①">string</a> <var>functionName</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③③">list</a> <var>arguments</var>, and an integer millisecond <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration④">duration</a> <var>timeout</var>, run these steps.
  They return a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type②">Completion Record</a>, which is either an <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type③">abrupt completion</a> (in
  the case of a parse failure or execution error), or a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type④">normal completion</a> populated with the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types" id="ref-for-sec-ecmascript-language-types">ECMAScript language value</a> result of invoking <var>functionName</var>. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①④">Assert</a> that these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①②">in parallel</a>.</p>
     <li data-md>
      <p>If <var>timeout</var> ≤ 0, <a data-link-type="dfn" href="https://html.spec.whatwg.org/C#immediately" id="ref-for-immediately">immediately</a> interrupt the execution and set <var>finalCompletion</var> to a
new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type⑤">throw completion</a> given null.</p>
     <li data-md>
      <p>Let <var>global</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global③">global object</a>, and run these steps in <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#realm&apos;s-agent" id="ref-for-realm&apos;s-agent">agent</a>:</p>
     <li data-md>
      <p>Let <var>result</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#sec-parse-script" id="ref-for-sec-parse-script">ParseScript</a>(<var>script</var>, <var>realm</var>, <code>empty</code>).</p>
      <p class="note" role="note"><span class="marker">Note:</span> The resulting <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record" id="ref-for-script-record">Script Record</a> will have no [[HostDefined]] component,
 unlike traditional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" id="ref-for-concept-script①">scripts</a> on the web platform.</p>
     <li data-md>
      <p>If <var>result</var> is a list of errors, return
 Completion { [[Type]]: <code>throw</code>, [[Value]]: <var>result</var>, [[Target]]: <code>empty</code> }.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑤">Assert</a>: <var>result</var> is a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record" id="ref-for-script-record①">Script Record</a>.</p>
     <li data-md>
      <p><em>Prepare to run script</em>: Push <var>realmExecutionContext</var> onto the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack" id="ref-for-execution-context-stack">JavaScript execution context stack</a>; it is now the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context" id="ref-for-running-execution-context">running JavaScript execution context</a>.</p>
     <li data-md>
      <p>Let <var>evaluationStatus</var> be the result of <a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#sec-runtime-semantics-scriptevaluation" id="ref-for-sec-runtime-semantics-scriptevaluation">ScriptEvaluation</a>(result).</p>
     <li data-md>
      <p>If <var>evaluationStatus</var> is an <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type⑥">abrupt completion</a>, jump to the step labeled <i> <a href="#evaluate-script-return">return</a></i>.</p>
     <li data-md>
      <p>Let <var>F</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p" id="ref-for-sec-get-o-p">Get</a>(<var>global</var>, <var>functionName</var>). If that returns a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type⑦">throw completion</a>,
 set <var>finalCompletion</var> to <var>F</var> and jump to the step labeled <i> <a href="#evaluate-script-return">return</a></i>.</p>
     <li data-md>
      <p>Set <var>finalCompletion</var> be <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type⑧">Completion</a>(<a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call" id="ref-for-sec-call">Call</a>(F, <code>undefined</code>, <var>arguments</var>)).</p>
      <p>In <var>timeout</var> milliseconds, if the invocation of <a data-link-type="abstract-op" href="https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call" id="ref-for-sec-call①">Call</a> has not completed, <a data-link-type="dfn" href="https://html.spec.whatwg.org/C#immediately" id="ref-for-immediately①">immediately</a> interrupt the execution and set <var>finalCompletion</var> to a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type⑨">throw completion</a> given null.</p>
     <li data-md>
      <p><i id="evaluate-script-return">Return</i>: at this point <var>finalCompletion</var> will be set to a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type①⓪">Completion Record</a>.</p>
      <ol>
       <li data-md>
        <p><em>Clean up after script</em>: <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑥">Assert</a> <var>realmExecutionContext</var> is the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context" id="ref-for-running-execution-context①">running JavaScript execution context</a>, and remove it from the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack" id="ref-for-execution-context-stack①">JavaScript execution context stack</a>.</p>
       <li data-md>
        <p>Return <var>finalCompletion</var>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="7.3" id="global-scopes"><span class="secno">7.3. </span><span class="content">Global scopes</span><a class="self-link" href="#global-scopes"></a></h3>
   <p>An additional requirement to the interest group script runner globals defined in this specification
is that they must not expose any interfaces from other specifications whose own exposure set is the
special value "*". The only interfaces that can be exposed inside of the globals defined in this
specification are those that explicitly list the global names provided here.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupScriptRunnerGlobalScope</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupscriptrunnerglobalscope"><code><c- g>InterestGroupScriptRunnerGlobalScope</c-></code></dfn> {
};

</pre>
   <h4 class="heading settled" data-level="7.3.1" id="bidding-global-scope"><span class="secno">7.3.1. </span><span class="content">InterestGroupBiddingScriptRunnerGlobalScope</span><a class="self-link" href="#bidding-global-scope"></a></h4>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>InterestGroupBiddingScriptRunnerGlobalScope</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope" id="ref-for-interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a>,
         <a data-link-type="idl-name" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope②"><c- n>InterestGroupBiddingScriptRunnerGlobalScope</c-></a>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupbiddingscriptrunnerglobalscope"><code><c- g>InterestGroupBiddingScriptRunnerGlobalScope</c-></code></dfn>
        : <a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope" id="ref-for-interestgroupscriptrunnerglobalscope①"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid"><c- g>setBid</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-generatebidoutput" id="ref-for-dictdef-generatebidoutput①"><c- n>GenerateBidOutput</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setBid(generateBidOutput), InterestGroupBiddingScriptRunnerGlobalScope/setBid()" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput-generatebidoutput"><code><c- g>generateBidOutput</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput-generatebidoutput"></a></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑨"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"><c- g>setPriority</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①③"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setPriority(priority)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setpriority-priority-priority"><code><c- g>priority</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority-priority-priority"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⓪"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride" id="ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"><c- g>setPrioritySignalsOverride</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setPrioritySignalsOverride(key, priority), InterestGroupBiddingScriptRunnerGlobalScope/setPrioritySignalsOverride(key)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-key"><code><c- g>key</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-key"></a></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①④"><c- b>double</c-></a>? <dfn class="idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope/setPrioritySignalsOverride(key, priority), InterestGroupBiddingScriptRunnerGlobalScope/setPrioritySignalsOverride(key)" data-dfn-type="argument" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-priority"><code><c- g>priority</c-></code><a class="self-link" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-priority"></a></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-adrender"><code><c- g>AdRender</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AdRender" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-adrender-url"><code><c- g>url</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AdRender" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-adrender-width"><code><c- g>width</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="AdRender" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-adrender-height"><code><c- g>height</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-generatebidoutput"><code><c- g>GenerateBidOutput</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑤"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-default="-1" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-generatebidoutput-bid"><code><c- g>bid</c-></code></dfn> = -1;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-generatebidoutput-bidcurrency"><code><c- g>bidCurrency</c-></code></dfn>;
  (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender" id="ref-for-dictdef-adrender"><c- n>AdRender</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="(DOMString or AdRender) " id="dom-generatebidoutput-render"><code><c- g>render</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="any " id="dom-generatebidoutput-ad"><code><c- g>ad</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①⓪"><c- b>sequence</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender" id="ref-for-dictdef-adrender①"><c- n>AdRender</c-></a>)> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="sequence<(DOMString or AdRender)> " id="dom-generatebidoutput-adcomponents"><code><c- g>adComponents</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑥"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-generatebidoutput-adcost"><code><c- g>adCost</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="unrestricted double " id="dom-generatebidoutput-modelingsignals"><code><c- g>modelingSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="GenerateBidOutput" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-generatebidoutput-allowcomponentauction"><code><c- g>allowComponentAuction</c-></code></dfn> = <c- b>false</c->;
};

</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#interestgroupbiddingscriptrunnerglobalscope" id="ref-for-interestgroupbiddingscriptrunnerglobalscope③">InterestGroupBiddingScriptRunnerGlobalScope</a></code> has a</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-bid">bid</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid⑦">generated bid</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-priority">priority</dfn>
    <dd data-md>
     <p>Null, failure, or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑦">double</a></code>. Defaulting to null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-priority-signals">priority signals</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⓪">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④②">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⓪">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑧">double</a></code> or null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-interest-group">interest group</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③⑤">interest group</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-expected-currency">expected currency</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag④">currency tag</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-is-component-auction">is component auction</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean④">boolean</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components">group has ad components</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑤">boolean</a></p>
   </dl>
   <div class="algorithm" data-algorithm="convert GenerateBidOutput to generated bid">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-generatebidoutput-to-generated-bid">convert GenerateBidOutput to generated bid</dfn> given a <code class="idl"><a data-link-type="idl" href="#dictdef-generatebidoutput" id="ref-for-dictdef-generatebidoutput②">GenerateBidOutput</a></code> <var>generateBidOutput</var>, an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③⑥">interest group</a> <var>ig</var>, a <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag⑤">currency tag</a> <var>expectedCurrency</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑥">boolean</a> <var>isComponentAuction</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑦">boolean</a> <var>groupHasAdComponents</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>bid</var> be a new <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid⑧">generated bid</a>.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bid" id="ref-for-dom-generatebidoutput-bid">bid</a></code>"] ≤ 0:</p>
      <ol>
       <li data-md>
        <p>Set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid①⓪">bid</a> to a <a data-link-type="dfn" href="#bid-with-currency" id="ref-for-bid-with-currency②">bid with currency</a> with <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value⑦">value</a> <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bid" id="ref-for-dom-generatebidoutput-bid①">bid</a></code>"] and <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency⑦">currency</a> null.</p>
       <li data-md>
        <p>Return <var>bid</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-render" id="ref-for-dom-generatebidoutput-render">render</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨①">exist</a>, return failure.</p>
     <li data-md>
      <p>If <var>isComponentAuction</var> is true, and <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-allowcomponentauction" id="ref-for-dom-generatebidoutput-allowcomponentauction">allowComponentAuction</a></code>"] is false, then return failure.</p>
     <li data-md>
      <p>Let <var>bidCurrency</var> be null.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bidcurrency" id="ref-for-dom-generatebidoutput-bidcurrency">bidCurrency</a></code>"] is specified:</p>
      <ol>
       <li data-md>
        <p>If the result of <a data-link-type="dfn" href="#check-whether-a-string-is-a-valid-currency-tag" id="ref-for-check-whether-a-string-is-a-valid-currency-tag③">checking whether a string is a valid currency tag</a> on <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bidcurrency" id="ref-for-dom-generatebidoutput-bidcurrency①">bidCurrency</a></code>"] is true, then set <var>bidCurrency</var> to <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bidcurrency" id="ref-for-dom-generatebidoutput-bidcurrency②">bidCurrency</a></code>"]</p>
       <li data-md>
        <p>Otherwise return failure.</p>
      </ol>
     <li data-md>
      <p>If the result of <a data-link-type="dfn" href="#check-a-currency-tag" id="ref-for-check-a-currency-tag③">checking a currency tag</a> with <var>expectedCurrency</var> and <var>bidCurrency</var> is
false, return failure.</p>
     <li data-md>
      <p>Set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-bid" id="ref-for-generated-bid-bid①①">bid</a> to a <a data-link-type="dfn" href="#bid-with-currency" id="ref-for-bid-with-currency③">bid with currency</a> with <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value⑧">value</a> <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-bid" id="ref-for-dom-generatebidoutput-bid②">bid</a></code>"] and <a data-link-type="dfn" href="#bid-with-currency-currency" id="ref-for-bid-with-currency-currency⑧">currency</a> <var>bidCurrency</var>.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-ad" id="ref-for-dom-generatebidoutput-ad">ad</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨②">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adJSON</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string⑥">serializing a JavaScript value to a JSON string</a>, given <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-ad" id="ref-for-dom-generatebidoutput-ad①">ad</a></code>"].</p>
       <li data-md>
        <p>If <var>adJSON</var> is failure, return failure.</p>
       <li data-md>
        <p>Set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad" id="ref-for-generated-bid-ad②">ad</a> to <var>adJSON</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>adDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor④">ad descriptor</a>.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-render" id="ref-for-dom-generatebidoutput-render①">render</a></code>"] is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①④">DOMString</a></code>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑧">URL parser</a> on <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-render" id="ref-for-dom-generatebidoutput-render②">render</a></code>"].</p>
       <li data-md>
        <p>If <var>adUrl</var> is failure, return failure.</p>
       <li data-md>
        <p>Set <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①⑧">url</a> to <var>adUrl</var>.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>Set <var>adDescriptor</var> to the result of <a data-link-type="dfn" href="#convert-an-ad-render" id="ref-for-convert-an-ad-render">converting an ad render</a> given <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-render" id="ref-for-dom-generatebidoutput-render③">render</a></code>"].</p>
       <li data-md>
        <p>If <var>adDescriptor</var> is failure, return failure.</p>
      </ol>
     <li data-md>
      <p>Let <var>bidAd</var> be the result of <a data-link-type="dfn" href="#find-matching-ad" id="ref-for-find-matching-ad">finding matching ad</a> given <var>adDescriptor</var>, <var>ig</var>, and false.</p>
     <li data-md>
      <p>If <var>bidAd</var> is null, return failure.</p>
     <li data-md>
      <p>Set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor①②">ad descriptor</a> to <var>adDescriptor</var>.</p>
     <li data-md>
      <p>Set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-bid-ad" id="ref-for-generated-bid-bid-ad②">bid ad</a> to <var>bidAd</var>.</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcomponents" id="ref-for-dom-generatebidoutput-adcomponents">adComponents</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨③">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>adComponents</var> be <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcomponents" id="ref-for-dom-generatebidoutput-adcomponents①">adComponents</a></code>"].</p>
       <li data-md>
        <p>Return failure if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>groupHasAdComponents</var> is false;</p>
         <li data-md>
          <p><var>adComponents</var>’s size is greater than 20.</p>
        </ul>
       <li data-md>
        <p>Let <var>adComponentDescriptors</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③④">list</a> of <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor⑤">ad descriptors</a>.</p>
       <li data-md>
        <p>For <var>component</var> in <var>adComponents</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>componentDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor⑥">ad descriptor</a>.</p>
         <li data-md>
          <p>If <var>component</var> is <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑤">DOMString</a></code>:</p>
          <ol>
           <li data-md>
            <p>Let <var>componentUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑨">URL parser</a> on <var>component</var>.</p>
           <li data-md>
            <p>If <var>componentUrl</var> is failure, return failure.</p>
           <li data-md>
            <p>Set <var>componentDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url①⑨">url</a> to <var>componentUrl</var>.</p>
          </ol>
         <li data-md>
          <p>Otherwise:</p>
          <ol>
           <li data-md>
            <p>Set <var>componentDescriptor</var> to the result of <a data-link-type="dfn" href="#convert-an-ad-render" id="ref-for-convert-an-ad-render①">converting an ad render</a> given <var>component</var>.</p>
           <li data-md>
            <p>If <var>componentDescriptor</var> is failure, return failure.</p>
          </ol>
         <li data-md>
          <p>If <a data-link-type="dfn" href="#find-matching-ad" id="ref-for-find-matching-ad①">finding matching ad</a> given <var>componentUrl</var>, <var>ig</var>, and true returns null, return failure.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③①">Append</a> <var>componentDescriptor</var> to <var>adComponentDescriptors</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors①⓪">ad component descriptors</a> to <var>adComponentDescriptors</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcost" id="ref-for-dom-generatebidoutput-adcost">adCost</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨④">exists</a>, then set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-ad-cost" id="ref-for-generated-bid-ad-cost②">ad cost</a> to <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-adcost" id="ref-for-dom-generatebidoutput-adcost①">adCost</a></code>"].</p>
     <li data-md>
      <p>If <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-modelingsignals" id="ref-for-dom-generatebidoutput-modelingsignals">modelingSignals</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨⑤">exists</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>modelingSignals</var> be <var>generateBidOutput</var>["<code class="idl"><a data-link-type="idl" href="#dom-generatebidoutput-modelingsignals" id="ref-for-dom-generatebidoutput-modelingsignals①">modelingSignals</a></code>"].</p>
       <li data-md>
        <p>If <var>modelingSignals</var> ≥ 0 and <var>modelingSignals</var> &lt; 4096, then set <var>bid</var>’s <a data-link-type="dfn" href="#generated-bid-modeling-signals" id="ref-for-generated-bid-modeling-signals②">modeling signals</a> to the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" id="ref-for-dfn-convert-ecmascript-to-idl-value①">converting</a> the ECMAScript value represented by <var>modelingSignals</var> to an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑤">unsigned short</a></code>.</p>
      </ol>
     <li data-md>
      <p>Return <var>bid</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="parse an AdRender dimension value">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-an-adrender-dimension-value">parse an AdRender dimension value</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④③">string</a> <var>input</var>: 
    <ol>
     <li data-md>
      <p>Let <var>position</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-position-variable" id="ref-for-string-position-variable">position variable</a>, initially pointing at the start of <var>input</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#strip-leading-and-trailing-ascii-whitespace" id="ref-for-strip-leading-and-trailing-ascii-whitespace">Strip leading and trailing ASCII whitespace</a> from <var>input</var>.</p>
     <li data-md>
      <p>If <var>input</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with①">starts with</a> "<code>0</code>" but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is">is</a> not "<code>0</code>" and does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with②">start with</a> "<code>0.</code>", then return null as the dimension and the empty string as the
dimension unit.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points" id="ref-for-collect-a-sequence-of-code-points">Collect a sequence of code points</a> that are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-digit" id="ref-for-ascii-digit">ASCII digits</a> or U+002E (.), given <var>position</var>.
Let that be <var>dimensionString</var>.</p>
     <li data-md>
      <p>If <var>dimensionString</var> is the empty string, then return null as the dimension and the empty
string as the dimension unit.</p>
     <li data-md>
      <p>Let <var>dimension</var> be the result of parsing <var>dimensionString</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-floating-point-number-values" id="ref-for-rules-for-parsing-floating-point-number-values">rules for parsing floating-point number values</a>.</p>
     <li data-md>
      <p>If <var>dimension</var> is an error, then return null as the dimension and the empty string as the dimension unit.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points" id="ref-for-collect-a-sequence-of-code-points①">Collect a sequence of code points</a> that are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-lower-alpha" id="ref-for-ascii-lower-alpha">ASCII lower alpha</a>, given <var>position</var>. Let
that be <var>dimensionUnit</var>.</p>
     <li data-md>
      <p>If <var>position</var> is not past the end of <var>input</var>, then return null as the dimension and the empty
string as the dimension unit.</p>
     <li data-md>
      <p>If <var>dimensionUnit</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is①">is</a> the empty string, then set <var>dimensionUnit</var> to "px".</p>
     <li data-md>
      <p>If <var>dimensionUnit</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is②">is</a> not "px", "sh", or "sw", then return null as the dimension and
the empty string as the dimension unit.</p>
     <li data-md>
      <p>Return <var>dimension</var> as the dimension and <var>dimensionUnit</var> as the dimension unit.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="convert an ad render">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="convert-an-ad-render">convert an ad render</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-adrender" id="ref-for-dictdef-adrender②">AdRender</a></code> <var>adRender</var>: 
    <ol>
     <li data-md>
      <p>Let <var>adUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①⓪">URL parser</a> on <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-url" id="ref-for-dom-adrender-url">url</a></code>"].</p>
     <li data-md>
      <p>If <var>adUrl</var> is failure, return failure.</p>
     <li data-md>
      <p>Let <var>adDescriptor</var> be a new <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor⑦">ad descriptor</a>.</p>
     <li data-md>
      <p>Set <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url②⓪">url</a> to <var>adUrl</var>.</p>
     <li data-md>
      <p>If <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-width" id="ref-for-dom-adrender-width">width</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨⑥">exists</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-height" id="ref-for-dom-adrender-height">height</a></code>"] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨⑦">exist</a>, return failure.</p>
       <li data-md>
        <p>Let <var>width</var> and <var>widthUnit</var> be the dimension and dimension unit that results from running <a data-link-type="dfn" href="#parse-an-adrender-dimension-value" id="ref-for-parse-an-adrender-dimension-value">parse an AdRender dimension value</a> with <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-width" id="ref-for-dom-adrender-width①">width</a></code>"], respectively.</p>
       <li data-md>
        <p>If <var>width</var> is null, return failure.</p>
       <li data-md>
        <p>Let <var>height</var> and <var>heightUnit</var> be the dimension and dimension unit that results from running <a data-link-type="dfn" href="#parse-an-adrender-dimension-value" id="ref-for-parse-an-adrender-dimension-value①">parse an AdRender dimension value</a> with <var>adRender</var>["<code class="idl"><a data-link-type="idl" href="#dom-adrender-height" id="ref-for-dom-adrender-height①">height</a></code>"], respectively.</p>
       <li data-md>
        <p>If <var>height</var> is null, return failure.</p>
       <li data-md>
        <p>Let <var>adSize</var> be a new <a data-link-type="dfn" href="#ad-size" id="ref-for-ad-size">ad size</a>.</p>
       <li data-md>
        <p>Set <var>adSize</var>’s <a data-link-type="dfn" href="#ad-size-width" id="ref-for-ad-size-width">width</a> to <var>width</var>, <a data-link-type="dfn" href="#ad-size-width-units" id="ref-for-ad-size-width-units">width units</a> to <var>widthUnit</var>, <a data-link-type="dfn" href="#ad-size-height" id="ref-for-ad-size-height">height</a> to <var>height</var>, <a data-link-type="dfn" href="#ad-size-height-units" id="ref-for-ad-size-height-units">height units</a> to <var>heightUnit</var>.</p>
       <li data-md>
        <p>Set <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-size" id="ref-for-ad-descriptor-size③">size</a> to <var>adSize</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>adDescriptor</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="find matching ad">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="find-matching-ad">find matching ad</dfn> given an <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor⑧">ad descriptor</a> <var>adDescriptor</var>, an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③⑦">interest group</a> <var>ig</var>, and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑧">boolean</a> <var>isComponent</var>: 
    <ol>
     <li data-md>
      <p>Let <var>adUrl</var> be <var>adDescriptor</var>’s <a data-link-type="dfn" href="#ad-descriptor-url" id="ref-for-ad-descriptor-url②①">url</a>.</p>
     <li data-md>
      <p>If <var>adUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme③">scheme</a> is not "<code>https</code>", return null.</p>
     <li data-md>
      <p>TODO: Need to check <a data-link-type="dfn" href="#ad-descriptor-size" id="ref-for-ad-descriptor-size④">size</a> as well.</p>
     <li data-md>
      <p>If <var>isComponent</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⑦">for each</a> <var>ad</var> in <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components⑨">ad components</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①②">render url</a> equals <var>adUrl</var>, return <var>ad</var>.</p>
      </ol>
     <li data-md>
      <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⑧">for each</a> <var>ad</var> in <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①⑧">ads</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>ad</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①③">render url</a> equals <var>adUrl</var>, return <var>ad</var>.</p>
      </ol>
     <li data-md>
      <p>Return null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="setBid(generateBidOutput)" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export data-lt="setBid(generateBidOutput)|setBid()" id="dom-interestgroupbiddingscriptrunnerglobalscope-setbid"><code>setBid(<var>generateBidOutput</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑤">relevant global object</a>.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-bid" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-bid①">bid</a> to null.</p>
     <li data-md>
      <p>Let <var>ig</var> be <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-interest-group" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-interest-group①">interest group</a>.</p>
     <li data-md>
      <p>Let <var>expectedCurrency</var> be <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-expected-currency" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-expected-currency①">expected currency</a>.</p>
     <li data-md>
      <p>Let <var>bidToSet</var> be the result of <a data-link-type="dfn" href="#convert-generatebidoutput-to-generated-bid" id="ref-for-convert-generatebidoutput-to-generated-bid①">converting GenerateBidOutput to generated bid</a> with <var>generateBidOutput</var>, <var>ig</var>, <var>expectedCurrency</var>, <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-is-component-auction" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-is-component-auction①">is component auction</a>, and <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components②">group has ad components</a>.</p>
     <li data-md>
      <p>If <var>bidToSet</var> is failure, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑧">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②③">TypeError</a></code>.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-bid" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-bid②">bid</a> to <var>bidToSet</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="setPriority(priority)" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"><code>setPriority(<var>priority</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑥">relevant global object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority②">priority</a> is not null, then set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority③">priority</a> to failure, and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⑨">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②④">TypeError</a></code>.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority④">priority</a> to <var>priority</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="setPrioritySignalsOverride(key, priority)" data-algorithm-for="InterestGroupBiddingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupBiddingScriptRunnerGlobalScope" data-dfn-type="method" data-export data-lt="setPrioritySignalsOverride(key, priority)|setPrioritySignalsOverride(key)" id="dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"><code>setPrioritySignalsOverride(<var>key</var>, <var>priority</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④②">Set</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑦">relevant global object</a>'s <a data-link-type="dfn" href="#interestgroupbiddingscriptrunnerglobalscope-priority-signals" id="ref-for-interestgroupbiddingscriptrunnerglobalscope-priority-signals②">priority signals</a>[<var>key</var>] to <var>priority</var>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="7.3.2" id="scoring-global-scope"><span class="secno">7.3.2. </span><span class="content">InterestGroupScoringScriptRunnerGlobalScope</span><a class="self-link" href="#scoring-global-scope"></a></h4>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>InterestGroupScoringScriptRunnerGlobalScope</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global①"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope" id="ref-for-interestgroupscriptrunnerglobalscope②"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a>,
         <a data-link-type="idl-name" href="#interestgroupscoringscriptrunnerglobalscope" id="ref-for-interestgroupscoringscriptrunnerglobalscope②"><c- n>InterestGroupScoringScriptRunnerGlobalScope</c-></a>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupscoringscriptrunnerglobalscope"><code><c- g>InterestGroupScoringScriptRunnerGlobalScope</c-></code></dfn>
        : <a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope" id="ref-for-interestgroupscriptrunnerglobalscope③"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a> {
};

</pre>
   <h4 class="heading settled" data-level="7.3.3" id="reporting-global-scope"><span class="secno">7.3.3. </span><span class="content">InterestGroupReportingScriptRunnerGlobalScope</span><a class="self-link" href="#reporting-global-scope"></a></h4>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>InterestGroupReportingScriptRunnerGlobalScope</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global②"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope" id="ref-for-interestgroupscriptrunnerglobalscope④"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a>,
         <a data-link-type="idl-name" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope②"><c- n>InterestGroupReportingScriptRunnerGlobalScope</c-></a>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="interestgroupreportingscriptrunnerglobalscope"><code><c- g>InterestGroupReportingScriptRunnerGlobalScope</c-></code></dfn>
        : <a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope" id="ref-for-interestgroupscriptrunnerglobalscope⑤"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"><c- g>sendReportTo</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑥"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope/sendReportTo(url)" data-dfn-type="argument" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-sendreportto-url-url"><code><c- g>url</c-></code><a class="self-link" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto-url-url"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon"><c- g>registerAdBeacon</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record①⓪"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑦"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③①"><c- b>USVString</c-></a>> <dfn class="idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope/registerAdBeacon(map)" data-dfn-type="argument" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon-map-map"><code><c- g>map</c-></code><a class="self-link" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon-map-map"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro"><c- g>registerAdMacro</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑧"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope/registerAdMacro(name, value)" data-dfn-type="argument" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro-name-value-name"><code><c- g>name</c-></code><a class="self-link" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro-name-value-name"></a></dfn>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③②"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope/registerAdMacro(name, value)" data-dfn-type="argument" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro-name-value-value"><code><c- g>value</c-></code><a class="self-link" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro-name-value-value"></a></dfn>);
};

</pre>
   <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro①">registerAdMacro(name, value)</a></code> is only
available in <a data-link-type="dfn" href="#report-win" id="ref-for-report-win②">report win</a>, but not <a data-link-type="dfn" href="#report-result" id="ref-for-report-result③">report result</a>.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#interestgroupreportingscriptrunnerglobalscope" id="ref-for-interestgroupreportingscriptrunnerglobalscope③">InterestGroupReportingScriptRunnerGlobalScope</a></code> has a</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupreportingscriptrunnerglobalscope-report-url">report url</dfn>
    <dd data-md>
     <p>Null, failure, or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①③">URL</a>. Defaulting to null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map">reporting beacon map</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①①">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④④">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①①">values</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①④">URLs</a>. Defaulting to null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="dfn" data-noexport id="interestgroupreportingscriptrunnerglobalscope-reporting-macro-map">reporting macro map</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①②">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④⑤">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①②">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④⑥">strings</a>. Defaulting to null.</p>
   </dl>
   <div class="algorithm" data-algorithm="sendReportTo(url)" data-algorithm-for="InterestGroupReportingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"><code>sendReportTo(<var>url</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑧">relevant global object</a>.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-report-url" id="ref-for-interestgroupreportingscriptrunnerglobalscope-report-url①">report url</a> is not null, then
set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-report-url" id="ref-for-interestgroupreportingscriptrunnerglobalscope-report-url②">report url</a> to failure, and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③⓪">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⑤">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>parsedUrl</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①①">URL parser</a> on <var>url</var>.</p>
     <li data-md>
      <p>If <var>parsedUrl</var> is failure, or <var>parsedUrl</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme④">scheme</a> is not "<code>https</code>", set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-report-url" id="ref-for-interestgroupreportingscriptrunnerglobalscope-report-url③">report url</a> to failure, and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⑥">TypeError</a></code>.</p>
     <li data-md>
      <p>Optionally, return.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined③">implementation-defined</a> condition is intended to allow <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent③①">user agents</a> to decline
    for a number of reasons, for example the <var>parsedUrl</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site②">site</a> not being <a href="https://github.com/privacysandbox/attestation">enrolled</a>.</p>
     <li data-md>
      <p>Set <var>global</var>’s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-report-url" id="ref-for-interestgroupreportingscriptrunnerglobalscope-report-url④">report url</a> to <var>parsedUrl</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="registerAdBeacon(map)" data-algorithm-for="InterestGroupReportingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="method" data-export id="dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon"><code>registerAdBeacon(<var>map</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑨">relevant global object</a>'s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map" id="ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map①"> reporting beacon map</a> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③②">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⑦">TypeError</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①⑨">For each</a> <var>url</var> of <var>map</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①③">values</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>parsedURL</var> be the result of running <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①②">URL parser</a> on <var>url</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③③">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②⑧">TypeError</a></code> if any of the following conditions hold:</p>
        <ul>
         <li data-md>
          <p><var>parsedURL</var> is failure;</p>
         <li data-md>
          <p><var>parsedURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑤">scheme</a> is not "<code>https</code>".</p>
        </ul>
      </ol>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①⓪">relevant global object</a>'s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map" id="ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map②"> reporting beacon map</a> to <var>map</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="registerAdMacro(name, value)" data-algorithm-for="InterestGroupReportingScriptRunnerGlobalScope">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="InterestGroupReportingScriptRunnerGlobalScope" data-dfn-type="method" data-export data-lt="registerAdMacro(name, value)" id="dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro"><code>registerAdMacro(<var>name</var>, <var>value</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④③">Set</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①①">relevant global object</a>'s <a data-link-type="dfn" href="#interestgroupreportingscriptrunnerglobalscope-reporting-macro-map" id="ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-macro-map①">reporting macro map</a>[<var>name</var>] to <var>value</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="8" id="interest-group-updates"><span class="secno">8. </span><span class="content">Interest Group Updates</span><a class="self-link" href="#interest-group-updates"></a></h2>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p><a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③⑧">Interest groups</a> have an <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url④">update url</a> field that allows updating the
interest group definition stored on disk with information periodically retrieved from the <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url⑤">update url</a>.  The <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update②">interest group update</a> steps are triggered during <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction⑧">runAdAuction()</a></code> and by calls to <code class="idl"><a data-link-type="idl" href="#dom-navigator-updateadinterestgroups" id="ref-for-dom-navigator-updateadinterestgroups">updateAdInterestGroups()</a></code> API:</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑤"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator⑥"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②④"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigator-updateadinterestgroups" id="ref-for-dom-navigator-updateadinterestgroups①"><c- g>updateAdInterestGroups</c-></a>();
};
</pre>
   <div class="algorithm" data-algorithm="updateAdInterestGroups()" data-algorithm-for="Navigator">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-updateadinterestgroups"><code>updateAdInterestGroups()</code></dfn> method steps are:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①③">In parallel</a>, run <a data-link-type="dfn" href="#interest-group-update" id="ref-for-interest-group-update③">interest group update</a> with
« <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑤">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin④">top-level origin</a> »</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="interest group update">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="interest group update" data-noexport id="interest-group-update">update interest groups</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑤">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⑨">origins</a> <var>owners</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③⑨">For each</a> <var>owner</var> of <var>owners</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④⓪">For each</a> <var>originalInterestGroup</var> of the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent③②">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set②⑨">interest group set</a> whose <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner④⑨">owner</a> is <var>owner</var> and <a data-link-type="dfn" href="#interest-group-next-update-after" id="ref-for-interest-group-next-update-after①">next update after</a> is before
the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time⑦">current wall time</a>:</p>
        <p class="note" role="note"><span class="marker">Note:</span> Implementations can consider loading only a portion of these interest groups
at a time to avoid issuing too many requests at once.</p>
        <ol>
         <li data-md>
          <p>Let <var>ig</var> be a deep copy of <var>originalInterestGroup</var>.</p>
         <li data-md>
          <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑧">request</a> with the following properties:</p>
          <dl>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑤">URL</a>
           <dd data-md>
            <p><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url⑥">update url</a></p>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list④">header list</a>
           <dd data-md>
            <p>«<code>Accept</code>: <code>application/json</code>»</p>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client⑤">client</a>
           <dd data-md>
            <p><code>null</code></p>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode⑤">mode</a>
           <dd data-md>
            <p>"<code>no-cors</code>"</p>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer⑤">referrer</a>
           <dd data-md>
            <p>"<code>no-referrer</code>"</p>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode⑤">credentials mode</a>
           <dd data-md>
            <p>"<code>omit</code>"</p>
           <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode⑤">redirect mode</a>
           <dd data-md>
            <p>"<code>error</code>"</p>
          </dl>
          <p class="issue" id="issue-72f1e776④"><a class="self-link" href="#issue-72f1e776④"></a> One of the side-effects of a <code>null</code> client for this subresource request is it neuters
all service worker interceptions, despite not having to set the service workers mode.</p>
          <p class="issue" id="issue-7a2c8032④"><a class="self-link" href="#issue-7a2c8032④"></a> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>).</p>
         <li data-md>
          <p>Let <var>update</var> be null.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑤">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue④">useParallelQueue</a> set to true, and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response-end-of-body" id="ref-for-process-response-end-of-body④">processResponseConsumeBody</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑤">response</a> <var>response</var> and null, failure, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①①">byte sequence</a> <var>responseBody</var>:</p>
          <ol>
           <li data-md>
            <p>If <a data-link-type="dfn" href="#validate-fetching-response" id="ref-for-validate-fetching-response②">validate fetching response</a> with <var>response</var>, <var>responseBody</var> and "<code>application/json</code>"
returns false, set <var>update</var> to failure and return.</p>
           <li data-md>
            <p>Set <var>update</var> to <var>responseBody</var>.</p>
          </ol>
         <li data-md>
          <p>Wait for <var>update</var> to be set.</p>
         <li data-md>
          <p>If <var>update</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①④">continue</a>.</p>
         <li data-md>
          <p>Let <var>parsedUpdate</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value②">parsing JSON bytes to an Infra value</a>, given <var>update</var>.</p>
         <li data-md>
          <p>If <var>parsedUpdate</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑤">continue</a>.</p>
         <li data-md>
          <p>If <var>parsedUpdate</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③④">ordered map</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑥">continue</a>.</p>
         <li data-md>
          <p>If <var>parsedUpdate</var>["<code>name</code>"] exists and doesn’t match <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②②">name</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑦">continue</a>.</p>
         <li data-md>
          <p>If <var>parsedUpdate</var>["<code>owner</code>"] exists and doesn’t match <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤⓪">owner</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑧">continue</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②⓪">For each</a> <var>key</var> → <var>value</var> of <var>parsedUpdate</var>:</p>
          <ol>
           <li data-md>
            <p>Switch on <var>key</var>:</p>
            <dl class="switch">
             <dt>"<code>priority</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①⑨">double</a></code>, set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority⑤">priority</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>enableBiddingSignalsPrioritization</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④">boolean</a></code>, set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-enable-bidding-signals-prioritization" id="ref-for-interest-group-enable-bidding-signals-prioritization③">enable bidding signals prioritization</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>priorityVector</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑤">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①③">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④⑦">strings</a> and
whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①④">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⓪">double</a></code>, set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector④">priority vector</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>prioritySignalsOverrides</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑥">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①④">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④⑧">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑤">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②①">double</a></code> or null:</p>
                <ol>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②①">For each</a> <var>pvKey</var> → <var>pvValue</var> of <var>value</var>:</p>
                  <ol>
                   <li data-md>
                    <p>If <var>pvValue</var> is null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑤">remove</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides⑤">priority signals overrides</a>[<var>pvKey</var>].</p>
                   <li data-md>
                    <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④④">set</a> <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-priority-signals-overrides" id="ref-for-interest-group-priority-signals-overrides⑥">priority signals overrides</a>[<var>pvKey</var>] to <var>pvValue</var>.</p>
                  </ol>
                </ol>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>executionMode</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is "<code>compatibility</code>" or "<code>group-by-origin</code>",
set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-execution-mode" id="ref-for-interest-group-execution-mode④">execution mode</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>biddingLogicURL</code>" 
             <dt>"<code>biddingWasmHelperURL</code>" 
             <dt>"<code>updateURL</code>" 
             <dt>"<code>trustedBiddingSignalsURL</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table</p>
                <table class="data">
                 <thead>
                  <tr>
                   <th>Group member
                   <th>Interest group field
                 <tbody>
                  <tr>
                   <td>"<code>biddingLogicURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①①">bidding url</a>
                  <tr>
                   <td>"<code>biddingWasmHelperURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url⑤">bidding wasm helper url</a>
                  <tr>
                   <td>"<code>updateURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url⑦">update url</a>
                  <tr>
                   <td>"<code>trustedBiddingSignalsURL</code>"
                   <td><a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url⑤">trusted bidding signals url</a>
                </table>
                <ol>
                 <li data-md>
                  <p>Let <var>parsedURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①③">URL parser</a> on <var>value</var>.</p>
                 <li data-md>
                  <p>If <var>key</var> is not <var>groupMember</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①⑨">continue</a>.</p>
                 <li data-md>
                  <p>Jump to the step labeled <i><a href="#abort-update">Abort update</a></i> if any of the following conditions hold:</p>
                  <ul>
                   <li data-md>
                    <p><var>parsedURL</var> is failure;</p>
                   <li data-md>
                    <p><var>parsedURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①③">same origin</a> with <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤①">owner</a>;</p>
                   <li data-md>
                    <p><var>parsedURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials②">includes credentials</a>;</p>
                   <li data-md>
                    <p><var>parsedURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">fragment</a> is not null.</p>
                  </ul>
                 <li data-md>
                  <p>Set <var>ig</var>’s <var>interestGroupField</var> to <var>parsedURL</var>.</p>
                </ol>
              </ol>
             <dt>"<code>trustedBiddingSignalsKeys</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>If <var>value</var> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑥">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④⑨">strings</a>,
set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-keys" id="ref-for-interest-group-trusted-bidding-signals-keys⑤">trusted bidding signals keys</a> to <var>value</var>.</p>
               <li data-md>
                <p>Otherwise, jump to the step labeled <i><a href="#abort-update">Abort update</a></i>.</p>
              </ol>
             <dt>"<code>ads</code>" 
             <dt>"<code>adComponents</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>For each <var>groupMember</var> and <var>interestGroupField</var> in the following table</p>
                <table class="data">
                 <thead>
                  <tr>
                   <th>Group member
                   <th>Interest group field
                 <tbody>
                  <tr>
                   <td>"<code>ads</code>"
                   <td><a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads①⑨">ads</a>
                  <tr>
                   <td>"<code>adComponents</code>"
                   <td><a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①⓪">ad components</a>
                </table>
                <ol>
                 <li data-md>
                  <p>If <var>key</var> is not <var>groupMember</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②⓪">continue</a>.</p>
                 <li data-md>
                  <p>If <var>value</var> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑦">list</a> of <code class="idl"><a data-link-type="idl" href="#dictdef-auctionad" id="ref-for-dictdef-auctionad④">AuctionAd</a></code>, jump to the step
labeled <i><a href="#abort-update">Abort update</a></i>.</p>
                 <li data-md>
                  <p>Let <var>igAds</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑧">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①⓪">interest group ads</a>.</p>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④①">For each</a> <var>ad</var> of <var>value</var>:</p>
                  <ol>
                   <li data-md>
                    <p>Let <var>igAd</var> be a new <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①①">interest group ad</a>.</p>
                   <li data-md>
                    <p>Let <var>renderURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①④">URL parser</a> on <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-renderurl" id="ref-for-dom-auctionad-renderurl②">renderURL</a></code>"].</p>
                   <li data-md>
                    <p>Jump to the step labeled <i><a href="#abort-update">Abort update</a></i> if any of the following conditions hold:</p>
                    <ul>
                     <li data-md>
                      <p><var>renderURL</var> is failure;</p>
                     <li data-md>
                      <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑥">scheme</a> is not "<code>https</code>";</p>
                     <li data-md>
                      <p><var>renderURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#include-credentials" id="ref-for-include-credentials③">includes credentials</a>.</p>
                    </ul>
                   <li data-md>
                    <p>Set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-render-url" id="ref-for-interest-group-ad-render-url①④">render url</a> to <var>renderURL</var>.</p>
                   <li data-md>
                    <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata③">metadata</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨⑧">exists</a>, then let <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-metadata" id="ref-for-interest-group-ad-metadata⑥">metadata</a> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string" id="ref-for-serialize-a-javascript-value-to-a-json-string⑦">serializing a JavaScript value to a JSON string</a>, given <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-metadata" id="ref-for-dom-auctionad-metadata④">metadata</a></code>"].
If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③④">throws</a>, jump to the step
labeled <i><a href="#abort-update">Abort update</a></i>.</p>
                   <li data-md>
                    <p>If <var>groupMember</var> is "<code>ads</code>":</p>
                    <ol>
                     <li data-md>
                      <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-buyerreportingid" id="ref-for-dom-auctionad-buyerreportingid①">buyerReportingId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨⑨">exists</a> then set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id⑥">buyer reporting ID</a> to it.</p>
                     <li data-md>
                      <p>If <var>ad</var>["<code class="idl"><a data-link-type="idl" href="#dom-auctionad-buyerandsellerreportingid" id="ref-for-dom-auctionad-buyerandsellerreportingid①">buyerAndSellerReportingId</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪⓪">exists</a> then set <var>igAd</var>’s <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id⑦">buyer and seller reporting ID</a> to it.</p>
                    </ol>
                   <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③②">Append</a> <var>igAd</var> to <var>igAds</var>.</p>
                  </ol>
                 <li data-md>
                  <p>If <var>igAds</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑥">is empty</a>:</p>
                  <ol>
                   <li data-md>
                    <p>Set <var>ig</var>’s <var>interestGroupField</var> to <var>igAds</var>.</p>
                  </ol>
                </ol>
              </ol>
             <dt>"<code>additionalBidKey</code>" 
             <dd>
              <ol>
               <li data-md>
                <p>Let <var>decodedKey</var> be the result of running <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#forgiving-base64-decode" id="ref-for-forgiving-base64-decode④">forgiving-base64 decode</a> with <var>value</var>.</p>
               <li data-md>
                <p>Jump to the step labeled <i><a href="#abort-update">Abort update</a></i> if any of the
following conditions hold:</p>
                <ul>
                 <li data-md>
                  <p><var>decodedKey</var> is a failure;</p>
                 <li data-md>
                  <p><var>decodedKey</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence-length" id="ref-for-byte-sequence-length③">length</a> is not 32;</p>
                </ul>
               <li data-md>
                <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key⑥">additional bid key</a> to <var>decodedKey</var>.</p>
              </ol>
            </dl>
          </ol>
         <li data-md>
          <p>Jump to the step labeled <i><a href="#abort-update">Abort update</a></i> if any of the
following conditions hold:</p>
          <ul>
           <li data-md>
            <p><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②⓪">ads</a> is not null, and <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key⑦">additional bid key</a> is not null;</p>
           <li data-md>
            <p><var>ig</var>’s <a data-link-type="dfn" href="#interest-group-estimated-size" id="ref-for-interest-group-estimated-size④">estimated size</a> is greater than 50 KB.</p>
          </ul>
         <li data-md>
          <p>Set <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-next-update-after" id="ref-for-interest-group-next-update-after②">next update after</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-wall-time" id="ref-for-dfn-current-wall-time⑧">current wall time</a> plus 24 hours.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace④">Replace</a> the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group③⑨">interest group</a> that has <var>ig</var>’s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤②">owner</a> and <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②③">name</a> in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent③③">user agent</a>'s <a data-link-type="dfn" href="#interest-group-set" id="ref-for-interest-group-set③⓪">interest group set</a> with <var>ig</var>.</p>
         <li data-md>
          <p><i id="abort-update">Abort update</i>: We jump here if some part of the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④⓪">interest group</a> update failed. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②①">Continue</a> to the next <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④①">interest group</a> update.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="9" id="common-algorithms"><span class="secno">9. </span><span class="content">Common Algorithms</span><a class="self-link" href="#common-algorithms"></a></h2>
   <p>The following algorithms are some helper methods used in this document.</p>
   <div class="algorithm" data-algorithm="get uuid from string">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-uuid-from-string">get uuid from string</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤⓪">string</a> <var>input</var>: 
    <ol>
     <li data-md>
      <p>If <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⑧">length</a> is not 36, return an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤①">string</a>.</p>
     <li data-md>
      <p>Let <var>uuidStr</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤②">string</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④②">For each</a> <var>i</var> in <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#the-range" id="ref-for-the-range②">the range</a> from 1 to 36, inclusive:</p>
      <ol>
       <li data-md>
        <p>Let <var>unit</var> be <var>input</var>’s <var>i</var>th <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#code-unit" id="ref-for-code-unit">code unit</a>.</p>
       <li data-md>
        <p>If « 8, 13, 18, 23 » <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain④">contains</a> <var>i</var>:</p>
        <ol>
         <li data-md>
          <p>If <var>unit</var> is not 0x002D (-):</p>
          <ol>
           <li data-md>
            <p>Return an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤③">string</a>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>If <var>unit</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-lower-hex-digit" id="ref-for-ascii-lower-hex-digit">ASCII lower hex digit</a>:</p>
          <ol>
           <li data-md>
            <p>Return an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤④">string</a>.</p>
          </ol>
         <li data-md>
          <p>Append <var>unit</var> to the end of <var>uuidStr</var>.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-encode" id="ref-for-ascii-encode⑤">ASCII encoded</a> <var>uuidStr</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="10" id="permissions-policy-integration"><span class="secno">10. </span><span class="content">Permissions Policy integration</span><a class="self-link" href="#permissions-policy-integration"></a></h2>
   <p>This specification defines two <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature④">policy-controlled features</a> identified by the strings
"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="join-ad-interest-group">join-ad-interest-group</dfn></code>", and
"<code><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="run-ad-auction">run-ad-auction</dfn></code>". Their <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlists</a> are "<code>*</code>".</p>
   <div class="issue no-marker" id="issue-fe255eea">
    <a class="self-link" href="#issue-fe255eea"></a><a class="marker" href="https://github.com/WICG/turtledove/issues/522">Issue #522 on GitHub: “Move "join-ad-interest-group" &amp; "run-ad-auction" default allowlists to `self`”</a>
    <p dir="auto">Currently they're <code class="notranslate">*</code>.</p>
   </div>
   <h2 class="heading settled" data-level="11" id="fetch-patch-for-auction-headers"><span class="secno">11. </span><span class="content">Fetch Patch for Auction Headers</span><a class="self-link" href="#fetch-patch-for-auction-headers"></a></h2>
   <p>This section specifies a manner by which some data, including <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①③">additional bids</a> and <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals④">direct from seller signals</a>, may be provided to auctions such that the data is only used within
their intended auction.</p>
   <p>Any <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code> in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable③">traversable navigable</a> may run a Protected Audience auction (with <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①⓪">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction⑨">runAdAuction()</a></code>) whose worklet functions receive signal objects
derived from JSON from an <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals">Ad-Auction-Signals</a></code>`</span> header, or <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①④">additional bids</a> derived from an <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid">Ad-Auction-Additional-Bid</a></code>`</span> header, captured by a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch">fetch()</a></code> call
(using the <code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders②">adAuctionHeaders</a></code> option) initiated by any <em>other</em> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code> in the <em>same</em> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable④">traversable navigable</a>.</p>
   <div class="algorithm" data-algorithm="fetch per traversable navigable structures patch">
     Modify <a data-link-type="biblio" href="#biblio-fetch" title="Fetch Standard">[FETCH]</a>'s <a href="https://fetch.spec.whatwg.org/#infrastructure"><cite>Fetch</cite> § 2 Infrastructure</a> to add a new section called "Per Traversable Navigable
Structures", with the following content: 
    <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑤">traversable navigable</a> has a <dfn class="dfn-paneled" data-dfn-for="traversable navigable" data-dfn-type="dfn" data-lt="captured ad auction signals headers" data-noexport id="traversable-navigable-captured-ad-auction-signals-headers">captured ad auction signals
headers</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑦">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑤">keys</a> are <a data-link-type="dfn" href="#direct-from-seller-signals-key" id="ref-for-direct-from-seller-signals-key①">direct from seller signals keys</a> and
whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑥">values</a> are <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals⑤">direct from seller signals</a>.</p>
    <p class="note" role="note"><span class="marker">NOTE:</span> This is only captured during a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑨">request</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-initiator-type" id="ref-for-request-initiator-type②">initiator type</a> is <code>"fetch"</code>, made
with the <code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders③">adAuctionHeaders</a></code> option set to <code>true</code>, as described in the <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals①">Ad-Auction-Signals</a></code>`</span> header description.</p>
    <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑥">traversable navigable</a> has a <dfn class="dfn-paneled" data-dfn-for="traversable navigable" data-dfn-type="dfn" data-lt="captured ad auction additional bids headers" data-noexport id="traversable-navigable-captured-ad-auction-additional-bids-headers">captured ad auction additional
bids headers</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑧">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑥">keys</a> are <a data-link-type="dfn" href="#auction-nonce" id="ref-for-auction-nonce②">auction nonces</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑦">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤⑤">strings</a>.</p>
    <p class="note" role="note"><span class="marker">NOTE:</span> This is only captured during a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①⓪">request</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-initiator-type" id="ref-for-request-initiator-type③">initiator type</a> is <code>"fetch"</code>, made
with the <code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders④">adAuctionHeaders</a></code> option set to <code>true</code>, as described in the <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid①">Ad-Auction-Additional-Bid</a></code>`</span> header description.</p>
   </div>
   <div class="algorithm" data-algorithm="fetch capture adAuctionHeaders boolean patch">
     Modify the definition of a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①①">request</a>: 
    <p>A <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①②">request</a> has an associated boolean <dfn class="dfn-paneled" data-dfn-for="request" data-dfn-type="dfn" data-noexport id="request-capture-ad-auction-headers">capture-ad-auction-headers</dfn>.
Unless stated otherwise it is false.</p>
   </div>
   <div class="algorithm" data-algorithm="fetch capture adAuctionHeaders RequestInit patch">
     Modify <a data-link-type="biblio" href="#biblio-fetch" title="Fetch Standard">[FETCH]</a>'s <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#requestinit" id="ref-for-requestinit">RequestInit</a></code> dictionary to add an adAuctionHeaders attribute: 
<pre class="idl highlight def"><c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fetch.spec.whatwg.org/#requestinit" id="ref-for-requestinit①"><c- g>RequestInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RequestInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-requestinit-adauctionheaders"><code><c- g>adAuctionHeaders</c-></code></dfn>;
};
</pre>
   </div>
   <div class="algorithm" data-algorithm="fetch new request patch">
     The following step will be added to the <code><a class="idl-code" data-link-type="constructor" href="https://fetch.spec.whatwg.org/#dom-request" id="ref-for-dom-request"> new Request (<var>input</var>, <var>init</var>)</a></code> constructor steps, before
step "Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request">request</a> to <var>request</var>": 
    <ol>
     <li data-md>
      <p>If <var>init</var>["<code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders⑤">adAuctionHeaders</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪①">exists</a>, then set <var>request</var>’s <a data-link-type="dfn" href="#request-capture-ad-auction-headers" id="ref-for-request-capture-ad-auction-headers">capture-ad-auction-headers</a> to it.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch Sec-Ad-Auction-Fetch patch">
     The following step will be added to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-network-or-cache-fetch" id="ref-for-concept-http-network-or-cache-fetch">HTTP-network-or-cache fetch</a> algorithm, before step
"Modify <var>httpRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list⑤">header list</a> per HTTP. ...": 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①③">request</a>'s <a data-link-type="dfn" href="#request-capture-ad-auction-headers" id="ref-for-request-capture-ad-auction-headers①">capture-ad-auction-headers</a> is true, then <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header" id="ref-for-concept-header-list-set-structured-header">set a
structured field value</a> given «<span>`<code><a data-link-type="http-header" href="#http-headerdef-sec-ad-auction-fetch" id="ref-for-http-headerdef-sec-ad-auction-fetch">Sec-Ad-Auction-Fetch</a></code>`</span>, the <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#boolean" id="ref-for-boolean⑨">boolean</a> <code>?1</code>»
in <var>httpRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list">header list</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch auction headers patch">
     The following will be added to <a href="https://fetch.spec.whatwg.org/#http-extensions"><cite>Fetch</cite> § 3 HTTP extensions</a>: 
    <h3 class="heading settled" data-level="11.1" id="sec-ad-auction-fetch-header"><span class="secno">11.1. </span><span class="content">The `<a data-link-type="http-header" href="#http-headerdef-sec-ad-auction-fetch" id="ref-for-http-headerdef-sec-ad-auction-fetch①"><code>Sec-Ad-Auction-Fetch</code></a>` HTTP
request header</span><a class="self-link" href="#sec-ad-auction-fetch-header"></a></h3>
    <p>The `<dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-sec-ad-auction-fetch"><code>Sec-Ad-Auction-Fetch</code></dfn>` request header is an optional <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#top" id="ref-for-top③">structured header</a> with of type <a data-link-type="dfn" href="https://httpwg.org/specs/rfc8941.html#boolean" id="ref-for-boolean①⓪">boolean</a>. <span>`<code><a data-link-type="http-header" href="#http-headerdef-sec-ad-auction-fetch" id="ref-for-http-headerdef-sec-ad-auction-fetch②">Sec-Ad-Auction-Fetch</a></code>`</span> will only
be set on a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①④">request</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-initiator-type" id="ref-for-request-initiator-type④">initiator type</a> is <code>"fetch"</code>, made with the <code class="idl"><a data-link-type="idl" href="#dom-requestinit-adauctionheaders" id="ref-for-dom-requestinit-adauctionheaders⑥">adAuctionHeaders</a></code> option set to <code>true</code>. If <span>`<code><a data-link-type="http-header" href="#http-headerdef-sec-ad-auction-fetch" id="ref-for-http-headerdef-sec-ad-auction-fetch③">Sec-Ad-Auction-Fetch</a></code>`</span> is equal to <code>?1</code>,
the user agent will remove any <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals②">Ad-Auction-Signals</a></code>`</span> from the returned <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑥">response</a> -- the <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals③">Ad-Auction-Signals</a></code>`</span> value will instead only be used in Protected Audiences auctions.</p>
    <h3 class="heading settled" data-level="11.2" id="ad-auction-signals-header"><span class="secno">11.2. </span><span class="content">The `<a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals④"><code>Ad-Auction-Signals</code></a>` HTTP
response header</span><a class="self-link" href="#ad-auction-signals-header"></a></h3>
    <p>The `<dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-ad-auction-signals"><code>Ad-Auction-Signals</code></dfn>` response header provides value
of a JSON array of dictionaries, each with an <code>adSlot</code> key. Protected Audience non-component,
component, and top-level auctions may specify which signals to load by the <code>adSlot</code> key.</p>
    <h3 class="heading settled" data-level="11.3" id="ad-auction-additional-bid-header"><span class="secno">11.3. </span><span class="content">The `<a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid②"><code>Ad-Auction-Additional-Bid</code></a>`
HTTP response header.</span><a class="self-link" href="#ad-auction-additional-bid-header"></a></h3>
    <p>The `<dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-ad-auction-additional-bid"><code>Ad-Auction-Additional-Bid</code></dfn>` response header provides value
of a string in the format of <code>&lt;auction nonce>:&lt;base64-encoding of the signed additional bid></code>, which
corresponds to a single <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①⑤">additional bid</a>. The response may include more than one <a data-link-type="dfn" href="#additional-bids" id="ref-for-additional-bids①⑥">additional bid</a> by specifying multiple instances of the <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid③">Ad-Auction-Additional-Bid</a></code>`</span> response header.</p>
   </div>
   <div class="algorithm" data-algorithm="ad auction fetch redirect patch">
     The following steps will be added to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch">HTTP fetch</a> algorithm, immediately under the step "If <var>internalResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-status" id="ref-for-concept-status">status</a> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#redirect-status" id="ref-for-redirect-status">redirect status</a>:" 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete">Delete</a> "<span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals⑤">Ad-Auction-Signals</a></code>`</span>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑤">header list</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete①">Delete</a> "<span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid④">Ad-Auction-Additional-Bid</a></code>`</span>" from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑥">header list</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch auction signals response patch">
     The following step will be added to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch①">HTTP fetch</a> algorithm, before step
"Return <var>response</var>.": 
    <ol>
     <li data-md>
      <p>If <var>response</var> is not null, <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-status" id="ref-for-concept-status①">status</a> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#redirect-status" id="ref-for-redirect-status①">redirect status</a>, <var>fetchParams</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-params-task-destination" id="ref-for-fetch-params-task-destination">task destination</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object③">global object</a> that’s a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code> object, and <var>request</var>’s <a data-link-type="dfn" href="#request-capture-ad-auction-headers" id="ref-for-request-capture-ad-auction-headers②">capture-ad-auction-headers</a> is <code>true</code>:</p>
      <ol>
       <li data-md>
        <p>Let <var>navigable</var> be <var>fetchParams</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-params-task-destination" id="ref-for-fetch-params-task-destination①">task destination</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window⑦">associated Document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable③">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑦">traversable navigable</a>.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#concept-update-captured-headers" id="ref-for-concept-update-captured-headers">update captured headers</a> with <var>navigable</var>’s <a data-link-type="dfn" href="#traversable-navigable-captured-ad-auction-signals-headers" id="ref-for-traversable-navigable-captured-ad-auction-signals-headers①">captured ad auction signals headers</a>, <var>navigable</var>’s <a data-link-type="dfn" href="#traversable-navigable-captured-ad-auction-additional-bids-headers" id="ref-for-traversable-navigable-captured-ad-auction-additional-bids-headers">captured ad auction additional bids headers</a>, <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑦">header list</a>, and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑥">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch update captured headers patch">
     The following algorithm will be added to the <a href="https://fetch.spec.whatwg.org/#fetching"><cite>Fetch</cite> § 4 Fetching</a> section: 
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="concept-update-captured-headers">update captured headers</dfn> with a <a data-link-type="dfn" href="#traversable-navigable-captured-ad-auction-signals-headers" id="ref-for-traversable-navigable-captured-ad-auction-signals-headers②">captured ad auction signals headers</a> <var>storedSignalsHeaders</var>, <a data-link-type="dfn" href="#traversable-navigable-captured-ad-auction-additional-bids-headers" id="ref-for-traversable-navigable-captured-ad-auction-additional-bids-headers①">captured ad auction additional bids headers</a> <var>storedAdditionalBidsHeaders</var>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list①">header list</a> <var>responseHeaders</var>, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⓪">origin</a> <var>requestOrigin</var>:</p>
    <ol>
     <li data-md>
      <p>Let <var>adAuctionSignals</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get" id="ref-for-concept-header-list-get">getting</a> <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals⑥">Ad-Auction-Signals</a></code>`</span> from <var>responseHeaders</var>.</p>
     <li data-md>
      <p>If <var>adAuctionSignals</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete②">Delete</a> "<span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals⑦">Ad-Auction-Signals</a></code>`</span>" from <var>responseHeaders</var>.</p>
        <p class="note" role="note"><span class="marker">NOTE:</span> This step prevents the header value from being used outside the intended auctions —<wbr>that is, scripts making the <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch①">fetch()</a></code> request aren’t able to load
the header value.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#handle-ad-auction-signals-header-value" id="ref-for-handle-ad-auction-signals-header-value">Handle ad auction signals header value</a> given <var>adAuctionSignals</var>, <var>storedSignalsHeaders</var> and <var>requestOrigin</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>additionalBids</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-decode-split" id="ref-for-concept-header-list-get-decode-split">getting, decoding, and splitting</a> <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid⑤">Ad-Auction-Additional-Bid</a></code>`</span> from <var>responseHeaders</var>.</p>
     <li data-md>
      <p>If <var>additionalBids</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-delete" id="ref-for-concept-header-list-delete③">Delete</a> "<span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid⑥">Ad-Auction-Additional-Bid</a></code>`</span>" from <var>responseHeaders</var>.</p>
        <p class="note" role="note"><span class="marker">NOTE:</span> This step prevents the header value from being used outside the intended auctions —<wbr>that is, scripts making the <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch②">fetch()</a></code> request aren’t able to load
the header value.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④③">For each</a> <var>bid</var> of <var>additionalBids</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>nonceAndAdditionalBid</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#strictly-split" id="ref-for-strictly-split">strictly splitting</a> <var>bid</var> on U+003A (:).</p>
         <li data-md>
          <p>If <var>nonceAndAdditionalBid</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-size" id="ref-for-list-size⑧">size</a> is not 2, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②②">continue</a>.</p>
         <li data-md>
          <p>Let <var>nonce</var> be <var>nonceAndAdditionalBid</var>[0].</p>
         <li data-md>
          <p>If <var>nonce</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①⑨">length</a> is not 36, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②③">continue</a>.</p>
         <li data-md>
          <p>Set <var>storedAdditionalBidsHeaders</var>[<var>nonce</var>] to <var>nonceAndAdditionalBid</var>[1].</p>
        </ol>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="handle ad auction signals header value">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="handle-ad-auction-signals-header-value">handle ad auction signals header value</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①②">byte sequence</a> <var>adAuctionSignals</var>, <a data-link-type="dfn" href="#traversable-navigable-captured-ad-auction-signals-headers" id="ref-for-traversable-navigable-captured-ad-auction-signals-headers③">captured ad auction signals headers</a> <var>storedSignalsHeaders</var>, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②①">origin</a> <var>requestOrigin</var>: 
    <ol>
     <li data-md>
      <p>Let <var>parsedSignals</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value" id="ref-for-parse-json-bytes-to-an-infra-value③">parsing JSON bytes to an Infra value</a>, given <var>adAuctionSignals</var>.</p>
     <li data-md>
      <p>If <var>parsedSignals</var> is failure or not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③⑨">list</a>, return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④④">For each</a> <var>signal</var> of <var>parsedSignals</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>signal</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③⑨">ordered map</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②④">continue</a>.</p>
       <li data-md>
        <p>If <var>signal</var>["<code>adSlot</code>"] doesn’t exist, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②⑤">continue</a>.</p>
       <li data-md>
        <p>Let <var>signalsKey</var> be a new <a data-link-type="dfn" href="#direct-from-seller-signals-key" id="ref-for-direct-from-seller-signals-key②">direct from seller signals key</a>, with its <a data-link-type="dfn" href="#direct-from-seller-signals-key-seller" id="ref-for-direct-from-seller-signals-key-seller①">seller</a> set to <var>requestOrigin</var> and its <a data-link-type="dfn" href="#direct-from-seller-signals-key-ad-slot" id="ref-for-direct-from-seller-signals-key-ad-slot①">ad slot</a> set to <var>signal</var>["<code>adSlot</code>"].</p>
       <li data-md>
        <p>Let <var>processedSignals</var> be a new <a data-link-type="dfn" href="#direct-from-seller-signals" id="ref-for-direct-from-seller-signals⑥">direct from seller signals</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑥">Remove</a> <var>signal</var>["<code>adSlot</code>"].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②②">For each</a> <var>key</var> → <var>value</var> of <var>signal</var>:</p>
        <ol>
         <li data-md>
          <p>Switch on <var>key</var>:</p>
          <dl class="switch">
           <dt>"<code>sellerSignals</code>" 
           <dd>
            <ol>
             <li data-md>
              <p>Set <var>processedSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-seller-signals" id="ref-for-direct-from-seller-signals-seller-signals①">seller signals</a> to the result
of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string③">serializing an Infra value to a JSON string</a>, given <var>value</var>.</p>
            </ol>
           <dt>"<code>auctionSignals</code>" 
           <dd>
            <ol>
             <li data-md>
              <p>Set <var>processedSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-auction-signals" id="ref-for-direct-from-seller-signals-auction-signals②">auction signals</a> to the result
of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string④">serializing an Infra value to a JSON string</a>, given <var>value</var>.</p>
            </ol>
           <dt>"<code>perBuyerSignals</code>" 
           <dd>
            <ol>
             <li data-md>
              <p>If <var>value</var> is not an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⓪">ordered map</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②⑥">continue</a>.</p>
             <li data-md>
              <p>For each <var>buyer</var> → <var>buyerSignals</var> of <var>value</var>:</p>
              <ol>
               <li data-md>
                <p>Let <var>buyerOrigin</var> be the result of <a data-link-type="dfn" href="#parse-an-https-origin" id="ref-for-parse-an-https-origin①⑥">parsing an https origin</a> on <var>buyer</var>.</p>
               <li data-md>
                <p>If <var>buyerOrigin</var> is failure, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②⑦">continue</a>.</p>
               <li data-md>
                <p>Let <var>buyerSignalsString</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string" id="ref-for-serialize-an-infra-value-to-a-json-string⑤">serializing an Infra value to a JSON string</a>, given <var>buyerSignals</var>.</p>
               <li data-md>
                <p>Set <var>processedSignals</var>’s <a data-link-type="dfn" href="#direct-from-seller-signals-per-buyer-signals" id="ref-for-direct-from-seller-signals-per-buyer-signals②">per buyer signals</a>[<var>buyerOrigin</var>] to <var>buyerSignalsString</var>.</p>
              </ol>
            </ol>
          </dl>
        </ol>
       <li data-md>
        <p>Set <var>storedSignalsHeaders</var>[<var>signalsKey</var>] to <var>processedSignals</var>.</p>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="12" id="structures"><span class="secno">12. </span><span class="content">Structures</span><a class="self-link" href="#structures"></a></h2>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-previouswin"><code><c- g>PreviousWin</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long" id="ref-for-idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="PreviousWin" data-dfn-type="dict-member" data-export data-type="long long " id="dom-previouswin-timedelta"><code><c- g>timeDelta</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="PreviousWin" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-previouswin-adjson"><code><c- g>adJSON</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-biddingbrowsersignals"><code><c- g>BiddingBrowserSignals</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⓪"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-biddingbrowsersignals-topwindowhostname"><code><c- g>topWindowHostname</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-biddingbrowsersignals-seller"><code><c- g>seller</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long"><c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="long " id="dom-biddingbrowsersignals-joincount"><code><c- g>joinCount</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long①"><c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="long " id="dom-biddingbrowsersignals-bidcount"><code><c- g>bidCount</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long" id="ref-for-idl-long②"><c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="long " id="dom-biddingbrowsersignals-recency"><code><c- g>recency</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-biddingbrowsersignals-toplevelseller"><code><c- g>topLevelSeller</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-previouswin" id="ref-for-dictdef-previouswin②"><c- n>PreviousWin</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="sequence<PreviousWin> " id="dom-biddingbrowsersignals-prevwinsms"><code><c- g>prevWinsMs</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="object " id="dom-biddingbrowsersignals-wasmhelper"><code><c- g>wasmHelper</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="BiddingBrowserSignals" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-biddingbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-scoringbrowsersignals"><code><c- g>ScoringBrowserSignals</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-scoringbrowsersignals-topwindowhostname"><code><c- g>topWindowHostname</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③⑤"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-scoringbrowsersignals-interestgroupowner"><code><c- g>interestGroupOwner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③⑥"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-scoringbrowsersignals-renderurl"><code><c- g>renderURL</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-scoringbrowsersignals-biddingdurationmsec"><code><c- g>biddingDurationMsec</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-scoringbrowsersignals-bidcurrency"><code><c- g>bidCurrency</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long③"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-scoringbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③⑦"><c- b>USVString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoringBrowserSignals" data-dfn-type="dict-member" data-export data-type="sequence<USVString> " id="dom-scoringbrowsersignals-adcomponents"><code><c- g>adComponents</c-></code></dfn>;
};
</pre>
   <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dictdef-scoringbrowsersignals" id="ref-for-dictdef-scoringbrowsersignals②">ScoringBrowserSignals</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-scoringbrowsersignals-adcomponents" id="ref-for-dom-scoringbrowsersignals-adcomponents①">adComponents</a></code> is <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⑤">undefined</a></code> when <a data-link-type="dfn" href="#generated-bid-ad-component-descriptors" id="ref-for-generated-bid-ad-component-descriptors①①">ad component descriptors</a> is null or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑦">an empty list</a>. It cannot be
an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty⑧">empty list</a>.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-reportingbrowsersignals"><code><c- g>ReportingBrowserSignals</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-reportingbrowsersignals-topwindowhostname"><code><c- g>topWindowHostname</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-reportingbrowsersignals-interestgroupowner"><code><c- g>interestGroupOwner</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③⑨"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-reportingbrowsersignals-renderurl"><code><c- g>renderURL</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②②"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="double " id="dom-reportingbrowsersignals-bid"><code><c- g>bid</c-></code></dfn>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②③"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="double " id="dom-reportingbrowsersignals-highestscoringotherbid"><code><c- g>highestScoringOtherBid</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-reportingbrowsersignals-bidcurrency"><code><c- g>bidCurrency</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-reportingbrowsersignals-highestscoringotherbidcurrency"><code><c- g>highestScoringOtherBidCurrency</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-reportingbrowsersignals-toplevelseller"><code><c- g>topLevelSeller</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④①"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-reportingbrowsersignals-componentseller"><code><c- g>componentSeller</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④②"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportingBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-reportingbrowsersignals-buyerandsellerreportingid"><code><c- g>buyerAndSellerReportingId</c-></code></dfn>;
};
</pre>
   <p><code class="idl"><a data-link-type="idl" href="#dictdef-reportingbrowsersignals" id="ref-for-dictdef-reportingbrowsersignals②">ReportingBrowserSignals</a></code> includes browser signals both <code>reportResult()</code> and <code>reportWin()</code> get.</p>
   <dl class="domintro">
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-topwindowhostname" id="ref-for-dom-reportingbrowsersignals-topwindowhostname①">topWindowHostname</a></code> 
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin⑤">Top-level origin</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host" id="ref-for-concept-origin-host④">host</a> 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-interestgroupowner" id="ref-for-dom-reportingbrowsersignals-interestgroupowner①">interestGroupOwner</a></code> 
    <dd>The winning <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④②">interest group</a>'s <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤③">owner</a>. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-renderurl" id="ref-for-dom-reportingbrowsersignals-renderurl①">renderURL</a></code> 
    <dd>The render URL returned by "<code>generateBid()</code>". It is <a data-link-type="dfn" href="#query-reporting-id-k-anonymity-count" id="ref-for-query-reporting-id-k-anonymity-count②">k-anonymous</a> 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-bid" id="ref-for-dom-reportingbrowsersignals-bid①">bid</a></code> 
    <dd><a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value④">Stochastically rounded</a> winning bid. This is always in the bidder’s own
    currency 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-highestscoringotherbid" id="ref-for-dom-reportingbrowsersignals-highestscoringotherbid①">highestScoringOtherBid</a></code> 
    <dd>The <a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value⑤">stochastically rounded value</a> of the bid that got the second highest
    score, or 0 if it’s not available. 0 for top-level auctions with components 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-bidcurrency" id="ref-for-dom-reportingbrowsersignals-bidcurrency①">bidCurrency</a></code> 
    <dd>The currency the <code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-bid" id="ref-for-dom-reportingbrowsersignals-bid②">bid</a></code> is in 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-highestscoringotherbidcurrency" id="ref-for-dom-reportingbrowsersignals-highestscoringotherbidcurrency①">highestScoringOtherBidCurrency</a></code> 
    <dd>The currency the <code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-highestscoringotherbid" id="ref-for-dom-reportingbrowsersignals-highestscoringotherbid②">highestScoringOtherBid</a></code> is in 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-toplevelseller" id="ref-for-dom-reportingbrowsersignals-toplevelseller①">topLevelSeller</a></code> 
    <dd>Copied from <a data-link-type="dfn" href="#leading-bid-info-top-level-seller" id="ref-for-leading-bid-info-top-level-seller③">top level seller</a> 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-componentseller" id="ref-for-dom-reportingbrowsersignals-componentseller①">componentSeller</a></code> 
    <dd>Copied from <a data-link-type="dfn" href="#leading-bid-info-component-seller" id="ref-for-leading-bid-info-component-seller⑦">component seller</a> 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportingbrowsersignals-buyerandsellerreportingid" id="ref-for-dom-reportingbrowsersignals-buyerandsellerreportingid①">buyerAndSellerReportingId</a></code> 
    <dd>Set if the winning ad had a <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id⑧">buyer and seller reporting ID</a> set in its listing in the interest group, and that value was <a data-link-type="dfn" href="#query-reporting-id-k-anonymity-count" id="ref-for-query-reporting-id-k-anonymity-count③">jointly k-anonymous</a> combined with interest group owner, bidding script URL, and <a data-link-type="dfn" href="https://developer.chrome.com/en/docs/privacy-sandbox/glossary/#ad-creative" id="ref-for-ad-creative">ad creative</a> URL. 
   </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-reportresultbrowsersignals"><code><c- g>ReportResultBrowserSignals</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-reportingbrowsersignals" id="ref-for-dictdef-reportingbrowsersignals③"><c- n>ReportingBrowserSignals</c-></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②④"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportResultBrowserSignals" data-dfn-type="dict-member" data-export data-type="double " id="dom-reportresultbrowsersignals-desirability"><code><c- g>desirability</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportResultBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-reportresultbrowsersignals-toplevelsellersignals"><code><c- g>topLevelSellerSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑤"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportResultBrowserSignals" data-dfn-type="dict-member" data-export data-type="double " id="dom-reportresultbrowsersignals-modifiedbid"><code><c- g>modifiedBid</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long④"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportResultBrowserSignals" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-reportresultbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></dfn>;
};
</pre>
   <dl class="domintro">
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-desirability" id="ref-for-dom-reportresultbrowsersignals-desirability①">desirability</a></code> 
    <dd>The <a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value⑥">stochastically rounded value</a> of the score returned by "<code>scoreAd()</code>" for
    the winning bid 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-toplevelsellersignals" id="ref-for-dom-reportresultbrowsersignals-toplevelsellersignals①">topLevelSellerSignals</a></code> 
    <dd>Metadata returned by the top-level seller’s "<code>reportResult()</code>", as JSON 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-modifiedbid" id="ref-for-dom-reportresultbrowsersignals-modifiedbid①">modifiedBid</a></code> 
    <dd>The <a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value⑦">stochastically rounded value</a> of the bid value returned by the component
    seller’s "<code>scoreAd()</code>" method 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportresultbrowsersignals-dataversion" id="ref-for-dom-reportresultbrowsersignals-dataversion①">dataVersion</a></code> 
    <dd>Set to the value of the <span>`<code><a data-link-type="http-header" href="#http-headerdef-data-version" id="ref-for-http-headerdef-data-version①">Data-Version</a></code>`</span> header from the trusted
    scoring signals server, if any. 
   </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-reportwinbrowsersignals"><code><c- g>ReportWinBrowserSignals</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-reportingbrowsersignals" id="ref-for-dictdef-reportingbrowsersignals④"><c- n>ReportingBrowserSignals</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑥"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="double " id="dom-reportwinbrowsersignals-adcost"><code><c- g>adCost</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-reportwinbrowsersignals-seller"><code><c- g>seller</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑥"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-reportwinbrowsersignals-madehighestscoringotherbid"><code><c- g>madeHighestScoringOtherBid</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-reportwinbrowsersignals-interestgroupname"><code><c- g>interestGroupName</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑧"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-reportwinbrowsersignals-buyerreportingid"><code><c- g>buyerReportingId</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑥"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="unsigned short " id="dom-reportwinbrowsersignals-modelingsignals"><code><c- g>modelingSignals</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑤"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-reportwinbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-kanonstatus" id="ref-for-enumdef-kanonstatus"><c- n>KAnonStatus</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ReportWinBrowserSignals" data-dfn-type="dict-member" data-export data-type="KAnonStatus " id="dom-reportwinbrowsersignals-kanonstatus"><code><c- g>kAnonStatus</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-kanonstatus"><code><c- g>KAnonStatus</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="KAnonStatus" data-dfn-type="enum-value" data-export id="dom-kanonstatus-passedandenforced"><code><c- s>"passedAndEnforced"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="KAnonStatus" data-dfn-type="enum-value" data-export id="dom-kanonstatus-passednotenforced"><code><c- s>"passedNotEnforced"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="KAnonStatus" data-dfn-type="enum-value" data-export id="dom-kanonstatus-belowthreshold"><code><c- s>"belowThreshold"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="KAnonStatus" data-dfn-type="enum-value" data-export id="dom-kanonstatus-notcalculated"><code><c- s>"notCalculated"</c-></code></dfn> };
</pre>
   <dl class="domintro">
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-adcost" id="ref-for-dom-reportwinbrowsersignals-adcost①">adCost</a></code> 
    <dd><a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value⑧">Stochastically rounded</a> winner’s <a data-link-type="dfn" href="#generated-bid-ad-cost" id="ref-for-generated-bid-ad-cost③">ad cost</a>. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-seller" id="ref-for-dom-reportwinbrowsersignals-seller①">seller</a></code> 
    <dd>The origin of the seller running the ad auction 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-madehighestscoringotherbid" id="ref-for-dom-reportwinbrowsersignals-madehighestscoringotherbid①">madeHighestScoringOtherBid</a></code> 
    <dd>True if the interest group owner was the only bidder that made bids with the second highest
    score 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-buyerreportingid" id="ref-for-dom-reportwinbrowsersignals-buyerreportingid①">buyerReportingId</a></code> 
    <dd>Set if the winning ad had a <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id⑦">buyer reporting ID</a> but not a <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id⑨">buyer and seller reporting ID</a> set in its listing in the interest group,
    and that value was <a data-link-type="dfn" href="#query-reporting-id-k-anonymity-count" id="ref-for-query-reporting-id-k-anonymity-count④">jointly k-anonymous</a> combined with
    interest group owner, bidding script URL, and <a data-link-type="dfn" href="https://developer.chrome.com/en/docs/privacy-sandbox/glossary/#ad-creative" id="ref-for-ad-creative①">ad creative</a> URL. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-interestgroupname" id="ref-for-dom-reportwinbrowsersignals-interestgroupname①">interestGroupName</a></code> 
    <dd>
     Only set if the tuple of interest group owner, name, bidding script URL and <a data-link-type="dfn" href="https://developer.chrome.com/en/docs/privacy-sandbox/glossary/#ad-creative" id="ref-for-ad-creative②">ad creative</a> URL 
     <p>were <a data-link-type="dfn" href="#query-reporting-id-k-anonymity-count" id="ref-for-query-reporting-id-k-anonymity-count⑤">jointly k-anonymous</a>, and the
    winning ad had neither <a data-link-type="dfn" href="#interest-group-ad-buyer-and-seller-reporting-id" id="ref-for-interest-group-ad-buyer-and-seller-reporting-id①⓪">buyer and seller reporting ID</a> nor <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id⑧">buyer reporting ID</a> set in its listing in the interest group.</p>
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-modelingsignals" id="ref-for-dom-reportwinbrowsersignals-modelingsignals①">modelingSignals</a></code> 
    <dd>A 0-4095 integer (12-bits) passed to <code>reportWin()</code>, with noising 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-dataversion" id="ref-for-dom-reportwinbrowsersignals-dataversion①">dataVersion</a></code> 
    <dd>Only set if the Data-Version header was provided in the response headers from the trusted
    bidding signals server 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-reportwinbrowsersignals-kanonstatus" id="ref-for-dom-reportwinbrowsersignals-kanonstatus">kAnonStatus</a></code> 
    <dd>
     Indicate the k-anonymity status of the ad with the following <code class="idl"><a data-link-type="idl" href="#enumdef-kanonstatus" id="ref-for-enumdef-kanonstatus①">KAnonStatus</a></code> enums: 
     <ul>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-kanonstatus-passedandenforced" id="ref-for-dom-kanonstatus-passedandenforced">passedAndEnforced</a></code>: The ad was k-anonymous and k-anonymity was required to win the auction.</p>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-kanonstatus-passednotenforced" id="ref-for-dom-kanonstatus-passednotenforced">passedNotEnforced</a></code>: The ad was k-anonymous though k-anonymity was not required to win the auction.</p>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-kanonstatus-belowthreshold" id="ref-for-dom-kanonstatus-belowthreshold">belowThreshold</a></code>: The ad was not k-anonymous but k-anonymity was not required to win the auction.</p>
      <li data-md>
       <p><code class="idl"><a data-link-type="idl" href="#dom-kanonstatus-notcalculated" id="ref-for-dom-kanonstatus-notcalculated">notCalculated</a></code>: The browser did not calculate the k-anonymity status of the ad, and k-anonymity was not required to win the auction.</p>
     </ul>
     <p>From a long-term perspective, the status will always be set to <code>passedAndEnforced</code> after
    k-anonymity is enforced. However, as a temporary solution, current implementations may set <code>kAnonStatus</code> to one of the other three statuses to allow API users to assess the future 
    impact of enforcing that ads are k-anonymous.</p>
   </dl>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-directfromsellersignalsforbuyer"><code><c- g>DirectFromSellerSignalsForBuyer</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦"><c- b>any</c-></a> <dfn class="idl-code" data-default="null" data-dfn-for="DirectFromSellerSignalsForBuyer" data-dfn-type="dict-member" data-export data-type="any " id="dom-directfromsellersignalsforbuyer-auctionsignals"><code><c- g>auctionSignals</c-></code><a class="self-link" href="#dom-directfromsellersignalsforbuyer-auctionsignals"></a></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑧"><c- b>any</c-></a> <dfn class="idl-code" data-default="null" data-dfn-for="DirectFromSellerSignalsForBuyer" data-dfn-type="dict-member" data-export data-type="any " id="dom-directfromsellersignalsforbuyer-perbuyersignals"><code><c- g>perBuyerSignals</c-></code><a class="self-link" href="#dom-directfromsellersignalsforbuyer-perbuyersignals"></a></dfn> = <c- b>null</c->;
};
</pre>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-directfromsellersignalsforseller"><code><c- g>DirectFromSellerSignalsForSeller</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑨"><c- b>any</c-></a> <dfn class="idl-code" data-default="null" data-dfn-for="DirectFromSellerSignalsForSeller" data-dfn-type="dict-member" data-export data-type="any " id="dom-directfromsellersignalsforseller-auctionsignals"><code><c- g>auctionSignals</c-></code><a class="self-link" href="#dom-directfromsellersignalsforseller-auctionsignals"></a></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①⓪"><c- b>any</c-></a> <dfn class="idl-code" data-default="null" data-dfn-for="DirectFromSellerSignalsForSeller" data-dfn-type="dict-member" data-export data-type="any " id="dom-directfromsellersignalsforseller-sellersignals"><code><c- g>sellerSignals</c-></code><a class="self-link" href="#dom-directfromsellersignalsforseller-sellersignals"></a></dfn> = <c- b>null</c->;
};
</pre>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.1" data-lt="Interest group" data-noexport id="interest-group"><span class="secno">12.1. </span><span class="content">Interest group</span><a class="self-link" href="#interest-group" id="ref-for-interest-group⑤②"></a></h3>
   <p>An interest group is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑦">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②②">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-expiry">expiry</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment②">moment</a> at which the browser will forget about this interest group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-owner">owner</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②②">origin</a>. Frames that join interest groups owned by <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤④">owner</a> must either be
served from <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤⑤">owner</a>, or another origin delegated by <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤⑥">owner</a> (See <a data-link-type="dfn" href="#check-interest-group-permissions" id="ref-for-check-interest-group-permissions③">checking interest group permissions</a> for details). The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme⑤">scheme</a> must be "<code>https</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-name">name</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤⑥">string</a>. The (<a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤⑦">owner</a>, <a data-link-type="dfn" href="#interest-group-name" id="ref-for-interest-group-name②④">name</a>) tuple is a key that
uniquely defines each interest group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority">priority</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑦">double</a></code>, initially 0.0. Used to select which interest groups participate in an auction
when the number of interest groups are limited by <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyergrouplimits" id="ref-for-dom-auctionadconfig-perbuyergrouplimits②">perBuyerGroupLimits</a></code>.
See <a data-link-type="dfn" href="#apply-interest-groups-limits-to-prioritized-list" id="ref-for-apply-interest-groups-limits-to-prioritized-list">applying interest groups limits to prioritized list</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①①">boolean</a>, initially false. Being true if the interest group’s priority should be
calculated using vectors from bidding signals fetch.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority-vector">priority vector</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑦">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤⑦">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑧">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑧">double</a></code>. Its dot product with the <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-perbuyerprioritysignals" id="ref-for-dom-auctionadconfig-perbuyerprioritysignals②">perBuyerPrioritySignals</a></code> will be used
in place of <a data-link-type="dfn" href="#interest-group-priority" id="ref-for-interest-group-priority⑥">priority</a>, if set.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-priority-signals-overrides">priority signals overrides</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④②">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑧">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤⑧">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⑨">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②⑨">double</a></code>. Overrides the <code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig⑤">AuctionAdConfig</a></code>'s corresponding priority signals.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-execution-mode">execution mode</dfn>
    <dd data-md>
     <p>"<code>compatibility</code>" or "<code>group-by-origin</code>".
TODO: Define spec for these execution modes, link to it from here and explain these modes.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bidding-url">bidding url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑤">URL</a>. The URL to fetch the buyer’s JavaScript from.</p>
     <p class="note" role="note"> When non-null, the <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①②">bidding url</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②③">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①④">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤⑧">owner</a>. </p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bidding-wasm-helper-url">bidding wasm helper url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑥">URL</a>. Lets the bidder provide computationally-expensive subroutines in WebAssembly,
in addition to JavaScript, to be driven from the JavaScript function provided by <a data-link-type="dfn" href="#interest-group-bidding-url" id="ref-for-interest-group-bidding-url①③">bidding url</a>.</p>
     <p class="note" role="note"> When non-null, the <a data-link-type="dfn" href="#interest-group-bidding-wasm-helper-url" id="ref-for-interest-group-bidding-wasm-helper-url⑥">bidding wasm helper url</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②④">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⑤">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑤⑨">owner</a>. </p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-update-url">update url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑦">URL</a>. Provides a mechanism for the group’s owner to periodically update the
attributes of the interest group. See <a href="#interest-group-updates">§ 8 Interest Group Updates</a>. Must be null if <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key⑧">additional bid key</a> is not null.</p>
     <p class="note" role="note"> When non-null, the <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url⑧">update url</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⑤">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⑥">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑥⓪">owner</a>. </p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-trusted-bidding-signals-url">trusted bidding signals url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑧">URL</a>. Provide a mechanism for making real-time data available for use at bidding
time. See <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url①">building trusted bidding signals url</a>.</p>
     <p class="note" role="note"> When non-null, the <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url⑥">trusted bidding signals url</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⑥">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⑦">same origin</a> with <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑥①">owner</a>. </p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⓪">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤⑨">string</a>. See <a data-link-type="dfn" href="#build-trusted-bidding-signals-url" id="ref-for-build-trusted-bidding-signals-url②">building trusted bidding signals url</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-user-bidding-signals">user bidding signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥⓪">string</a>. Additional metadata that the owner can use during on-device bidding.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-ads">ads</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④①">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①②">interest group ad</a>. Contains various ads that the interest group might
show. Must be null if <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key⑨">additional bid key</a> is not null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-ad-components">ad components</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④②">list</a> of <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①③">interest group ad</a>. Contains various ad components (or "products") that
can be used to construct ads composed of multiple pieces — a top-level ad template "container"
which includes some slots that can be filled in with specific "products".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-additional-bid-key">additional bid key</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence①③">byte sequence</a> of length 32. Must be null if <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②①">ads</a> or <a data-link-type="dfn" href="#interest-group-update-url" id="ref-for-interest-group-update-url⑨">update url</a> is not null. The Ed25519 public key (a 256-bit EdDSA public key)
used to guarantee that this <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④③">interest group</a>, if used by an additional bid for a negative
targeting, can only be used by its <a data-link-type="dfn" href="#interest-group-owner" id="ref-for-interest-group-owner⑥②">owner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-joining-origin">joining origin</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⑦">origin</a>. The top level page origin from where the interest group was joined.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-join-counts">join counts</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④③">list</a> containing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple④">tuples</a> of the day and per day join count. The day
is calculated based on UTC time. The join count is a count of the number of
times <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup⑥">joinAdInterestGroup()</a></code> was called for this interest group on the
corresponding day.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-join-time">join time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment③">moment</a> at which the browser joined this interest group, updated upon each join and
re-join.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-bid-counts">bid counts</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④④">list</a> containing <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple⑤">tuples</a> of the day and per day bid count. The day
is calculated based on UTC time. The bid count is a count of the number of
times the bid calculated during <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction①⓪">runAdAuction()</a></code> was greater than 0.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-previous-wins">previous wins</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑤">list</a> of <a data-link-type="dfn" href="#previous-win" id="ref-for-previous-win①">previous wins</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group" data-dfn-type="dfn" data-noexport id="interest-group-next-update-after">next update after</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment④">moment</a> at which the browser will permit updating this interest group. See <a href="#interest-group-updates">§ 8 Interest Group Updates</a>.</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="regular-interest-group">regular interest group</dfn> is an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④④">interest group</a> whose <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key①⓪">additional bid key</a> is null.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="negative-interest-group">negative interest group</dfn> is an <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④⑤">interest group</a> whose <a data-link-type="dfn" href="#interest-group-additional-bid-key" id="ref-for-interest-group-additional-bid-key①①">additional bid key</a> is not null.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.2" data-lt="Interest group ad" data-noexport id="interest-group-ad"><span class="secno">12.2. </span><span class="content">Interest group ad</span><a class="self-link" href="#interest-group-ad" id="ref-for-interest-group-ad①⑤"></a></h3>
   <p>An interest group ad is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑧">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②③">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-render-url">render url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑨">URL</a>. If this ad wins the auction, this URL (or a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid">urn uuid</a> that maps to this URL) will
be returned by <code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction①①">runAdAuction()</a></code>. This URL is intended to be loaded into an ad <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element">iframe</a></code> (or a <code><a data-link-type="element" href="https://wicg.github.io/fenced-frame/#elementdef-fencedframe" id="ref-for-elementdef-fencedframe">fencedframe</a></code>).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-metadata">metadata</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥①">string</a>. Extra arbitary information about this ad, passed to <code>generateBid()</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-buyer-reporting-id">buyer reporting ID</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥②">string</a>. Will be passed in place of interest group name to <a data-link-type="dfn" href="#report-win" id="ref-for-report-win③">report win</a>, subject
to <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity⑥">k-anonymity</a> checks. Only meaningful in <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②②">ads</a>, but ignored in <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①①">ad components</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-buyer-and-seller-reporting-id">buyer and seller reporting ID</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥③">string</a>. Will be passed in place of interest group name or <a data-link-type="dfn" href="#interest-group-ad-buyer-reporting-id" id="ref-for-interest-group-ad-buyer-reporting-id⑨">buyer reporting ID</a> to <a data-link-type="dfn" href="#report-win" id="ref-for-report-win④">report win</a> and <a data-link-type="dfn" href="#report-result" id="ref-for-report-result④">report result</a>, subject to <a data-link-type="dfn" href="https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity" id="ref-for-what-is-k-anonymity⑦">k-anonymity</a> checks. Only meaningful in <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②③">ads</a>, but ignored in <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①②">ad components</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group ad" data-dfn-type="dfn" data-noexport id="interest-group-ad-allowed-reporting-origins">allowed reporting origins</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑥">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⑧">origins</a>. A list of up to 10 reporting origins that can receive reports
with registered macros. All origins must be HTTPS origins and <a href="https://github.com/privacysandbox/attestation">enrolled</a>. Only meaningful in <a data-link-type="dfn" href="#interest-group-ads" id="ref-for-interest-group-ads②④">ads</a>, but ignored in <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①③">ad components</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.3" data-lt="Currency tag" data-noexport id="currency-tag"><span class="secno">12.3. </span><span class="content">Currency tag</span><a class="self-link" href="#currency-tag" id="ref-for-currency-tag①②"></a></h3>
    A currency tag is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥④">string</a> containing exactly 3 upper-case ASCII letters, or null. The null
value is used to denote that the currency is unspecified. 
   <div class="algorithm" data-algorithm="serialize a currency tag">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="serialize-a-currency-tag">serialize a currency tag</dfn> given a <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag⑥">currency tag</a> <var>currency</var>: 
    <ol>
     <li data-md>
      <p>If <var>currency</var> is null, return "???".</p>
     <li data-md>
      <p>Return <var>currency</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="check whether a string is a valid currency tag">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-whether-a-string-is-a-valid-currency-tag">check whether a string is a valid currency tag</dfn> given <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥⑤">string</a> <var>currencyString</var>: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②⓪">length</a> of <var>currencyString</var> is not 3, return false.</p>
     <li data-md>
      <p>If <var>currencyString</var>[0] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-upper-alpha" id="ref-for-ascii-upper-alpha">ASCII upper alpha</a> code point, return false.</p>
     <li data-md>
      <p>If <var>currencyString</var>[1] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-upper-alpha" id="ref-for-ascii-upper-alpha①">ASCII upper alpha</a> code point, return false.</p>
     <li data-md>
      <p>If <var>currencyString</var>[2] is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-upper-alpha" id="ref-for-ascii-upper-alpha②">ASCII upper alpha</a> code point, return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="check a currency tag">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-a-currency-tag">check a currency tag</dfn> given the <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag⑦">currency tags</a> <var>expected</var> and <var>actual</var>: 
    <ol>
     <li data-md>
      <p>If <var>expected</var> is null, return true.</p>
     <li data-md>
      <p>If <var>actual</var> is null, return true.</p>
     <li data-md>
      <p>If <var>actual</var> is equal to <var>expected</var>, return true.</p>
     <li data-md>
      <p>Return false.</p>
    </ol>
   </div>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.4" data-lt="Auction config" data-noexport id="auction-config"><span class="secno">12.4. </span><span class="content">Auction config</span><a class="self-link" href="#auction-config" id="ref-for-auction-config②②"></a></h3>
   <p>An auction config is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑨">struct</a> with the following items:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller">seller</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②⑨">origin</a>.
The origin of the seller running the ad auction. The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme⑥">scheme</a> must be "<code>https</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-decision-logic-url">decision logic url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②⓪">URL</a>.
The URL to fetch the seller’s JavaScript from.</p>
     <p class="note" role="note"> The <a data-link-type="dfn" href="#auction-config-decision-logic-url" id="ref-for-auction-config-decision-logic-url③">decision logic url</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③⓪">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⑧">same origin</a> with <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①⑤">seller</a>. </p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-trusted-scoring-signals-url">trusted scoring signals url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②①">URL</a>.
Provide a mechanism for making real-time data (information about a specific <a data-link-type="dfn" href="https://developer.chrome.com/en/docs/privacy-sandbox/glossary/#ad-creative" id="ref-for-ad-creative③">ad creative</a>) available
for use at scoring time, e.g. the results of some ad scanning system.</p>
     <p class="note" role="note"> When non-null, the <a data-link-type="dfn" href="#auction-config-trusted-scoring-signals-url" id="ref-for-auction-config-trusted-scoring-signals-url②">trusted scoring signals url</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③①">origin</a> will always be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⑨">same origin</a> with <a data-link-type="dfn" href="#auction-config-seller" id="ref-for-auction-config-seller①⑥">seller</a>. </p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-interest-group-buyers">interest group buyers</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑦">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③②">origins</a>.
Owners of interest groups allowed to participate in the auction. Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③③">origin’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme" id="ref-for-concept-origin-scheme⑦">scheme</a> must be "<code>https</code>".</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-auction-signals">auction signals</dfn>
    <dd data-md>
     <p>Null, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥⑥">string</a>, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑤">Promise</a></code>, or failure.
Opaque JSON data passed to both sellers' and buyers' <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner①">script runners</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-signals">seller signals</dfn>
    <dd data-md>
     <p>Null, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥⑦">string</a>, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑥">Promise</a></code>, or failure.
Opaque JSON data passed to the seller’s <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner②">script runner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-timeout">seller timeout</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑤">duration</a> in milliseconds, initially 50 milliseconds.
Restricts the runtime of the seller’s <code>scoreAd()</code> script. If scoring does not complete before
the timeout, the bid being scored is not considered further.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-signals">per buyer signals</dfn>
    <dd data-md>
     <p>Null, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑦">Promise</a></code>, failure, or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⑨">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③④">origins</a> and
whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⓪">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥⑧">strings</a>. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⓪">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②①">Values</a> are opaque JSON data
passed to corresponding buyer’s <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner③">script runner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-timeouts">per buyer timeouts</dfn>
    <dd data-md>
     <p>Null, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑧">Promise</a></code>, failure, or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②①">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③⑤">origins</a> and
whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②②">values</a> are <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑥">durations</a> in milliseconds. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②②">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②③">Values</a> restrict the runtime of
corresponding buyer’s <code>generateBid()</code> script. If the timeout expires, only the bid submitted
via <code>setBid()</code> is considered.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-timeout">all buyers timeout</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑦">duration</a> in milliseconds, initially 50 milliseconds.
Restricts the <code>generateBid()</code> script’s runtime for all buyers without a timeout specified in <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts④">per buyer timeouts</a>. If the timeout expires, only the bid submitted via <code>setBid()</code> is considered.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-cumulative-timeouts">per buyer cumulative timeouts</dfn>
    <dd data-md>
     <p>Null, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑨">Promise</a></code>, failure, or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⑤">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②③">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③⑥">origins</a> and
whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②④">values</a> are <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑧">durations</a> in milliseconds. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②④">Keys</a> are buyers and must be valid HTTPS <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③⑦">origins</a>. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⑤">Values</a> are collective
timeouts for all interest groups of the buyer represented by the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key①">key</a>. Includes the time of
loading scripts and signals, and running the <code>generateBid()</code> functions. Once the timer expires,
the affected buyer’s interest groups may no longer generate any bids. All bids generated before
the timeout will continue to participate in the auction.
Implementations should attempt, on a best-effort basis, to generate bids for each buyer in
priority order, so lower priority <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④⑥">interest groups</a> are the ones more likely to be timed out. If <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⓪">Promise</a></code>s are passed in to the <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①④">auction config</a> for fields that support them, <a data-link-type="dfn" href="#wait-until-configuration-input-promises-resolve" id="ref-for-wait-until-configuration-input-promises-resolve①">wait until configuration input promises resolve</a> before starting the timer.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-cumulative-timeout">all buyers cumulative timeout</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration⑨">duration</a> in milliseconds, initially null.
Restricts a buyer’s cumulative timeout for all buyers without one specified in <a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts④">per buyer cumulative timeouts</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-group-limits">per buyer group limits</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⑥">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⑤">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③⑧">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⑥">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑦">unsigned short</a></code>s. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⑥">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⑦">Values</a> restrict the number of
bidding interest groups for a particular buyer that can participate in an auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-group-limit">all buyers group limit</dfn>
    <dd data-md>
     <p>An <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑧">unsigned short</a></code>, initially 65535.
Limit on the number of bidding interest groups for all buyers without a limit specified in <a data-link-type="dfn" href="#auction-config-per-buyer-group-limits" id="ref-for-auction-config-per-buyer-group-limits②">per buyer group limits</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-priority-signals">per buyer priority signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⑦">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⑦">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③⑨">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⑧">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⑧">ordered maps</a>, whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⑧">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥⑨">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②⑨">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⓪">double</a></code>.
Per-buyer sparse vector whose dot product with <a data-link-type="dfn" href="#interest-group-priority-vector" id="ref-for-interest-group-priority-vector⑤">priority vector</a> is used to
calculate interest group priorities. No signal’s key starts with "browserSignals.", which is
reserved for values coming from the browser.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-priority-signals">all buyers priority signals</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④⑨">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②⑨">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦⓪">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③⓪">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③①">double</a></code>.
Merged with <a data-link-type="dfn" href="#auction-config-per-buyer-priority-signals" id="ref-for-auction-config-per-buyer-priority-signals①">per buyer priority signals</a> before calculating per-interest group
priorities. In the case both have entries with the same key, the entry in <code>per_buyer_priority_signals</code> takes precedence. No signals key start with "browserSignals.", which
is reserved for values coming from the browser.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-component-auctions">component auctions</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑧">list</a> of <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①⑤">auction config</a>s.
Nested auctions whose results will also participate in a top level auction. Only the top level <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①⑥">auction config</a> can have component auctions.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-experiment-group-id">seller experiment group id</dfn>
    <dd data-md>
     <p>Null or an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short⑨">unsigned short</a></code>, initially null.
Optional identifier for an experiment group to support coordinated experiments with the seller’s
trusted server.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤⓪">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③⓪">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④⓪">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③①">values</a> are <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①⓪">unsigned short</a></code>s. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③①">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③②">Values</a> are identifiers for
experiment groups, to support coordinated experiments with buyers' trusted servers.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyer-experiment-group-id">all buyer experiment group id</dfn>
    <dd data-md>
     <p>Null or an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①①">unsigned short</a></code>, initially null.
Optional identifier for an experiment group to support coordinated experiments with buyers'
trusted servers for buyers without a specified experiment group.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-pending-promise-count">pending promise count</dfn>
    <dd data-md>
     <p>An integer, initially 0. The number of things that are pending that are needed to score
everything. It includes waiting for <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②①">Promise</a></code>s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals⑤">auction signals</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals⑨">per buyer signals</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies⑤">per buyer currencies</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts⑤">per buyer timeouts</a>, <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot⑤">direct from seller signals header ad slot</a>, <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals④">seller signals</a>, or <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-additionalbids" id="ref-for-dom-auctionadconfig-additionalbids③">additionalBids</a></code> whose <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②②">Promise</a></code>s are not
yet resolved.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-config-idl">config idl</dfn>
    <dd data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dictdef-auctionadconfig" id="ref-for-dictdef-auctionadconfig⑥">AuctionAdConfig</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-resolve-to-config">resolve to config</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①②">boolean</a> or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②③">Promise</a></code>, initially false.
Whether the ad should be returned as a <code class="idl"><a data-link-type="idl" href="https://wicg.github.io/fenced-frame/#fencedframeconfig" id="ref-for-fencedframeconfig①">FencedFrameConfig</a></code>, or otherwise as a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①">urn uuid</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-seller-currency">seller currency</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag⑧">currency tag</a>. Specifies the currency bids returned by <code>scoreAd()</code> are expected to use, and
which reporting for this auction will agree on.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-per-buyer-currencies">per buyer currencies</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②④">Promise</a></code> or failure or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤①">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③②">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④①">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③③">values</a> are <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag⑨">currency tags</a>. Specifies the currency bids returned by <code>generateBid()</code> or <code>scoreAd()</code> in component auctions are expected to use. The initial value is an empty map.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-all-buyers-currency">all buyers currency</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag①⓪">currency tag</a>. Specifies the currency bids returned by <code>generateBid()</code> or <code>scoreAd()</code> in
component auctions are expected to use if <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies⑥">per buyer currencies</a> does not specify
a particular value.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-direct-from-seller-signals-header-ad-slot">direct from seller signals header ad slot</dfn>
    <dd data-md>
     <p>Null, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦①">string</a>, a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑤">Promise</a></code>, or failure. Initially null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-auction-nonce">auction nonce</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#version-4-uuid" id="ref-for-version-4-uuid②">version 4 UUID</a>, initially null.
A unique identifier associated with this and only this invocation of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①①">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-runadauction" id="ref-for-dom-navigator-runadauction①②">runAdAuction()</a></code>. For
multi-seller auctions, this ID is uniquely associated with all <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-componentauctions" id="ref-for-dom-auctionadconfig-componentauctions④">componentAuctions</a></code>.
This must come from a prior call to <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①②">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-createauctionnonce" id="ref-for-dom-navigator-createauctionnonce②">createAuctionNonce()</a></code>. This
is only required for auctions that provide additional bids, and each of those additional bids must
use the same auction nonce to ensure that each of those additional bids was intended for this and
only this auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="auction config" data-dfn-type="dfn" data-noexport id="auction-config-expects-additional-bids">expects additional bids</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①③">boolean</a> or failure, initially false.
Specifies whether some bids will be provided as signed exchanges. Sets to failure if the <code class="idl"><a data-link-type="idl" href="#dom-auctionadconfig-additionalbids" id="ref-for-dom-auctionadconfig-additionalbids④">additionalBids</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑥">Promise</a></code> is <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑥">rejected</a>.</p>
   </dl>
   <div class="algorithm" data-algorithm="wait until configuration input promises resolve">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="wait-until-configuration-input-promises-resolve">wait until configuration input promises resolve</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①⑦">auction config</a> <var>auctionConfig</var>: 
    <ol>
     <li data-md>
      <p>Wait until <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-pending-promise-count" id="ref-for-auction-config-pending-promise-count">pending promise count</a> is 0.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑦">Assert</a> <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals⑥">auction signals</a>, <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals⑤">seller signals</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals①⓪">per buyer signals</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies⑦">per buyer currencies</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts⑥">per buyer timeouts</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts⑤">per buyer cumulative timeouts</a>, and <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot⑥">direct from seller signals header ad slot</a> are not <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑦">Promise</a></code>s, and <a data-link-type="dfn" href="#auction-config-expects-additional-bids" id="ref-for-auction-config-expects-additional-bids③">expects additional bids</a> is false.</p>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-auction-signals" id="ref-for-auction-config-auction-signals⑦">auction signals</a>, <a data-link-type="dfn" href="#auction-config-seller-signals" id="ref-for-auction-config-seller-signals⑥">seller signals</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-signals" id="ref-for-auction-config-per-buyer-signals①①">per buyer signals</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies⑧">per buyer currencies</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-timeouts" id="ref-for-auction-config-per-buyer-timeouts⑦">per buyer timeouts</a>, <a data-link-type="dfn" href="#auction-config-per-buyer-cumulative-timeouts" id="ref-for-auction-config-per-buyer-cumulative-timeouts⑥">per buyer cumulative timeouts</a>, or <a data-link-type="dfn" href="#auction-config-direct-from-seller-signals-header-ad-slot" id="ref-for-auction-config-direct-from-seller-signals-header-ad-slot⑦">direct from seller signals header ad slot</a> is failure, return failure.</p>
     <li data-md>
      <p>Return.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="recursively wait until configuration input promises resolve">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="recursively-wait-until-configuration-input-promises-resolve">recursively wait until configuration input promises resolve</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①⑧">auction config</a> <var>auctionConfig</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④⑤">For each</a> <var>componentAuctionConfig</var> in <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-component-auctions" id="ref-for-auction-config-component-auctions⑥">component auctions</a>:</p>
      <ol>
       <li data-md>
        <p>If the result of <a data-link-type="dfn" href="#wait-until-configuration-input-promises-resolve" id="ref-for-wait-until-configuration-input-promises-resolve②">waiting until configuration input promises resolve</a> given <var>componentAuctionConfig</var> is
failure, return failure.</p>
      </ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#wait-until-configuration-input-promises-resolve" id="ref-for-wait-until-configuration-input-promises-resolve③">waiting until configuration input promises resolve</a> given <var>auctionConfig</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="handle an input promise in configuration">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="handle-an-input-promise-in-configuration">handle an input promise in configuration</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config①⑨">auction config</a> <var>auctionConfig</var>,
a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑧">Promise</a></code> <var>p</var>, and two sequences of steps, covering the parsing of the value and error-handling: 
    <ol>
     <li data-md>
      <p>Increment <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-pending-promise-count" id="ref-for-auction-config-pending-promise-count①">pending promise count</a>.</p>
     <li data-md>
      <p>Let <var>resolvedAndTypeChecked</var> be the promise representing performing the following steps <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment①">upon fulfillment</a> of <var>p</var> with <var>result</var>:</p>
      <ol>
       <li data-md>
        <p>Execute the steps to be run for parsing of the value given <var>result</var>.</p>
       <li data-md>
        <p>If no exception was <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③⑤">thrown</a> in the previous step, then decrement <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-pending-promise-count" id="ref-for-auction-config-pending-promise-count②">pending promise count</a>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection">Upon rejection</a> of <var>resolvedAndTypeChecked</var>:</p>
      <ol>
       <li data-md>
        <p>Execute the steps for error-handling.</p>
       <li data-md>
        <p>Decrement <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-pending-promise-count" id="ref-for-auction-config-pending-promise-count③">pending promise count</a>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="look up per-buyer currency">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="look-up-per-buyer-currency">look up per-buyer currency</dfn> given an <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config②⓪">auction config</a> <var>auctionConfig</var>, and an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④②">origin</a> <var>buyer</var>: 
    <ol>
     <li data-md>
      <p>Let <var>perBuyerCurrency</var> be <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-all-buyers-currency" id="ref-for-auction-config-all-buyers-currency①">all buyers currency</a></p>
     <li data-md>
      <p class="assertion">Assert: <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies⑨">per buyer currencies</a> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤②">ordered map</a>.</p>
     <li data-md>
      <p>If <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies①⓪">per buyer currencies</a>[<var>buyer</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪②">exists</a>, then set <var>perBuyerCurrency</var> to <var>auctionConfig</var>’s <a data-link-type="dfn" href="#auction-config-per-buyer-currencies" id="ref-for-auction-config-per-buyer-currencies①①">per buyer currencies</a>[<var>buyer</var>].</p>
     <li data-md>
      <p>Return <var>perBuyerCurrency</var></p>
    </ol>
   </div>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.5" data-lt="Per buyer bid generator" data-noexport id="per-buyer-bid-generator"><span class="secno">12.5. </span><span class="content">Per buyer bid generator</span><a class="self-link" href="#per-buyer-bid-generator" id="ref-for-per-buyer-bid-generator②"></a></h3>
   <p>A per buyer bid generator is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤③">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③③">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②②">URLs</a> representing <a data-link-type="dfn" href="#interest-group-trusted-bidding-signals-url" id="ref-for-interest-group-trusted-bidding-signals-url⑦">trusted bidding signals urls</a>, and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③④">values</a> are <a data-link-type="dfn" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator②">per signals url bid generators</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.6" data-lt="Per signals url bid generator" data-noexport id="per-signals-url-bid-generator"><span class="secno">12.6. </span><span class="content">Per signals url bid generator</span><a class="self-link" href="#per-signals-url-bid-generator" id="ref-for-per-signals-url-bid-generator③"></a></h3>
   <p>A per signals url bid generator is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③④">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④③">origins</a> representing <a data-link-type="dfn" href="#interest-group-joining-origin" id="ref-for-interest-group-joining-origin⑥">joining origins</a>, and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③⑤">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④⑨">lists</a> of <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④⑦">interest groups</a>.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.7" data-lt="Previous win" data-noexport id="previous-win"><span class="secno">12.7. </span><span class="content">Previous win</span><a class="self-link" href="#previous-win" id="ref-for-previous-win②"></a></h3>
   <p>The <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④⑧">interest group</a>'s auction win history, to allow on-device frequency capping.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="previous win" data-dfn-type="dfn" data-noexport id="previous-win-time">time</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-moment" id="ref-for-dfn-moment⑤">moment</a>. Approximate time the <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group④⑨">interest group</a> won an auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="previous win" data-dfn-type="dfn" data-noexport id="previous-win-ad-json">ad json</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦②">string</a>. A JSON serialized object corresponding to the ad that won the auction.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.8" data-lt="Bid with currency" data-noexport id="bid-with-currency"><span class="secno">12.8. </span><span class="content">Bid with currency</span><a class="self-link" href="#bid-with-currency" id="ref-for-bid-with-currency⑥"></a></h3>
    Numeric value of a bid and the currency it is in. 
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="bid with currency" data-dfn-type="dfn" data-noexport id="bid-with-currency-value">value</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③②">double</a></code>. The value of the bid.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="bid with currency" data-dfn-type="dfn" data-noexport id="bid-with-currency-currency">currency</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#currency-tag" id="ref-for-currency-tag①①">currency tag</a>. The currency the bid is in.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.9" data-lt="Generated bid" data-noexport id="generated-bid"><span class="secno">12.9. </span><span class="content">Generated bid</span><a class="self-link" href="#generated-bid" id="ref-for-generated-bid①①"></a></h3>
   <p>A bid that needs to be scored by the seller. The bid is either the output of running a Protected
Audience <code>generateBid()</code> script, or an additional bid provided by the <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-additional-bid" id="ref-for-http-headerdef-ad-auction-additional-bid⑦">Ad-Auction-Additional-Bid</a></code>`</span> response headers.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-bid">bid</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="#bid-with-currency" id="ref-for-bid-with-currency④">bid with currency</a>. If the <a data-link-type="dfn" href="#bid-with-currency-value" id="ref-for-bid-with-currency-value⑨">value</a> is zero or negative, then this <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑤⓪">interest group</a> will not participate in the auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-bid-in-seller-currency">bid in seller currency</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③③">double</a></code> or null. An equivalent of the original bid in seller’s currency. This is either the
original bid if the currency already matched, or a conversion provided by <code>scoreAd()</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad">ad</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦③">string</a>. JSON string to be passed to the scoring function.</p>
     <p class="issue" id="issue-88dc1171"><a class="self-link" href="#issue-88dc1171"></a> TODO: Check whether <a data-link-type="dfn" href="#generated-bid-ad-descriptor" id="ref-for-generated-bid-ad-descriptor①③">ad descriptor</a> can be moved to <a data-link-type="dfn" href="#generated-bid-bid-ad" id="ref-for-generated-bid-bid-ad③">bid ad</a> to avoid duplication
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#868</a>).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad-descriptor">ad descriptor</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor⑨">ad descriptor</a>. Render URL and size of the bid’s ad.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad-component-descriptors">ad component descriptors</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤⓪">list</a> of <a data-link-type="dfn" href="#ad-descriptor" id="ref-for-ad-descriptor①⓪">ad descriptors</a>. Ad components associated with bid, if any. May have at
most 20 <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">items</a>. Must be null if the interest group making this bid has a null <a data-link-type="dfn" href="#interest-group-ad-components" id="ref-for-interest-group-ad-components①④">ad components</a> field.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-ad-cost">ad cost</dfn>
    <dd data-md>
     <p>Null or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③④">double</a></code>. Advertiser click or conversion cost passed from <code>generateBid()</code> to <code>reportWin()</code>. Negative values will be ignored and not passed. Will be <a data-link-type="dfn" href="#round-a-value" id="ref-for-round-a-value⑨">stochastically rounded</a> when passed.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-modeling-signals">modeling signals</dfn>
    <dd data-md>
     <p>Null or an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short①②">unsigned short</a></code>. A 0-4095 integer (12-bits) passed to <code>reportWin()</code>, with noising.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-interest-group">interest group</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#interest-group" id="ref-for-interest-group⑤①">interest group</a>, whose <code>generateBid()</code> invocation generated this bid, or specified by the
additional bid.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-bid-ad">bid ad</dfn>
    <dd data-md>
     <p>The <a data-link-type="dfn" href="#interest-group-ad" id="ref-for-interest-group-ad①④">interest group ad</a> within <a data-link-type="dfn" href="#generated-bid-interest-group" id="ref-for-generated-bid-interest-group②③">interest group</a> to display.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-modified-bid">modified bid</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#bid-with-currency" id="ref-for-bid-with-currency⑤">bid with currency</a>. Being null for top level auction.
The bid value a component auction’s <code>scoreAd()</code> script returns.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-bid-duration">bid duration</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-duration" id="ref-for-dfn-duration①⓪">duration</a> in milliseconds. How long it took to run <code>generateBid()</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="generated bid" data-dfn-type="dfn" data-noexport id="generated-bid-provided-as-additional-bid">provided as additional bid</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①④">boolean</a>, initially false.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.10" data-lt="Ad descriptor" data-noexport id="ad-descriptor"><span class="secno">12.10. </span><span class="content">Ad descriptor</span><a class="self-link" href="#ad-descriptor" id="ref-for-ad-descriptor①①"></a></h3>
   <p>The render URL and size of an ad.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad descriptor" data-dfn-type="dfn" data-noexport id="ad-descriptor-url">url</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②③">URL</a>, which will be rendered to display the <a data-link-type="dfn" href="https://developer.chrome.com/en/docs/privacy-sandbox/glossary/#ad-creative" id="ref-for-ad-creative④">ad creative</a> if this bid wins the auction.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad descriptor" data-dfn-type="dfn" data-noexport id="ad-descriptor-size">size</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="#ad-size" id="ref-for-ad-size①">ad size</a>, initially null.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.11" data-lt="Ad size" data-noexport id="ad-size"><span class="secno">12.11. </span><span class="content">Ad size</span><a class="self-link" href="#ad-size" id="ref-for-ad-size②"></a></h3>
   <p>Width and height of an ad.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-width">width</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⑤">double</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-width-units">width units</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦④">string</a>. Can only be one of "px" (pixel), "sh" (screen height), and "sw" (screen width).</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-height">height</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⑥">double</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="ad size" data-dfn-type="dfn" data-noexport id="ad-size-height-units">height units</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦⑤">string</a>. Can only be one of "px" (pixel), "sh" (screen height), and "sw" (screen width).</p>
   </dl>
   <h3 class="heading settled" data-level="12.12" id="direct-from-seller-signals-section"><span class="secno">12.12. </span><span class="content">Direct from seller signals</span><a class="self-link" href="#direct-from-seller-signals-section"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals-key">direct from seller signals key</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②⓪">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②④">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="direct from seller signals key" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals-key-seller">seller</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④④">origin</a>. Matches the origin that served the captured <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals⑧">Ad-Auction-Signals</a></code>`</span> header.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="direct from seller signals key" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals-key-ad-slot">ad slot</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦⑥">string</a>. Matches the <code>adSlot</code> key of the JSON dictionaries in the top-level array of the <span>`<code><a data-link-type="http-header" href="#http-headerdef-ad-auction-signals" id="ref-for-http-headerdef-ad-auction-signals⑨">Ad-Auction-Signals</a></code>`</span> value.</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals">direct from seller signals</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②①">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②⑤">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="direct from seller signals" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals-auction-signals">auction signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦⑦">string</a>.
Opaque JSON data passed to both buyers' and the seller’s <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner④">script runners</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="direct from seller signals" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals-seller-signals">seller signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦⑧">string</a>.
Opaque JSON data passed to the seller’s <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner⑤">script runner</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="direct from seller signals" data-dfn-type="dfn" data-noexport id="direct-from-seller-signals-per-buyer-signals">per buyer signals</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤⑤">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③⑤">keys</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④⑤">origins</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③⑥">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦⑨">strings</a>. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③⑥">Keys</a> are buyers and must be valid HTTPS origins. <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③⑦">Values</a> are opaque JSON data
passed to corresponding buyer’s <a data-link-type="dfn" href="#script-runner" id="ref-for-script-runner⑥">script runner</a>.</p>
   </dl>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.13" data-lt="Score ad output" data-noexport id="score-ad-output"><span class="secno">12.13. </span><span class="content">Score ad output</span><a class="self-link" href="#score-ad-output" id="ref-for-score-ad-output"></a></h3>
   <p>The output of running a Protected Audience <code>scoreAd()</code> script, is represented using the following type:</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-scoreadoutput"><code><c- g>ScoreAdOutput</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⑦"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoreAdOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-scoreadoutput-desirability"><code><c- g>desirability</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⑧"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoreAdOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-scoreadoutput-bid"><code><c- g>bid</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoreAdOutput" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-scoreadoutput-bidcurrency"><code><c- g>bidCurrency</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double③⑨"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ScoreAdOutput" data-dfn-type="dict-member" data-export data-type="double " id="dom-scoreadoutput-incomingbidinsellercurrency"><code><c- g>incomingBidInSellerCurrency</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑦"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="ScoreAdOutput" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-scoreadoutput-allowcomponentauction"><code><c- g>allowComponentAuction</c-></code></dfn> = <c- b>false</c->;
};
</pre>
   <p>Either a dictionary of this type, or a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④⓪">double</a></code>, are handled as the return values.</p>
   <p>The meanings of the fields are as follows:</p>
   <dl class="domintro">
    <dt><code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-desirability" id="ref-for-dom-scoreadoutput-desirability①">desirability</a></code> 
    <dd>Numeric score of the bid. Must be positive or the ad will be rejected. The winner of the auction
  is the bid which was given the highest score. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid②">bid</a></code> 
    <dd>Only relevant if this is a component auction.  If present, this will be passed to the top-level
  seller’s <code>scoreAd()</code> and <code>reportResult()</code> methods instead of the original bid, if the ad wins the
  component auction and top-level auction, respectively. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bidcurrency" id="ref-for-dom-scoreadoutput-bidcurrency②">bidCurrency</a></code> 
    <dd>Only relevant if this is a component auction and <code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid③">bid</a></code> is set. Specifies which
  currency the <code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid④">bid</a></code> field is in. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-incomingbidinsellercurrency" id="ref-for-dom-scoreadoutput-incomingbidinsellercurrency③">incomingBidInSellerCurrency</a></code> 
    <dd>Provides a conversion of the incoming bid to auction’s seller currency. This is different from <code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid⑤">bid</a></code> which is the bid the component auction itself produces. 
    <dt><code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-allowcomponentauction" id="ref-for-dom-scoreadoutput-allowcomponentauction①">allowComponentAuction</a></code> 
    <dd>If the bid being scored is from a component auction and this value is not true, the bid is
  ignored. This field must be present and true both when the component seller scores a bid, and when
  that bid is being scored by the top-level auction. 
   </dl>
   <p>TODO: This also has an ad field, which should behave similar to the way <code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bid" id="ref-for-dom-scoreadoutput-bid⑥">bid</a></code> affects <a data-link-type="dfn" href="#generated-bid-modified-bid" id="ref-for-generated-bid-modified-bid⑦">modified bid</a>, and then affecting the adMetadata parameter to scoreAd.</p>
   <div class="algorithm" data-algorithm="process scoreAd output">
    <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="process-scoread-output">process scoreAd output</dfn> given an <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type①①">Completion Record</a> <var>result</var>:</p>
    <ol>
     <li data-md>
      <p>If <var>result</var> is an an <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type①②">abrupt completion</a>, return failure.</p>
     <li data-md>
      <p>If <var>result</var>.[[Value]] is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-values-4/#number" id="ref-for-number">Number</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>checkedScore</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" id="ref-for-dfn-convert-ecmascript-to-idl-value②">converting</a> <var>result</var>.[[Value]] to a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④①">double</a></code>.</p>
       <li data-md>
        <p>If an exception was <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③⑥">thrown</a> in the previous step, return failure.</p>
       <li data-md>
        <p>Let <var>resultIDL</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-scoreadoutput" id="ref-for-dictdef-scoreadoutput">ScoreAdOutput</a></code>.</p>
       <li data-md>
        <p>Set <var>resultIDL</var>’s <code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-desirability" id="ref-for-dom-scoreadoutput-desirability②">desirability</a></code> to <var>checkedScore</var>.</p>
       <li data-md>
        <p>Return <var>resultIDL</var>.</p>
      </ol>
     <li data-md>
      <p>Let <var>resultIDL</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value" id="ref-for-dfn-convert-ecmascript-to-idl-value③">converting</a> <var>result</var>.[[Value]] to a <code class="idl"><a data-link-type="idl" href="#dictdef-scoreadoutput" id="ref-for-dictdef-scoreadoutput①">ScoreAdOutput</a></code>.</p>
     <li data-md>
      <p>If an exception was <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③⑦">thrown</a> in the previous step, return failure.</p>
     <li data-md>
      <p>If <var>resultIDL</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bidcurrency" id="ref-for-dom-scoreadoutput-bidcurrency③">bidCurrency</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪③">exists</a> and result of <a data-link-type="dfn" href="#check-whether-a-string-is-a-valid-currency-tag" id="ref-for-check-whether-a-string-is-a-valid-currency-tag④">checking whether a string is a valid currency tag</a> applied to <var>resultIDL</var>["<code class="idl"><a data-link-type="idl" href="#dom-scoreadoutput-bidcurrency" id="ref-for-dom-scoreadoutput-bidcurrency④">bidCurrency</a></code>"] is false, then return failure.</p>
     <li data-md>
      <p>Return <var>resultIDL</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="12.14" data-lt="Leading bid info" data-noexport id="leading-bid-info"><span class="secno">12.14. </span><span class="content">Leading bid info</span><a class="self-link" href="#leading-bid-info" id="ref-for-leading-bid-info⑦"></a></h3>
   <p>Information of the auction’s leading bid so far when ranking scored bids.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-score">top score</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④②">double</a></code>, initially 0.0. The highest score so far.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-bids-count">top bids count</dfn>
    <dd data-md>
     <p>An integer, initially 0. The number of bids with the same <code>top score</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-at-most-one-top-bid-owner">at most one top bid owner</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①⑤">boolean</a>, initially true. Whether all bids of <code>top score</code> are from the same interest
group owner.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-leading-bid">leading bid</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid⑨">generated bid</a>. The leading bid of the auction so far.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-auction-config">auction config</dfn>
    <dd data-md>
     <p>An <a data-link-type="dfn" href="#auction-config" id="ref-for-auction-config②①">auction config</a>. The auction config of the auction which generated this <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①⑧">leading bid</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-second-highest-score">second highest score</dfn>
    <dd data-md>
     <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double④③">double</a></code>, initially 0.0. The second highest score so far. If more than one bids tie with <code>top score</code>, this will be set to <code>top score</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-highest-scoring-other-bids-count">highest scoring other bids count</dfn>
    <dd data-md>
     <p>An integer, initially 0. The number of bids with the same <code>second highest score</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-highest-scoring-other-bid">highest scoring other bid</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#generated-bid" id="ref-for-generated-bid①⓪">generated bid</a>. The second highest scoring other bid.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-highest-scoring-other-bid-owner">highest scoring other bid owner</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④⑥">origin</a>, initially null. The interest group owner that made bids with the <code>second highest score</code>. Set to null if there are more than one owners made bids with the <code>second highest score</code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-level-seller">top level seller</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧⓪">string</a>. The seller in the top level auction.  Only set for component auctions, null
otherwise.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-top-level-seller-signals">top level seller signals</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧①">string</a>. Signals from the seller in the top level auction, produced as the output
of the top-level seller’s <code>reportResult()</code> method.  Only set for component auctions,
null otherwise.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-component-seller">component seller</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧②">string</a>. Seller in component auction which generated this <a data-link-type="dfn" href="#leading-bid-info-leading-bid" id="ref-for-leading-bid-info-leading-bid①⑨">leading bid</a>. Only set the top level auction when component auctions are
present, null otherwise.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-bidding-data-version">bidding data version</dfn>
    <dd data-md>
     <p>Null or an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑥">unsigned long</a></code>.
Data-Version value from the trusted bidding signals server’s response(s). Will only be not null if
the Data-Version header was provided and had a consistent value for all of the trusted bidding
signals server responses used to construct the trustedBiddingSignals.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-scoring-data-version">scoring data version</dfn>
    <dd data-md>
     <p>Null or an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long⑦">unsigned long</a></code>.
Data-Version value from the trusted scoring signals server’s response. Will only be not null if
the Data-Version header was provided in the response headers from the trusted scoring signals
server.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-buyer-reporting-result">buyer reporting result</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#reporting-result" id="ref-for-reporting-result②">reporting result</a>, initially null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-seller-reporting-result">seller reporting result</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#reporting-result" id="ref-for-reporting-result③">reporting result</a>, initially null.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="leading bid info" data-dfn-type="dfn" data-noexport id="leading-bid-info-component-seller-reporting-result">component seller reporting result</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="#reporting-result" id="ref-for-reporting-result④">reporting result</a>, initially null.</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reporting-result">reporting result</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②②">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②⑥">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="reporting result" data-dfn-type="dfn" data-noexport id="reporting-result-report-url">report url</dfn>
    <dd data-md>
     <p>Null or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②④">URL</a>, initially null. Set by <code class="idl"><a data-link-type="idl" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto①">sendReportTo(url)</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="reporting result" data-dfn-type="dfn" data-noexport id="reporting-result-reporting-beacon-map">reporting beacon map</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤⑥">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③⑦">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧③">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③⑧">values</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②⑤">URLs</a>, initially null. Set by <code class="idl"><a data-link-type="idl" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon①">registerAdBeacon(map)</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="reporting result" data-dfn-type="dfn" data-noexport id="reporting-result-reporting-macro-map">reporting macro map</dfn>
    <dd data-md>
     <p>Null or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤⑦">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③⑧">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧④">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③⑨">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧⑤">strings</a>, initially null. Set by <code class="idl"><a data-link-type="idl" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro" id="ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro②">registerAdMacro(name, value)</a></code>.</p>
   </dl>
   <h2 class="heading settled" data-level="13" id="privacy-considerations"><span class="secno">13. </span><span class="content">Privacy Considerations</span><a class="self-link" href="#privacy-considerations"></a></h2>
   <p>Protected Audience aims to advance the privacy of remarketing and custom audience
advertising on the web, so naturally privacy considerations are paramount to Protected Audience’s
design.  Partitioning data by site is the central mechanism to prevent joining a user’s identity
across sites:</p>
   <ul>
    <li data-md>
     <p>Interest group definitions come from just one site, the site that called <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup⑦">joinAdInterestGroup()</a></code>.</p>
    <li data-md>
     <p>Bidding (<code>generateBid()</code>) and scoring (<code>scoreAd()</code>) scripts are exposed to interest group data
from the joining site, and data from the site that will display the ad, but these scripts are run
in strict isolation to prevent leaking this cross-site information.</p>
    <li data-md>
     <p>The browser can enforce that trusted bidding and scoring signals are fetched from servers
complying with certain privacy requirements, e.g. not performing event-level logging.</p>
    <li data-md>
     <p>Ads are rendered in <code><a data-link-type="element" href="https://wicg.github.io/fenced-frame/#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①">fencedframe</a></code>s that isolate them from the surrounding page to prevent
cross-site leakage.</p>
    <li data-md>
     <p>Reporting is strictly controlled by the browser to prevent cross-site leaks:  Inputs to
event-level reporting functions, <code>reportWin()</code> and <code>reportResult()</code>, only contain limited
cross-site information, e.g. the k-anonymous ad URL.  Event-level reporting is meant to be a
temporary stepping stone to more private mechanisms like <a href="https://github.com/patcg-individual-drafts/private-aggregation-api">Private Aggregation
API</a>.</p>
   </ul>
   <h2 class="heading settled" data-level="14" id="security-considerations"><span class="secno">14. </span><span class="content">Security Considerations</span><a class="self-link" href="#security-considerations"></a></h2>
   <p>Protected Audience involves the browser running untrusted JavaScript downloaded from multiple
parties, so security concerns are top of mind. Fortunately Protected Audience is a highly
constrained API not attempting to be a general purpose execution environment. Execution of this
JavaScript is controlled and limited as follows:</p>
   <ul>
    <li data-md>
     <p>Protected Audience requires the origin of the scripts’ URLs to match that of the origin of the
interest group owner, which is in turn required to match the origin of the context calling the <code class="idl"><a data-link-type="idl" href="#dom-navigator-joinadinterestgroup" id="ref-for-dom-navigator-joinadinterestgroup⑧">joinAdInterestGroup()</a></code>.</p>
    <li data-md>
     <p>URL schemes are required to be HTTPS.</p>
    <li data-md>
     <p>Redirects are disallowed.</p>
    <li data-md>
     <p>Responses are required to contain the <code>Ad-Auction-Allowed: ?1</code> header.</p>
    <li data-md>
     <p>Fetches are uncredentialed.</p>
   </ul>
   <p>Protected Audience has the browser pass in several “browserSignals” to the bidding script that give the script
unforgeable information about the context that the script is being executed in. This way bidders
and sellers have the choice to only participate in auctions where they are comfortable working with
the involved parties.</p>
   <p>The <a href="#script-runners">execution environment</a> available to these scripts is the absolute minimum necessary to calculate</p>
   <p>a bid. It supports only ECMAScript. It does not support network, storage, timer, date, DOM,
Workers, postMessage, Navigator or Window APIs.</p>
   <p>Protected Audience adds Permission-Policies to control access to the Protected Audience APIs to
give sites and embedders the ability to clamp down on use of the APIs as they see fit.</p>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    ad
    <ul>
     <li><a href="#generated-bid-ad">dfn for generated bid</a><span>, in § 12.9</span>
     <li><a href="#dom-generatebidoutput-ad">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
    </ul>
   <li><a href="#http-headerdef-ad-auction-additional-bid">Ad-Auction-Additional-Bid</a><span>, in § 11.3</span>
   <li><a href="#http-headerdef-ad-auction-allowed">Ad-Auction-Allowed</a><span>, in § 4.1</span>
   <li><a href="#dom-requestinit-adauctionheaders">adAuctionHeaders</a><span>, in § 11</span>
   <li><a href="#http-headerdef-ad-auction-signals">Ad-Auction-Signals</a><span>, in § 11.2</span>
   <li><a href="#generated-bid-ad-component-descriptors">ad component descriptors</a><span>, in § 12.9</span>
   <li><a href="#interest-group-ad-components">ad components</a><span>, in § 12.1</span>
   <li>
    adComponents
    <ul>
     <li><a href="#dom-generatebidinterestgroup-adcomponents">dict-member for GenerateBidInterestGroup</a><span>, in § 2.1</span>
     <li><a href="#dom-generatebidoutput-adcomponents">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
     <li><a href="#dom-scoringbrowsersignals-adcomponents">dict-member for ScoringBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#generated-bid-ad-cost">ad cost</a><span>, in § 12.9</span>
   <li>
    adCost
    <ul>
     <li><a href="#dom-generatebidoutput-adcost">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
     <li><a href="#dom-reportwinbrowsersignals-adcost">dict-member for ReportWinBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#ad-descriptor">Ad descriptor</a><span>, in § 12.9</span>
   <li><a href="#generated-bid-ad-descriptor">ad descriptor</a><span>, in § 12.9</span>
   <li><a href="#interest-group-additional-bid-key">additional bid key</a><span>, in § 12.1</span>
   <li><a href="#dom-auctionadinterestgroup-additionalbidkey">additionalBidKey</a><span>, in § 2.1</span>
   <li><a href="#additional-bids">additional bids</a><span>, in § 5.2</span>
   <li><a href="#dom-auctionadconfig-additionalbids">additionalBids</a><span>, in § 4.1</span>
   <li><a href="#previous-win-ad-json">ad json</a><span>, in § 12.7</span>
   <li><a href="#dom-previouswin-adjson">adJSON</a><span>, in § 12</span>
   <li><a href="#dictdef-adrender">AdRender</a><span>, in § 7.3.1</span>
   <li>
    ads
    <ul>
     <li><a href="#interest-group-ads">dfn for interest group</a><span>, in § 12.1</span>
     <li><a href="#dom-generatebidinterestgroup-ads">dict-member for GenerateBidInterestGroup</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#ad-size">Ad size</a><span>, in § 12.10</span>
   <li><a href="#direct-from-seller-signals-key-ad-slot">ad slot</a><span>, in § 12.12</span>
   <li><a href="#auction-config-all-buyer-experiment-group-id">all buyer experiment group id</a><span>, in § 12.4</span>
   <li><a href="#auction-config-all-buyers-cumulative-timeout">all buyers cumulative timeout</a><span>, in § 12.4</span>
   <li><a href="#auction-config-all-buyers-currency">all buyers currency</a><span>, in § 12.4</span>
   <li><a href="#auction-config-all-buyers-group-limit">all buyers group limit</a><span>, in § 12.4</span>
   <li><a href="#auction-config-all-buyers-priority-signals">all buyers priority signals</a><span>, in § 12.4</span>
   <li><a href="#auction-config-all-buyers-timeout">all buyers timeout</a><span>, in § 12.4</span>
   <li>
    allowComponentAuction
    <ul>
     <li><a href="#dom-generatebidoutput-allowcomponentauction">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
     <li><a href="#dom-scoreadoutput-allowcomponentauction">dict-member for ScoreAdOutput</a><span>, in § 12.13</span>
    </ul>
   <li><a href="#interest-group-ad-allowed-reporting-origins">allowed reporting origins</a><span>, in § 12.2</span>
   <li><a href="#dom-auctionad-allowedreportingorigins">allowedReportingOrigins</a><span>, in § 2.1</span>
   <li><a href="#apply-interest-groups-limits-to-prioritized-list">Apply interest groups limits to prioritized list</a><span>, in § 4.1</span>
   <li><a href="#asynchronously-finish-reporting">asynchronously finish reporting</a><span>, in § 4.1</span>
   <li><a href="#leading-bid-info-at-most-one-top-bid-owner">at most one top bid owner</a><span>, in § 12.14</span>
   <li><a href="#auction">auction</a><span>, in § 1</span>
   <li><a href="#dictdef-auctionad">AuctionAd</a><span>, in § 2.1</span>
   <li><a href="#dictdef-auctionadconfig">AuctionAdConfig</a><span>, in § 4.1</span>
   <li><a href="#dictdef-auctionadinterestgroup">AuctionAdInterestGroup</a><span>, in § 2.1</span>
   <li><a href="#dictdef-auctionadinterestgroupkey">AuctionAdInterestGroupKey</a><span>, in § 3.1</span>
   <li><a href="#auction-config">Auction config</a><span>, in § 12.3</span>
   <li><a href="#leading-bid-info-auction-config">auction config</a><span>, in § 12.14</span>
   <li>
    auction nonce
    <ul>
     <li><a href="#auction-nonce">definition of</a><span>, in § 5.1</span>
     <li><a href="#auction-config-auction-nonce">dfn for auction config</a><span>, in § 12.4</span>
    </ul>
   <li><a href="#dom-auctionadconfig-auctionnonce">auctionNonce</a><span>, in § 4.1</span>
   <li>
    auction signals
    <ul>
     <li><a href="#auction-config-auction-signals">dfn for auction config</a><span>, in § 12.4</span>
     <li><a href="#direct-from-seller-signals-auction-signals">dfn for direct from seller signals</a><span>, in § 12.12</span>
    </ul>
   <li>
    auctionSignals
    <ul>
     <li><a href="#dom-auctionadconfig-auctionsignals">dict-member for AuctionAdConfig</a><span>, in § 4.1</span>
     <li><a href="#dom-directfromsellersignalsforbuyer-auctionsignals">dict-member for DirectFromSellerSignalsForBuyer</a><span>, in § 12</span>
     <li><a href="#dom-directfromsellersignalsforseller-auctionsignals">dict-member for DirectFromSellerSignalsForSeller</a><span>, in § 12</span>
    </ul>
   <li><a href="#dom-kanonstatus-belowthreshold">"belowThreshold"</a><span>, in § 12</span>
   <li>
    bid
    <ul>
     <li><a href="#interestgroupbiddingscriptrunnerglobalscope-bid">dfn for InterestGroupBiddingScriptRunnerGlobalScope</a><span>, in § 7.3.1</span>
     <li><a href="#decoded-additional-bid-bid">dfn for decoded additional bid</a><span>, in § 5.2</span>
     <li><a href="#generated-bid-bid">dfn for generated bid</a><span>, in § 12.9</span>
     <li><a href="#dom-generatebidoutput-bid">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
     <li><a href="#dom-reportingbrowsersignals-bid">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoreadoutput-bid">dict-member for ScoreAdOutput</a><span>, in § 12.13</span>
    </ul>
   <li><a href="#generated-bid-bid-ad">bid ad</a><span>, in § 12.9</span>
   <li><a href="#dom-biddingbrowsersignals-bidcount">bidCount</a><span>, in § 12</span>
   <li><a href="#interest-group-bid-counts">bid counts</a><span>, in § 12.1</span>
   <li>
    bidCurrency
    <ul>
     <li><a href="#dom-generatebidoutput-bidcurrency">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
     <li><a href="#dom-reportingbrowsersignals-bidcurrency">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoreadoutput-bidcurrency">dict-member for ScoreAdOutput</a><span>, in § 12.13</span>
     <li><a href="#dom-scoringbrowsersignals-bidcurrency">dict-member for ScoringBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#dictdef-biddingbrowsersignals">BiddingBrowserSignals</a><span>, in § 12</span>
   <li><a href="#leading-bid-info-bidding-data-version">bidding data version</a><span>, in § 12.14</span>
   <li><a href="#dom-scoringbrowsersignals-biddingdurationmsec">biddingDurationMsec</a><span>, in § 12</span>
   <li><a href="#dom-generatebidinterestgroup-biddinglogicurl">biddingLogicURL</a><span>, in § 2.1</span>
   <li><a href="#interest-group-bidding-url">bidding url</a><span>, in § 12.1</span>
   <li><a href="#interest-group-bidding-wasm-helper-url">bidding wasm helper url</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-biddingwasmhelperurl">biddingWasmHelperURL</a><span>, in § 2.1</span>
   <li><a href="#generated-bid-bid-duration">bid duration</a><span>, in § 12.9</span>
   <li><a href="#generated-bid-bid-in-seller-currency">bid in seller currency</a><span>, in § 12.9</span>
   <li><a href="#bid-with-currency">Bid with currency</a><span>, in § 12.7</span>
   <li><a href="#build-an-interest-group-passed-to-generatebid">build an interest group passed to generateBid</a><span>, in § 4.1</span>
   <li><a href="#build-bid-generators-map">build bid generators map</a><span>, in § 4.1</span>
   <li><a href="#build-trusted-bidding-signals-url">build trusted bidding signals url</a><span>, in § 4.1</span>
   <li><a href="#build-trusted-scoring-signals-url">build trusted scoring signals url</a><span>, in § 4.1</span>
   <li><a href="#interest-group-ad-buyer-and-seller-reporting-id">buyer and seller reporting ID</a><span>, in § 12.2</span>
   <li>
    buyerAndSellerReportingId
    <ul>
     <li><a href="#dom-auctionad-buyerandsellerreportingid">dict-member for AuctionAd</a><span>, in § 2.1</span>
     <li><a href="#dom-reportingbrowsersignals-buyerandsellerreportingid">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#interest-group-ad-buyer-reporting-id">buyer reporting ID</a><span>, in § 12.2</span>
   <li>
    buyerReportingId
    <ul>
     <li><a href="#dom-auctionad-buyerreportingid">dict-member for AuctionAd</a><span>, in § 2.1</span>
     <li><a href="#dom-reportwinbrowsersignals-buyerreportingid">dict-member for ReportWinBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#leading-bid-info-buyer-reporting-result">buyer reporting result</a><span>, in § 12.14</span>
   <li><a href="#request-capture-ad-auction-headers">capture-ad-auction-headers</a><span>, in § 11</span>
   <li><a href="#traversable-navigable-captured-ad-auction-additional-bids-headers">captured ad auction additional bids headers</a><span>, in § 11</span>
   <li><a href="#traversable-navigable-captured-ad-auction-signals-headers">captured ad auction signals headers</a><span>, in § 11</span>
   <li><a href="#captured-additional-bids-headers">captured additional bids headers</a><span>, in § 5.2</span>
   <li><a href="#check-a-currency-tag">check a currency tag</a><span>, in § 12.3</span>
   <li><a href="#check-interest-group-permissions">check interest group permissions</a><span>, in § 2.1</span>
   <li><a href="#check-whether-a-string-is-a-valid-currency-tag">check whether a string is a valid currency tag</a><span>, in § 12.3</span>
   <li><a href="#check-whether-negative-targeted">check whether negative targeted</a><span>, in § 5.3</span>
   <li><a href="#clear-excess-interest-groups">clear excess interest groups</a><span>, in § 2.2</span>
   <li><a href="#dom-navigator-clearoriginjoinedadinterestgroups">clearOriginJoinedAdInterestGroups(owner)</a><span>, in § 3.2</span>
   <li><a href="#dom-navigator-clearoriginjoinedadinterestgroups">clearOriginJoinedAdInterestGroups(owner, interestGroupsToKeep)</a><span>, in § 3.2</span>
   <li><a href="#auction-config-component-auctions">component auctions</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-componentauctions">componentAuctions</a><span>, in § 4.1</span>
   <li><a href="#leading-bid-info-component-seller">component seller</a><span>, in § 12.14</span>
   <li><a href="#dom-reportingbrowsersignals-componentseller">componentSeller</a><span>, in § 12</span>
   <li><a href="#leading-bid-info-component-seller-reporting-result">component seller reporting result</a><span>, in § 12.14</span>
   <li><a href="#compute-the-key-hash-of-reporting-id">compute the key hash of reporting ID</a><span>, in § 6</span>
   <li><a href="#auction-config-config-idl">config idl</a><span>, in § 12.4</span>
   <li><a href="#construct-a-pending-fenced-frame-config">construct a pending fenced frame config</a><span>, in § 4.1</span>
   <li><a href="#convert-an-ad-render">convert an ad render</a><span>, in § 7.3.1</span>
   <li><a href="#convert-generatebidoutput-to-generated-bid">convert GenerateBidOutput to generated bid</a><span>, in § 7.3.1</span>
   <li><a href="#convert-to-an-auctionad-sequence">convert to an AuctionAd sequence</a><span>, in § 4.1</span>
   <li><a href="#convert-to-a-string-sequence">convert to a string sequence</a><span>, in § 4.1</span>
   <li><a href="#create-a-new-script-runner-agent">create a new script runner agent</a><span>, in § 7.1</span>
   <li><a href="#create-a-new-script-runner-realm">create a new script runner realm</a><span>, in § 7.1</span>
   <li><a href="#dom-navigator-createauctionnonce">createAuctionNonce()</a><span>, in § 5.1</span>
   <li><a href="#create-nested-configs">create nested configs</a><span>, in § 4.1</span>
   <li><a href="#bid-with-currency-currency">currency</a><span>, in § 12.8</span>
   <li><a href="#currency-tag">Currency tag</a><span>, in § 12.2</span>
   <li><a href="#http-headerdef-data-version">Data-Version</a><span>, in § 4.1</span>
   <li>
    dataVersion
    <ul>
     <li><a href="#dom-biddingbrowsersignals-dataversion">dict-member for BiddingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-reportresultbrowsersignals-dataversion">dict-member for ReportResultBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-reportwinbrowsersignals-dataversion">dict-member for ReportWinBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoringbrowsersignals-dataversion">dict-member for ScoringBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#auction-config-decision-logic-url">decision logic url</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-decisionlogicurl">decisionLogicURL</a><span>, in § 4.1</span>
   <li><a href="#decode-an-additional-bid-json">decode an additional bid json</a><span>, in § 5.2</span>
   <li><a href="#decoded-additional-bid">decoded additional bid</a><span>, in § 5.2</span>
   <li>
    desirability
    <ul>
     <li><a href="#dom-reportresultbrowsersignals-desirability">dict-member for ReportResultBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoreadoutput-desirability">dict-member for ScoreAdOutput</a><span>, in § 12.13</span>
    </ul>
   <li><a href="#direct-from-seller-signals">direct from seller signals</a><span>, in § 12.12</span>
   <li><a href="#dictdef-directfromsellersignalsforbuyer">DirectFromSellerSignalsForBuyer</a><span>, in § 12</span>
   <li><a href="#dictdef-directfromsellersignalsforseller">DirectFromSellerSignalsForSeller</a><span>, in § 12</span>
   <li><a href="#auction-config-direct-from-seller-signals-header-ad-slot">direct from seller signals header ad slot</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-directfromsellersignalsheaderadslot">directFromSellerSignalsHeaderAdSlot</a><span>, in § 4.1</span>
   <li><a href="#direct-from-seller-signals-key">direct from seller signals key</a><span>, in § 12.12</span>
   <li><a href="#interest-group-enable-bidding-signals-prioritization">enable bidding signals prioritization</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-enablebiddingsignalsprioritization">enableBiddingSignalsPrioritization</a><span>, in § 2.1</span>
   <li><a href="#encode-trusted-signals-keys">encode trusted signals keys</a><span>, in § 4.1</span>
   <li><a href="#interest-group-estimated-size">estimated size</a><span>, in § 2.1</span>
   <li><a href="#evaluate-a-bidding-script">evaluate a bidding script</a><span>, in § 7.2</span>
   <li><a href="#evaluate-a-reporting-script">evaluate a reporting script</a><span>, in § 7.2</span>
   <li><a href="#evaluate-a-scoring-script">evaluate a scoring script</a><span>, in § 7.2</span>
   <li><a href="#evaluate-a-script">evaluate a script</a><span>, in § 7.2</span>
   <li><a href="#interest-group-execution-mode">execution mode</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-executionmode">executionMode</a><span>, in § 2.1</span>
   <li><a href="#interestgroupbiddingscriptrunnerglobalscope-expected-currency">expected currency</a><span>, in § 7.3.1</span>
   <li><a href="#auction-config-expects-additional-bids">expects additional bids</a><span>, in § 12.4</span>
   <li><a href="#interest-group-expiry">expiry</a><span>, in § 12.1</span>
   <li><a href="#fetch-script">fetch script</a><span>, in § 4.1</span>
   <li><a href="#fetch-trusted-signals">fetch trusted signals</a><span>, in § 4.1</span>
   <li><a href="#fetch-webassembly">fetch WebAssembly</a><span>, in § 4.1</span>
   <li><a href="#fill-in-a-pending-fenced-frame-config">fill in a pending fenced frame config</a><span>, in § 4.1</span>
   <li><a href="#find-matching-ad">find matching ad</a><span>, in § 7.3.1</span>
   <li><a href="#generate-a-bid">generate a bid</a><span>, in § 4.1</span>
   <li><a href="#generate-and-score-bids">generate and score bids</a><span>, in § 4.1</span>
   <li><a href="#dictdef-generatebidinterestgroup">GenerateBidInterestGroup</a><span>, in § 2.1</span>
   <li><a href="#dictdef-generatebidoutput">GenerateBidOutput</a><span>, in § 7.3.1</span>
   <li><a href="#generated-bid">Generated bid</a><span>, in § 12.8</span>
   <li><a href="#get-direct-from-seller-signals">get direct from seller signals</a><span>, in § 4.1</span>
   <li><a href="#get-direct-from-seller-signals-for-a-buyer">get direct from seller signals for a buyer</a><span>, in § 4.1</span>
   <li><a href="#get-direct-from-seller-signals-for-a-seller">get direct from seller signals for a seller</a><span>, in § 4.1</span>
   <li><a href="#get-uuid-from-string">get uuid from string</a><span>, in § 9</span>
   <li><a href="#interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components">group has ad components</a><span>, in § 7.3.1</span>
   <li><a href="#handle-ad-auction-signals-header-value">handle ad auction signals header value</a><span>, in § 11</span>
   <li><a href="#handle-an-input-promise-in-configuration">handle an input promise in configuration</a><span>, in § 12.4</span>
   <li>
    height
    <ul>
     <li><a href="#ad-size-height">dfn for ad size</a><span>, in § 12.11</span>
     <li><a href="#dom-adrender-height">dict-member for AdRender</a><span>, in § 7.3.1</span>
    </ul>
   <li><a href="#ad-size-height-units">height units</a><span>, in § 12.11</span>
   <li><a href="#leading-bid-info-highest-scoring-other-bid">highest scoring other bid</a><span>, in § 12.14</span>
   <li><a href="#dom-reportingbrowsersignals-highestscoringotherbid">highestScoringOtherBid</a><span>, in § 12</span>
   <li><a href="#dom-reportingbrowsersignals-highestscoringotherbidcurrency">highestScoringOtherBidCurrency</a><span>, in § 12</span>
   <li><a href="#leading-bid-info-highest-scoring-other-bid-owner">highest scoring other bid owner</a><span>, in § 12.14</span>
   <li><a href="#leading-bid-info-highest-scoring-other-bids-count">highest scoring other bids count</a><span>, in § 12.14</span>
   <li><a href="#dom-scoreadoutput-incomingbidinsellercurrency">incomingBidInSellerCurrency</a><span>, in § 12.13</span>
   <li><a href="#increment-ad-k-anonymity-count">increment ad k-anonymity count</a><span>, in § 6</span>
   <li><a href="#increment-component-ad-k-anonymity-count">increment component ad k-anonymity count</a><span>, in § 6</span>
   <li><a href="#increment-k-anonymity-count">increment k-anonymity count</a><span>, in § 6</span>
   <li><a href="#increment-reporting-id-k-anonymity-count">increment reporting ID k-anonymity count</a><span>, in § 6</span>
   <li><a href="#interest-group">Interest group</a><span>, in § 12</span>
   <li>
    interest group
    <ul>
     <li><a href="#interestgroupbiddingscriptrunnerglobalscope-interest-group">dfn for InterestGroupBiddingScriptRunnerGlobalScope</a><span>, in § 7.3.1</span>
     <li><a href="#generated-bid-interest-group">dfn for generated bid</a><span>, in § 12.9</span>
    </ul>
   <li><a href="#interest-group-ad">Interest group ad</a><span>, in § 12.1</span>
   <li><a href="#interestgroupbiddingscriptrunnerglobalscope">InterestGroupBiddingScriptRunnerGlobalScope</a><span>, in § 7.3.1</span>
   <li><a href="#auction-config-interest-group-buyers">interest group buyers</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-interestgroupbuyers">interestGroupBuyers</a><span>, in § 4.1</span>
   <li><a href="#dom-reportwinbrowsersignals-interestgroupname">interestGroupName</a><span>, in § 12</span>
   <li>
    interestGroupOwner
    <ul>
     <li><a href="#dom-reportingbrowsersignals-interestgroupowner">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoringbrowsersignals-interestgroupowner">dict-member for ScoringBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#interestgroupreportingscriptrunnerglobalscope">InterestGroupReportingScriptRunnerGlobalScope</a><span>, in § 7.3.3</span>
   <li><a href="#interestgroupscoringscriptrunnerglobalscope">InterestGroupScoringScriptRunnerGlobalScope</a><span>, in § 7.3.2</span>
   <li><a href="#interestgroupscriptrunnerglobalscope">InterestGroupScriptRunnerGlobalScope</a><span>, in § 7.3</span>
   <li><a href="#interest-group-set">interest group set</a><span>, in § 2</span>
   <li><a href="#interest-group-set-max-owners">Interest group set max owners</a><span>, in § 2.2</span>
   <li><a href="#interest-group-update">interest group update</a><span>, in § 8</span>
   <li><a href="#interestgroupbiddingscriptrunnerglobalscope-is-component-auction">is component auction</a><span>, in § 7.3.1</span>
   <li><a href="#join-ad-interest-group">join-ad-interest-group</a><span>, in § 10</span>
   <li><a href="#dom-navigator-joinadinterestgroup">joinAdInterestGroup(group)</a><span>, in § 2.1</span>
   <li><a href="#dom-biddingbrowsersignals-joincount">joinCount</a><span>, in § 12</span>
   <li><a href="#interest-group-join-counts">join counts</a><span>, in § 12.1</span>
   <li><a href="#interest-group-joining-origin">joining origin</a><span>, in § 12.1</span>
   <li><a href="#interest-group-join-time">join time</a><span>, in § 12.1</span>
   <li><a href="#enumdef-kanonstatus">KAnonStatus</a><span>, in § 12</span>
   <li><a href="#dom-reportwinbrowsersignals-kanonstatus">kAnonStatus</a><span>, in § 12</span>
   <li><a href="#k-anonymity-duration">k-anonymity duration</a><span>, in § 6</span>
   <li><a href="#k-anonymity-server">k-anonymity server</a><span>, in § 6</span>
   <li><a href="#k-anonymity-threshold">k-anonymity threshold</a><span>, in § 6</span>
   <li><a href="#signed-additional-bid-signature-key">key</a><span>, in § 5.2</span>
   <li><a href="#leading-bid-info-leading-bid">leading bid</a><span>, in § 12.14</span>
   <li><a href="#leading-bid-info">Leading bid info</a><span>, in § 12.13</span>
   <li><a href="#dom-navigator-leaveadinterestgroup">leaveAdInterestGroup()</a><span>, in § 3.1</span>
   <li><a href="#dom-navigator-leaveadinterestgroup">leaveAdInterestGroup(group)</a><span>, in § 3.1</span>
   <li><a href="#dom-generatebidinterestgroup-lifetimems">lifetimeMs</a><span>, in § 2.1</span>
   <li><a href="#look-up-per-buyer-currency">look up per-buyer currency</a><span>, in § 12.4</span>
   <li><a href="#dom-reportwinbrowsersignals-madehighestscoringotherbid">madeHighestScoringOtherBid</a><span>, in § 12</span>
   <li><a href="#max-interest-groups-total-size-per-owner">Max interest groups total size per owner</a><span>, in § 2.2</span>
   <li><a href="#max-negative-interest-groups-per-owner">Max negative interest groups per owner</a><span>, in § 2.2</span>
   <li><a href="#max-regular-interest-groups-per-owner">Max regular interest groups per owner</a><span>, in § 2.2</span>
   <li>
    metadata
    <ul>
     <li><a href="#interest-group-ad-metadata">dfn for interest group ad</a><span>, in § 12.2</span>
     <li><a href="#dom-auctionad-metadata">dict-member for AuctionAd</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#generated-bid-modeling-signals">modeling signals</a><span>, in § 12.9</span>
   <li>
    modelingSignals
    <ul>
     <li><a href="#dom-generatebidoutput-modelingsignals">dict-member for GenerateBidOutput</a><span>, in § 7.3.1</span>
     <li><a href="#dom-reportwinbrowsersignals-modelingsignals">dict-member for ReportWinBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#generated-bid-modified-bid">modified bid</a><span>, in § 12.9</span>
   <li><a href="#dom-reportresultbrowsersignals-modifiedbid">modifiedBid</a><span>, in § 12</span>
   <li>
    name
    <ul>
     <li><a href="#interest-group-name">dfn for interest group</a><span>, in § 12.1</span>
     <li><a href="#dom-auctionadinterestgroupkey-name">dict-member for AuctionAdInterestGroupKey</a><span>, in § 3.1</span>
     <li><a href="#dom-generatebidinterestgroup-name">dict-member for GenerateBidInterestGroup</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#negative-interest-group">negative interest group</a><span>, in § 12.1</span>
   <li><a href="#negative-target-info">negative target info</a><span>, in § 5.3</span>
   <li><a href="#negative-targeting">negative targeting</a><span>, in § 5.3</span>
   <li><a href="#decoded-additional-bid-negative-target-interest-group-names">negative target interest group names</a><span>, in § 5.2</span>
   <li><a href="#decoded-additional-bid-negative-target-joining-origin">negative target joining origin</a><span>, in § 5.2</span>
   <li><a href="#interest-group-next-update-after">next update after</a><span>, in § 12.1</span>
   <li><a href="#dom-kanonstatus-notcalculated">"notCalculated"</a><span>, in § 12</span>
   <li><a href="#obtain-a-script-runner-agent">obtain a script runner agent</a><span>, in § 7.1</span>
   <li>
    owner
    <ul>
     <li><a href="#interest-group-owner">dfn for interest group</a><span>, in § 12.1</span>
     <li><a href="#dom-auctionadinterestgroupkey-owner">dict-member for AuctionAdInterestGroupKey</a><span>, in § 3.1</span>
     <li><a href="#dom-generatebidinterestgroup-owner">dict-member for GenerateBidInterestGroup</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#parse-an-adrender-dimension-value">parse an AdRender dimension value</a><span>, in § 7.3.1</span>
   <li><a href="#parse-an-https-origin">parse an https origin</a><span>, in § 4.1</span>
   <li><a href="#parse-a-signed-additional-bid">parse a signed additional bid</a><span>, in § 5.2</span>
   <li><a href="#dom-kanonstatus-passedandenforced">"passedAndEnforced"</a><span>, in § 12</span>
   <li><a href="#dom-kanonstatus-passednotenforced">"passedNotEnforced"</a><span>, in § 12</span>
   <li><a href="#auction-config-pending-promise-count">pending promise count</a><span>, in § 12.4</span>
   <li><a href="#per-buyer-bid-generator">Per buyer bid generator</a><span>, in § 12.4</span>
   <li><a href="#auction-config-per-buyer-cumulative-timeouts">per buyer cumulative timeouts</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-perbuyercumulativetimeouts">perBuyerCumulativeTimeouts</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-currencies">per buyer currencies</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-perbuyercurrencies">perBuyerCurrencies</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-experiment-group-ids">per buyer experiment group ids</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-perbuyerexperimentgroupids">perBuyerExperimentGroupIds</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-group-limits">per buyer group limits</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-perbuyergrouplimits">perBuyerGroupLimits</a><span>, in § 4.1</span>
   <li><a href="#auction-config-per-buyer-priority-signals">per buyer priority signals</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-perbuyerprioritysignals">perBuyerPrioritySignals</a><span>, in § 4.1</span>
   <li>
    per buyer signals
    <ul>
     <li><a href="#auction-config-per-buyer-signals">dfn for auction config</a><span>, in § 12.4</span>
     <li><a href="#direct-from-seller-signals-per-buyer-signals">dfn for direct from seller signals</a><span>, in § 12.12</span>
    </ul>
   <li>
    perBuyerSignals
    <ul>
     <li><a href="#dom-auctionadconfig-perbuyersignals">dict-member for AuctionAdConfig</a><span>, in § 4.1</span>
     <li><a href="#dom-directfromsellersignalsforbuyer-perbuyersignals">dict-member for DirectFromSellerSignalsForBuyer</a><span>, in § 12</span>
    </ul>
   <li><a href="#auction-config-per-buyer-timeouts">per buyer timeouts</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-perbuyertimeouts">perBuyerTimeouts</a><span>, in § 4.1</span>
   <li><a href="#perform-storage-maintenance">perform storage maintenance</a><span>, in § 2.2</span>
   <li><a href="#per-signals-url-bid-generator">Per signals url bid generator</a><span>, in § 12.5</span>
   <li><a href="#previous-win">Previous win</a><span>, in § 12.6</span>
   <li><a href="#dictdef-previouswin">PreviousWin</a><span>, in § 12</span>
   <li><a href="#interest-group-previous-wins">previous wins</a><span>, in § 12.1</span>
   <li><a href="#dom-biddingbrowsersignals-prevwinsms">prevWinsMs</a><span>, in § 12</span>
   <li>
    priority
    <ul>
     <li><a href="#interestgroupbiddingscriptrunnerglobalscope-priority">dfn for InterestGroupBiddingScriptRunnerGlobalScope</a><span>, in § 7.3.1</span>
     <li><a href="#interest-group-priority">dfn for interest group</a><span>, in § 12.1</span>
     <li><a href="#dom-auctionadinterestgroup-priority">dict-member for AuctionAdInterestGroup</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#interestgroupbiddingscriptrunnerglobalscope-priority-signals">priority signals</a><span>, in § 7.3.1</span>
   <li><a href="#interest-group-priority-signals-overrides">priority signals overrides</a><span>, in § 12.1</span>
   <li><a href="#dom-auctionadinterestgroup-prioritysignalsoverrides">prioritySignalsOverrides</a><span>, in § 2.1</span>
   <li><a href="#interest-group-priority-vector">priority vector</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-priorityvector">priorityVector</a><span>, in § 2.1</span>
   <li><a href="#process-scoread-output">process scoreAd output</a><span>, in § 12.13</span>
   <li><a href="#generated-bid-provided-as-additional-bid">provided as additional bid</a><span>, in § 12.9</span>
   <li><a href="#query-ad-k-anonymity-count">query ad k-anonymity count</a><span>, in § 6</span>
   <li><a href="#query-component-ad-k-anonymity-count">query component ad k-anonymity count</a><span>, in § 6</span>
   <li><a href="#query-generated-bid-k-anonymity-count">query generated bid k-anonymity count</a><span>, in § 6</span>
   <li><a href="#query-k-anonymity-count">query k-anonymity count</a><span>, in § 6</span>
   <li><a href="#query-reporting-id-k-anonymity-count">query reporting ID k-anonymity count</a><span>, in § 6</span>
   <li><a href="#dom-biddingbrowsersignals-recency">recency</a><span>, in § 12</span>
   <li><a href="#recursively-wait-until-configuration-input-promises-resolve">recursively wait until configuration input promises resolve</a><span>, in § 12.4</span>
   <li><a href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon">registerAdBeacon(map)</a><span>, in § 7.3.3</span>
   <li><a href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro">registerAdMacro(name, value)</a><span>, in § 7.3.3</span>
   <li><a href="#regular-interest-group">regular interest group</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidoutput-render">render</a><span>, in § 7.3.1</span>
   <li><a href="#interest-group-ad-render-url">render url</a><span>, in § 12.2</span>
   <li>
    renderURL
    <ul>
     <li><a href="#dom-auctionad-renderurl">dict-member for AuctionAd</a><span>, in § 2.1</span>
     <li><a href="#dom-reportingbrowsersignals-renderurl">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoringbrowsersignals-renderurl">dict-member for ScoringBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li>
    reporting beacon map
    <ul>
     <li><a href="#interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map">dfn for InterestGroupReportingScriptRunnerGlobalScope</a><span>, in § 7.3.3</span>
     <li><a href="#reporting-result-reporting-beacon-map">dfn for reporting result</a><span>, in § 12.14</span>
    </ul>
   <li><a href="#dictdef-reportingbrowsersignals">ReportingBrowserSignals</a><span>, in § 12</span>
   <li>
    reporting macro map
    <ul>
     <li><a href="#interestgroupreportingscriptrunnerglobalscope-reporting-macro-map">dfn for InterestGroupReportingScriptRunnerGlobalScope</a><span>, in § 7.3.3</span>
     <li><a href="#reporting-result-reporting-macro-map">dfn for reporting result</a><span>, in § 12.14</span>
    </ul>
   <li><a href="#reporting-result">reporting result</a><span>, in § 12.14</span>
   <li><a href="#report-result">report result</a><span>, in § 4.1</span>
   <li><a href="#dictdef-reportresultbrowsersignals">ReportResultBrowserSignals</a><span>, in § 12</span>
   <li>
    report url
    <ul>
     <li><a href="#interestgroupreportingscriptrunnerglobalscope-report-url">dfn for InterestGroupReportingScriptRunnerGlobalScope</a><span>, in § 7.3.3</span>
     <li><a href="#reporting-result-report-url">dfn for reporting result</a><span>, in § 12.14</span>
    </ul>
   <li><a href="#report-win">report win</a><span>, in § 4.1</span>
   <li><a href="#dictdef-reportwinbrowsersignals">ReportWinBrowserSignals</a><span>, in § 12</span>
   <li><a href="#auction-config-resolve-to-config">resolve to config</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-resolvetoconfig">resolveToConfig</a><span>, in § 4.1</span>
   <li><a href="#round-a-value">round a value</a><span>, in § 4.1</span>
   <li><a href="#run-ad-auction">run-ad-auction</a><span>, in § 10</span>
   <li><a href="#dom-navigator-runadauction">runAdAuction(config)</a><span>, in § 4.1</span>
   <li><a href="#score-ad-output">Score ad output</a><span>, in § 12.12</span>
   <li><a href="#dictdef-scoreadoutput">ScoreAdOutput</a><span>, in § 12.13</span>
   <li><a href="#score-and-rank-a-bid">score and rank a bid</a><span>, in § 4.1</span>
   <li><a href="#dictdef-scoringbrowsersignals">ScoringBrowserSignals</a><span>, in § 12</span>
   <li><a href="#leading-bid-info-scoring-data-version">scoring data version</a><span>, in § 12.14</span>
   <li><a href="#script-runner">script runner</a><span>, in § 7.2</span>
   <li><a href="#http-headerdef-sec-ad-auction-fetch">Sec-Ad-Auction-Fetch</a><span>, in § 11.1</span>
   <li><a href="#leading-bid-info-second-highest-score">second highest score</a><span>, in § 12.14</span>
   <li>
    seller
    <ul>
     <li><a href="#auction-config-seller">dfn for auction config</a><span>, in § 12.4</span>
     <li><a href="#direct-from-seller-signals-key-seller">dfn for direct from seller signals key</a><span>, in § 12.12</span>
     <li><a href="#dom-auctionadconfig-seller">dict-member for AuctionAdConfig</a><span>, in § 4.1</span>
     <li><a href="#dom-biddingbrowsersignals-seller">dict-member for BiddingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-reportwinbrowsersignals-seller">dict-member for ReportWinBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#auction-config-seller-currency">seller currency</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-sellercurrency">sellerCurrency</a><span>, in § 4.1</span>
   <li><a href="#auction-config-seller-experiment-group-id">seller experiment group id</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-sellerexperimentgroupid">sellerExperimentGroupId</a><span>, in § 4.1</span>
   <li><a href="#leading-bid-info-seller-reporting-result">seller reporting result</a><span>, in § 12.14</span>
   <li>
    seller signals
    <ul>
     <li><a href="#auction-config-seller-signals">dfn for auction config</a><span>, in § 12.4</span>
     <li><a href="#direct-from-seller-signals-seller-signals">dfn for direct from seller signals</a><span>, in § 12.12</span>
    </ul>
   <li>
    sellerSignals
    <ul>
     <li><a href="#dom-auctionadconfig-sellersignals">dict-member for AuctionAdConfig</a><span>, in § 4.1</span>
     <li><a href="#dom-directfromsellersignalsforseller-sellersignals">dict-member for DirectFromSellerSignalsForSeller</a><span>, in § 12</span>
    </ul>
   <li><a href="#auction-config-seller-timeout">seller timeout</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-sellertimeout">sellerTimeout</a><span>, in § 4.1</span>
   <li><a href="#send-report">send report</a><span>, in § 4.1</span>
   <li><a href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto">sendReportTo(url)</a><span>, in § 7.3.3</span>
   <li><a href="#serialize-a-currency-tag">serialize a currency tag</a><span>, in § 12.3</span>
   <li><a href="#serialize-an-integer">serialize an integer</a><span>, in § 4.1</span>
   <li><a href="#serialize-a-url">serialize a URL</a><span>, in § 4.1</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid">setBid()</a><span>, in § 7.3.1</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid">setBid(generateBidOutput)</a><span>, in § 7.3.1</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority">setPriority(priority)</a><span>, in § 7.3.1</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride">setPrioritySignalsOverride(key)</a><span>, in § 7.3.1</span>
   <li><a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride">setPrioritySignalsOverride(key, priority)</a><span>, in § 7.3.1</span>
   <li><a href="#dom-auctionadconfig-signal">signal</a><span>, in § 4.1</span>
   <li><a href="#signed-additional-bid-signature-signature">signature</a><span>, in § 5.2</span>
   <li><a href="#signed-additional-bid-signature">signed additional bid signature</a><span>, in § 5.2</span>
   <li><a href="#ad-descriptor-size">size</a><span>, in § 12.10</span>
   <li><a href="#previous-win-time">time</a><span>, in § 12.7</span>
   <li><a href="#dom-previouswin-timedelta">timeDelta</a><span>, in § 12</span>
   <li><a href="#leading-bid-info-top-bids-count">top bids count</a><span>, in § 12.14</span>
   <li><a href="#leading-bid-info-top-level-seller">top level seller</a><span>, in § 12.14</span>
   <li>
    topLevelSeller
    <ul>
     <li><a href="#dom-biddingbrowsersignals-toplevelseller">dict-member for BiddingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-reportingbrowsersignals-toplevelseller">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#leading-bid-info-top-level-seller-signals">top level seller signals</a><span>, in § 12.14</span>
   <li><a href="#dom-reportresultbrowsersignals-toplevelsellersignals">topLevelSellerSignals</a><span>, in § 12</span>
   <li><a href="#leading-bid-info-top-score">top score</a><span>, in § 12.14</span>
   <li>
    topWindowHostname
    <ul>
     <li><a href="#dom-biddingbrowsersignals-topwindowhostname">dict-member for BiddingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-reportingbrowsersignals-topwindowhostname">dict-member for ReportingBrowserSignals</a><span>, in § 12</span>
     <li><a href="#dom-scoringbrowsersignals-topwindowhostname">dict-member for ScoringBrowserSignals</a><span>, in § 12</span>
    </ul>
   <li><a href="#interest-group-trusted-bidding-signals-keys">trusted bidding signals keys</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-trustedbiddingsignalskeys">trustedBiddingSignalsKeys</a><span>, in § 2.1</span>
   <li><a href="#interest-group-trusted-bidding-signals-url">trusted bidding signals url</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-trustedbiddingsignalsurl">trustedBiddingSignalsURL</a><span>, in § 2.1</span>
   <li><a href="#auction-config-trusted-scoring-signals-url">trusted scoring signals url</a><span>, in § 12.4</span>
   <li><a href="#dom-auctionadconfig-trustedscoringsignalsurl">trustedScoringSignalsURL</a><span>, in § 4.1</span>
   <li><a href="#dom-navigator-updateadinterestgroups">updateAdInterestGroups()</a><span>, in § 8</span>
   <li><a href="#update-bid-count">update bid count</a><span>, in § 4.1</span>
   <li><a href="#concept-update-captured-headers">update captured headers</a><span>, in § 11</span>
   <li><a href="#update-highest-scoring-other-bid">update highest scoring other bid</a><span>, in § 4.1</span>
   <li><a href="#update-previous-wins">update previous wins</a><span>, in § 4.1</span>
   <li><a href="#interest-group-update-url">update url</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-updateurl">updateURL</a><span>, in § 2.1</span>
   <li>
    url
    <ul>
     <li><a href="#ad-descriptor-url">dfn for ad descriptor</a><span>, in § 12.10</span>
     <li><a href="#dom-adrender-url">dict-member for AdRender</a><span>, in § 7.3.1</span>
    </ul>
   <li><a href="#interest-group-user-bidding-signals">user bidding signals</a><span>, in § 12.1</span>
   <li><a href="#dom-generatebidinterestgroup-userbiddingsignals">userBiddingSignals</a><span>, in § 2.1</span>
   <li><a href="#validate-and-convert-additional-bids">validate and convert additional bids</a><span>, in § 5.2</span>
   <li><a href="#validate-and-convert-auction-ad-config">validate and convert auction ad config</a><span>, in § 4.1</span>
   <li><a href="#validate-fetching-response">validate fetching response</a><span>, in § 4.1</span>
   <li><a href="#bid-with-currency-value">value</a><span>, in § 12.8</span>
   <li><a href="#wait-until-configuration-input-promises-resolve">wait until configuration input promises resolve</a><span>, in § 12.4</span>
   <li><a href="#dom-biddingbrowsersignals-wasmhelper">wasmHelper</a><span>, in § 12</span>
   <li>
    width
    <ul>
     <li><a href="#ad-size-width">dfn for ad size</a><span>, in § 12.11</span>
     <li><a href="#dom-adrender-width">dict-member for AdRender</a><span>, in § 7.3.1</span>
    </ul>
   <li><a href="#ad-size-width-units">width units</a><span>, in § 12.11</span>
   <li><a href="#http-headerdef-x-fledge-bidding-signals-format-version">X-fledge-bidding-signals-format-version</a><span>, in § 4.1</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="172e08e6">ad creative</span>
     <li><span class="dfn-paneled" id="4d92002b">k-anonymity</span>
     <li><span class="dfn-paneled" id="60f31084">string representation</span>
     <li><span class="dfn-paneled" id="ae6f41f1">urn uuid</span>
     <li><span class="dfn-paneled" id="47aa341c">verify</span>
     <li><span class="dfn-paneled" id="b87b1b81">version 4 uuid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ATTRIBUTION-REPORTING-API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4d702792">attribution-reporting</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-VALUES-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f0ba04de">number</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cca3cdb2">AbortSignal</span>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="28e64574">abort reason</span>
     <li><span class="dfn-paneled" id="535dd335">aborted</span>
     <li><span class="dfn-paneled" id="87bc23a5">add</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="81131be0">Call</span>
     <li><span class="dfn-paneled" id="8c8cc336">Date</span>
     <li><span class="dfn-paneled" id="abf85593">Get</span>
     <li><span class="dfn-paneled" id="09358acc">ParseScript</span>
     <li><span class="dfn-paneled" id="87e24ea9">ScriptEvaluation</span>
     <li><span class="dfn-paneled" id="c6bfef29">abrupt completion</span>
     <li><span class="dfn-paneled" id="a653126b">agent</span>
     <li><span class="dfn-paneled" id="fa5c4242">agent cluster</span>
     <li><span class="dfn-paneled" id="6774ce42">candidate execution</span>
     <li><span class="dfn-paneled" id="74b35c0b">completion record</span>
     <li><span class="dfn-paneled" id="10d98341">ecmascript language value</span>
     <li><span class="dfn-paneled" id="296ea04e">execution context stack</span>
     <li><span class="dfn-paneled" id="5fbc824f">normal completion</span>
     <li><span class="dfn-paneled" id="a5f015e3">realm</span>
     <li><span class="dfn-paneled" id="356561c8">running execution context</span>
     <li><span class="dfn-paneled" id="7b10f964">script record</span>
     <li><span class="dfn-paneled" id="840a2025">throw completion</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCODING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bffb633e">utf-8</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FENCED FRAME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="cf17e487">fenced frame config instance</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FENCED-FRAME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="97eb90b1">"buyer"</span>
     <li><span class="dfn-paneled" id="e5d54c4d">"component-seller"</span>
     <li><span class="dfn-paneled" id="da5a7d35">"seller"</span>
     <li><span class="dfn-paneled" id="24f2f8da">FencedFrameConfig</span>
     <li><span class="dfn-paneled" id="61fd97bc">allowed reporting origins</span>
     <li><span class="dfn-paneled" id="4f4bb27a">container size</span>
     <li><span class="dfn-paneled" id="4949ff2e">content size</span>
     <li><span class="dfn-paneled" id="722884e0">direct seller is seller</span>
     <li><span class="dfn-paneled" id="85d161cc">effective enabled permissions</span>
     <li><span class="dfn-paneled" id="ee20210f">effective sandbox flags</span>
     <li><span class="dfn-paneled" id="5c61d993">embedder shared storage context</span>
     <li><span class="dfn-paneled" id="6a889489">exfiltration budget metadata</span>
     <li><span class="dfn-paneled" id="b8914171">fenced frame config</span>
     <li><span class="dfn-paneled" id="06799577">fenced frame config mapping</span>
     <li><span class="dfn-paneled" id="4ffa3281">fenced frame reporting map <small>(for fenced frame reporting metadata)</small></span>
     <li><span class="dfn-paneled" id="01e449f3">fenced frame reporting map <small>(for fencedframetype)</small></span>
     <li><span class="dfn-paneled" id="51f2bfb0">fenced frame reporting metadata</span>
     <li><span class="dfn-paneled" id="c914c650">fencedframe</span>
     <li><span class="dfn-paneled" id="e5128568">finalize a pending config</span>
     <li><span class="dfn-paneled" id="b80593f9">finalize a reporting destination</span>
     <li><span class="dfn-paneled" id="7e94bdd8">interest group descriptor <small>(for fenced frame config)</small></span>
     <li><span class="dfn-paneled" id="20fe4d8a">interest group descriptor <small>(for fenced frame config instance)</small></span>
     <li><span class="dfn-paneled" id="e231e88f">mapped url</span>
     <li><span class="dfn-paneled" id="b49ca9e1">name</span>
     <li><span class="dfn-paneled" id="daf5d722">nested configs</span>
     <li><span class="dfn-paneled" id="f78227fe">on navigate callback</span>
     <li><span class="dfn-paneled" id="e10697ba">opaque</span>
     <li><span class="dfn-paneled" id="06e829ad">owner</span>
     <li><span class="dfn-paneled" id="c5b31ce5">store a pending config</span>
     <li><span class="dfn-paneled" id="deb2f2b7">value <small>(for content size)</small></span>
     <li><span class="dfn-paneled" id="d25680cf">value <small>(for effective enabled permissions)</small></span>
     <li><span class="dfn-paneled" id="bf1b4af2">value <small>(for effective sandbox flags)</small></span>
     <li><span class="dfn-paneled" id="675b28d0">value <small>(for fenced frame reporting metadata)</small></span>
     <li><span class="dfn-paneled" id="977dcb08">value <small>(for interest group descriptor)</small></span>
     <li><span class="dfn-paneled" id="49f979d1">value <small>(for mapped url)</small></span>
     <li><span class="dfn-paneled" id="32e476e1">value <small>(for nested configs)</small></span>
     <li><span class="dfn-paneled" id="c73d8654">visibility <small>(for content size)</small></span>
     <li><span class="dfn-paneled" id="54a0cc06">visibility <small>(for effective enabled permissions)</small></span>
     <li><span class="dfn-paneled" id="976f3f4e">visibility <small>(for effective sandbox flags)</small></span>
     <li><span class="dfn-paneled" id="9407873c">visibility <small>(for fenced frame reporting metadata)</small></span>
     <li><span class="dfn-paneled" id="118e68e9">visibility <small>(for interest group descriptor)</small></span>
     <li><span class="dfn-paneled" id="33cc1a38">visibility <small>(for mapped url)</small></span>
     <li><span class="dfn-paneled" id="614b2f24">visibility <small>(for nested configs)</small></span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4b1fcc3f">Request(input)</span>
     <li><span class="dfn-paneled" id="0dcd4ad9">RequestInit</span>
     <li><span class="dfn-paneled" id="857d5516">client</span>
     <li><span class="dfn-paneled" id="902380f7">credentials mode</span>
     <li><span class="dfn-paneled" id="ee95ecc7">delete</span>
     <li><span class="dfn-paneled" id="36a75887">extracting a mime type</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="2ce6f6bb">fetch(input)</span>
     <li><span class="dfn-paneled" id="d47d0690">get</span>
     <li><span class="dfn-paneled" id="5c66de35">get a structured field value</span>
     <li><span class="dfn-paneled" id="1d2192f2">getting, decoding, and splitting</span>
     <li><span class="dfn-paneled" id="d85a6c84">header list</span>
     <li><span class="dfn-paneled" id="6ee0eab1">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="f7b00a8b">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="2aaa2f42">http fetch</span>
     <li><span class="dfn-paneled" id="980528b0">http-network-or-cache fetch</span>
     <li><span class="dfn-paneled" id="7b0b4fa0">initiator type</span>
     <li><span class="dfn-paneled" id="cb98f71f">mode</span>
     <li><span class="dfn-paneled" id="f78d5b5c">origin</span>
     <li><span class="dfn-paneled" id="08b51e40">processresponseconsumebody</span>
     <li><span class="dfn-paneled" id="64b62ea0">redirect mode</span>
     <li><span class="dfn-paneled" id="a8b25997">redirect status</span>
     <li><span class="dfn-paneled" id="358f1dbd">referrer</span>
     <li><span class="dfn-paneled" id="55213b5b">request</span>
     <li><span class="dfn-paneled" id="162d2b51">request <small>(for Request)</small></span>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
     <li><span class="dfn-paneled" id="35b98f13">set a structured field value</span>
     <li><span class="dfn-paneled" id="28119f64">status</span>
     <li><span class="dfn-paneled" id="aada90be">task destination</span>
     <li><span class="dfn-paneled" id="dc1cd39b">url</span>
     <li><span class="dfn-paneled" id="2c8ec3a8">useparallelqueue</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="956045d3">current monotonic time</span>
     <li><span class="dfn-paneled" id="a09bfce2">current wall time</span>
     <li><span class="dfn-paneled" id="4b2c8c72">duration</span>
     <li><span class="dfn-paneled" id="c9a0df83">duration from</span>
     <li><span class="dfn-paneled" id="1e2edd5b">moment</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="3134c785">agent</span>
     <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
     <li><span class="dfn-paneled" id="3349d69f">associated document</span>
     <li><span class="dfn-paneled" id="6d88ab2e">browsing context</span>
     <li><span class="dfn-paneled" id="caa8344c">classic script</span>
     <li><span class="dfn-paneled" id="15c0e5cb">create a new realm</span>
     <li><span class="dfn-paneled" id="7ba17ea4">create an agent</span>
     <li><span class="dfn-paneled" id="e10e7eb7">dom manipulation task source</span>
     <li><span class="dfn-paneled" id="e4d92278">enqueue steps</span>
     <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
     <li><span class="dfn-paneled" id="4b6086d7">global object</span>
     <li><span class="dfn-paneled" id="168f1b6e">global object <small>(for realm)</small></span>
     <li><span class="dfn-paneled" id="77a2ee6e">host</span>
     <li><span class="dfn-paneled" id="87fcd40c">iframe</span>
     <li><span class="dfn-paneled" id="9754d36b">immediately</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="a1005ed9">module script</span>
     <li><span class="dfn-paneled" id="a0768d9f">navigator</span>
     <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
     <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
     <li><span class="dfn-paneled" id="086e3aff">origin</span>
     <li><span class="dfn-paneled" id="43ac8374">origin <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="8603b31a">perform a microtask checkpoint</span>
     <li><span class="dfn-paneled" id="98e31e77">port</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="f5468b1c">rules for parsing floating-point number values</span>
     <li><span class="dfn-paneled" id="7393da89">same origin</span>
     <li><span class="dfn-paneled" id="a23d12a9">scheme</span>
     <li><span class="dfn-paneled" id="dd6462cb">script</span>
     <li><span class="dfn-paneled" id="dae0bfde">serialization of an origin</span>
     <li><span class="dfn-paneled" id="7deb6835">settings object</span>
     <li><span class="dfn-paneled" id="fb9bb722">site</span>
     <li><span class="dfn-paneled" id="8219d486">starting a new parallel queue</span>
     <li><span class="dfn-paneled" id="e270bd2a">task</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
     <li><span class="dfn-paneled" id="c63519ed">top-level origin</span>
     <li><span class="dfn-paneled" id="d0c1b934">traversable navigable</span>
     <li><span class="dfn-paneled" id="17582406">traversable navigable <small>(for navigable)</small></span>
     <li><span class="dfn-paneled" id="c5317cec">valid floating-point number</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="617d690e">ascii byte</span>
     <li><span class="dfn-paneled" id="3b38c2fe">ascii digit</span>
     <li><span class="dfn-paneled" id="297c1527">ascii encode</span>
     <li><span class="dfn-paneled" id="5661d95e">ascii lower alpha</span>
     <li><span class="dfn-paneled" id="b7f60025">ascii lower hex digit</span>
     <li><span class="dfn-paneled" id="e5026bef">ascii upper alpha</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="36858240">boolean</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
     <li><span class="dfn-paneled" id="ab3919d2">clone</span>
     <li><span class="dfn-paneled" id="59912c93">code unit</span>
     <li><span class="dfn-paneled" id="d24334b4">collect a sequence of code points</span>
     <li><span class="dfn-paneled" id="4a3bf5fb">concatenate</span>
     <li><span class="dfn-paneled" id="e28ccd60">concatenation</span>
     <li><span class="dfn-paneled" id="ae8def21">contain <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a326add7">contain <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="03afaf9c">empty</span>
     <li><span class="dfn-paneled" id="1243a891">exist</span>
     <li><span class="dfn-paneled" id="d8f8bd6e">extend</span>
     <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="73e75483">forgiving-base64 decode</span>
     <li><span class="dfn-paneled" id="4e92bc80">get the keys</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="56ad2aed">insert</span>
     <li><span class="dfn-paneled" id="7a87d819">is</span>
     <li><span class="dfn-paneled" id="6b815fdd">is empty <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="dc3369de">is empty <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="8e67c0a3">is not empty</span>
     <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="d14a6f26">key</span>
     <li><span class="dfn-paneled" id="31db57e6">keys</span>
     <li><span class="dfn-paneled" id="36333997">length <small>(for byte sequence)</small></span>
     <li><span class="dfn-paneled" id="0fa357c3">length <small>(for string)</small></span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="63917aa6">parse a json string to a javascript value</span>
     <li><span class="dfn-paneled" id="5ff3a316">parse a json string to an infra value</span>
     <li><span class="dfn-paneled" id="b67aee69">parsing a json string to a javascript value</span>
     <li><span class="dfn-paneled" id="0c994ce8">parsing json bytes to an infra value</span>
     <li><span class="dfn-paneled" id="75bee4d5">position variable</span>
     <li><span class="dfn-paneled" id="99c988d6">remove <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="7d4424b2">remove <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="167d1cb0">replace</span>
     <li><span class="dfn-paneled" id="4c94dd02">serialize an infra value to a json string</span>
     <li><span class="dfn-paneled" id="da05c516">serializing a javascript value to a json string</span>
     <li><span class="dfn-paneled" id="2d1093cd">serializing an infra value to a json string</span>
     <li><span class="dfn-paneled" id="15e48c39">set</span>
     <li><span class="dfn-paneled" id="0e6b2056">set <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="0204d188">size <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="653d0848">size <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="25d7533d">sort in descending order <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="842d5baf">sort in descending order <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="54627f47">starts with</span>
     <li><span class="dfn-paneled" id="e5fc5b88">strictly split</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="a37f05fd">strip leading and trailing ascii whitespace</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="febebe0e">the range</span>
     <li><span class="dfn-paneled" id="0e8de730">tuple</span>
     <li><span class="dfn-paneled" id="6d19ac93">user agent</span>
     <li><span class="dfn-paneled" id="802b0fdd">value</span>
     <li><span class="dfn-paneled" id="12d6b9a8">values</span>
     <li><span class="dfn-paneled" id="cbdc89b4">while</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MIMESNIFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a93f0b06">javascript mime type</span>
     <li><span class="dfn-paneled" id="b1981b98">json mime type</span>
     <li><span class="dfn-paneled" id="fc5a3214">parameters</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="91748ad6">default allowlists</span>
     <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PRIVATE AGGREGATION API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9cb9dd7d">private-aggregation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC6234]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a5206326">sha-256</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC8941]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d56eba29">boolean</span>
     <li><span class="dfn-paneled" id="4477c8cb">integer</span>
     <li><span class="dfn-paneled" id="9b23f22f">structured header</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SHARED STORAGE API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c7dcaebd">shared-storage</span>
     <li><span class="dfn-paneled" id="df46ff7d">shared-storage-select-url</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dcae8e4d">component percent-encode set</span>
     <li><span class="dfn-paneled" id="ed948033">fragment</span>
     <li><span class="dfn-paneled" id="b85ee3be">host</span>
     <li><span class="dfn-paneled" id="fab757b5">host serializer</span>
     <li><span class="dfn-paneled" id="43e1db05">includes credentials</span>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
     <li><span class="dfn-paneled" id="c0868016">path</span>
     <li><span class="dfn-paneled" id="852ada56">port</span>
     <li><span class="dfn-paneled" id="3ab2ec8b">query</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="dcffbccd">url</span>
     <li><span class="dfn-paneled" id="ca3ca4ae">url parser</span>
     <li><span class="dfn-paneled" id="5442ea33">url serializer</span>
     <li><span class="dfn-paneled" id="d7edb843">urlencoded serializer</span>
     <li><span class="dfn-paneled" id="d14ce44f">utf-8 percent-encode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBASSEMBLY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c44f39b6">error</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBASSEMBLY-JS-API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="451842e4">compiling a webassembly module</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="7fb6fbc6">Global</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="6c6b1005">any</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="4e709a96">convert a web idl arguments list to an ecmascript arguments list</span>
     <li><span class="dfn-paneled" id="cadf5fe9">converted to an idl value</span>
     <li><span class="dfn-paneled" id="8e4d736e">converted to ecmascript values</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="10ce5f6f">invoke</span>
     <li><span class="dfn-paneled" id="f8de33a3">long</span>
     <li><span class="dfn-paneled" id="9aeb0a82">long long</span>
     <li><span class="dfn-paneled" id="efd1ec5d">object</span>
     <li><span class="dfn-paneled" id="7787d359">record</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="4323a7c6">required</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="11e0b87f">unrestricted double</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
     <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
     <li><span class="dfn-paneled" id="450958f7">unsigned short</span>
     <li><span class="dfn-paneled" id="24bd7d25">upon fulfillment</span>
     <li><span class="dfn-paneled" id="f14ed351">upon rejection</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-attribution-reporting-api">[ATTRIBUTION-REPORTING-API]
   <dd><a href="https://wicg.github.io/attribution-reporting-api/"><cite>Attribution Reporting</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/attribution-reporting-api/">https://wicg.github.io/attribution-reporting-api/</a>
   <dt id="biblio-css-values-4">[CSS-VALUES-4]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-values-4/"><cite>CSS Values and Units Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-values-4/">https://drafts.csswg.org/css-values-4/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-encoding">[ENCODING]
   <dd>Anne van Kesteren. <a href="https://encoding.spec.whatwg.org/"><cite>Encoding Standard</cite></a>. Living Standard. URL: <a href="https://encoding.spec.whatwg.org/">https://encoding.spec.whatwg.org/</a>
   <dt id="biblio-fenced-frame">[FENCED-FRAME]
   <dd><a href="https://wicg.github.io/fenced-frame/"><cite>Fenced Frame</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/fenced-frame/">https://wicg.github.io/fenced-frame/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mimesniff">[MIMESNIFF]
   <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
   <dt id="biblio-permissions-policy-1">[PERMISSIONS-POLICY-1]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-rfc6234">[RFC6234]
   <dd>D. Eastlake 3rd; T. Hansen. <a href="https://www.rfc-editor.org/rfc/rfc6234"><cite>US Secure Hash Algorithms (SHA and SHA-based HMAC and HKDF)</cite></a>. May 2011. Informational. URL: <a href="https://www.rfc-editor.org/rfc/rfc6234">https://www.rfc-editor.org/rfc/rfc6234</a>
   <dt id="biblio-rfc8941">[RFC8941]
   <dd>M. Nottingham; P-H. Kamp. <a href="https://www.rfc-editor.org/rfc/rfc8941"><cite>Structured Field Values for HTTP</cite></a>. February 2021. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc8941">https://www.rfc-editor.org/rfc/rfc8941</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-joinadinterestgroup"><c- g>joinAdInterestGroup</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadinterestgroup"><c- n>AuctionAdInterestGroup</c-></a> <a href="#dom-navigator-joinadinterestgroup-group-group"><code><c- g>group</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionad"><code><c- g>AuctionAd</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionad-renderurl"><code><c- g>renderURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-auctionad-metadata"><code><c- g>metadata</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionad-buyerreportingid"><code><c- g>buyerReportingId</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionad-buyerandsellerreportingid"><code><c- g>buyerAndSellerReportingId</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-auctionad-allowedreportingorigins"><code><c- g>allowedReportingOrigins</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-generatebidinterestgroup"><code><c- g>GenerateBidInterestGroup</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-generatebidinterestgroup-owner"><code><c- g>owner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-generatebidinterestgroup-name"><code><c- g>name</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-generatebidinterestgroup-lifetimems"><code><c- g>lifetimeMs</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-generatebidinterestgroup-enablebiddingsignalsprioritization"><code><c- g>enableBiddingSignalsPrioritization</c-></code></a> = <c- b>false</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a data-type="record<DOMString, double> " href="#dom-generatebidinterestgroup-priorityvector"><code><c- g>priorityVector</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;compatibility&quot;" data-type="DOMString " href="#dom-generatebidinterestgroup-executionmode"><code><c- g>executionMode</c-></code></a> = "compatibility";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-generatebidinterestgroup-biddinglogicurl"><code><c- g>biddingLogicURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-generatebidinterestgroup-biddingwasmhelperurl"><code><c- g>biddingWasmHelperURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-generatebidinterestgroup-updateurl"><code><c- g>updateURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-generatebidinterestgroup-trustedbiddingsignalsurl"><code><c- g>trustedBiddingSignalsURL</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-generatebidinterestgroup-trustedbiddingsignalskeys"><code><c- g>trustedBiddingSignalsKeys</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-generatebidinterestgroup-userbiddingsignals"><code><c- g>userBiddingSignals</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad"><c- n>AuctionAd</c-></a>> <a data-type="sequence<AuctionAd> " href="#dom-generatebidinterestgroup-ads"><code><c- g>ads</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionad"><c- n>AuctionAd</c-></a>> <a data-type="sequence<AuctionAd> " href="#dom-generatebidinterestgroup-adcomponents"><code><c- g>adComponents</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadinterestgroup"><code><c- g>AuctionAdInterestGroup</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-generatebidinterestgroup"><c- n>GenerateBidInterestGroup</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="0.0" data-type="double " href="#dom-auctionadinterestgroup-priority"><code><c- g>priority</c-></code></a> = 0.0;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a data-type="record<DOMString, double> " href="#dom-auctionadinterestgroup-prioritysignalsoverrides"><code><c- g>prioritySignalsOverrides</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-auctionadinterestgroup-additionalbidkey"><code><c- g>additionalBidKey</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-leaveadinterestgroup"><c- g>leaveAdInterestGroup</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-auctionadinterestgroupkey"><c- n>AuctionAdInterestGroupKey</c-></a> <a href="#dom-navigator-leaveadinterestgroup-group-group"><code><c- g>group</c-></code></a> = {});
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadinterestgroupkey"><code><c- g>AuctionAdInterestGroupKey</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroupkey-owner"><code><c- g>owner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadinterestgroupkey-name"><code><c- g>name</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-clearoriginjoinedadinterestgroups"><c- g>clearOriginJoinedAdInterestGroups</c-></a>(
      <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-navigator-clearoriginjoinedadinterestgroups-owner-interestgroupstokeep-owner"><code><c- g>owner</c-></code></a>, <c- b>optional</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a href="#dom-navigator-clearoriginjoinedadinterestgroups-owner-interestgroupstokeep-interestgroupstokeep"><code><c- g>interestGroupsToKeep</c-></code></a> = []);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://wicg.github.io/fenced-frame/#fencedframeconfig"><c- n>FencedFrameConfig</c-></a>)?> <a class="idl-code" data-link-type="method" href="#dom-navigator-runadauction"><c- g>runAdAuction</c-></a>(<a data-link-type="idl-name" href="#dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a> <a href="#dom-navigator-runadauction-config-config"><code><c- g>config</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-auctionadconfig"><code><c- g>AuctionAdConfig</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-seller"><code><c- g>seller</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-decisionlogicurl"><code><c- g>decisionLogicURL</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-trustedscoringsignalsurl"><code><c- g>trustedScoringSignalsURL</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-auctionadconfig-interestgroupbuyers"><code><c- g>interestGroupBuyers</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="Promise<any> " href="#dom-auctionadconfig-auctionsignals"><code><c- g>auctionSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="Promise<any> " href="#dom-auctionadconfig-sellersignals"><code><c- g>sellerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="Promise<DOMString> " href="#dom-auctionadconfig-directfromsellersignalsheaderadslot"><code><c- g>directFromSellerSignalsHeaderAdSlot</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a data-type="unsigned long long " href="#dom-auctionadconfig-sellertimeout"><code><c- g>sellerTimeout</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short " href="#dom-auctionadconfig-sellerexperimentgroupid"><code><c- g>sellerExperimentGroupId</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-auctionadconfig-sellercurrency"><code><c- g>sellerCurrency</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>>> <a data-type="Promise<record<USVString, any>> " href="#dom-auctionadconfig-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>>> <a data-type="Promise<record<USVString, unsigned long long>> " href="#dom-auctionadconfig-perbuyertimeouts"><code><c- g>perBuyerTimeouts</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a>>> <a data-type="Promise<record<USVString, unsigned long long>> " href="#dom-auctionadconfig-perbuyercumulativetimeouts"><code><c- g>perBuyerCumulativeTimeouts</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a>> <a data-type="record<USVString, unsigned short> " href="#dom-auctionadconfig-perbuyergrouplimits"><code><c- g>perBuyerGroupLimits</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a>> <a data-type="record<USVString, unsigned short> " href="#dom-auctionadconfig-perbuyerexperimentgroupids"><code><c- g>perBuyerExperimentGroupIds</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>>> <a data-type="record<USVString, record<USVString, double>> " href="#dom-auctionadconfig-perbuyerprioritysignals"><code><c- g>perBuyerPrioritySignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>>> <a data-type="Promise<record<USVString, USVString>> " href="#dom-auctionadconfig-perbuyercurrencies"><code><c- g>perBuyerCurrencies</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-auctionadconfig"><c- n>AuctionAdConfig</c-></a>> <a data-default="[]" data-type="sequence<AuctionAdConfig> " href="#dom-auctionadconfig-componentauctions"><code><c- g>componentAuctions</c-></code></a> = [];
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a data-type="Promise<undefined> " href="#dom-auctionadconfig-additionalbids"><code><c- g>additionalBids</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-auctionadconfig-auctionnonce"><code><c- g>auctionNonce</c-></code></a>;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a>? <a data-type="AbortSignal? " href="#dom-auctionadconfig-signal"><code><c- g>signal</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a data-type="Promise<boolean> " href="#dom-auctionadconfig-resolvetoconfig"><code><c- g>resolveToConfig</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-createauctionnonce"><c- g>createAuctionNonce</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupScriptRunnerGlobalScope</c->]
<c- b>interface</c-> <a href="#interestgroupscriptrunnerglobalscope"><code><c- g>InterestGroupScriptRunnerGlobalScope</c-></code></a> {
};


[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupBiddingScriptRunnerGlobalScope</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a>,
         <a data-link-type="idl-name" href="#interestgroupbiddingscriptrunnerglobalscope"><c- n>InterestGroupBiddingScriptRunnerGlobalScope</c-></a>)]
<c- b>interface</c-> <a href="#interestgroupbiddingscriptrunnerglobalscope"><code><c- g>InterestGroupBiddingScriptRunnerGlobalScope</c-></code></a>
        : <a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid"><c- g>setBid</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-generatebidoutput"><c- n>GenerateBidOutput</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setbid-generatebidoutput-generatebidoutput"><code><c- g>generateBidOutput</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"><c- g>setPriority</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority-priority-priority"><code><c- g>priority</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"><c- g>setPrioritySignalsOverride</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-key"><code><c- g>key</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>? <a href="#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride-key-priority-priority"><code><c- g>priority</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-adrender"><code><c- g>AdRender</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-adrender-url"><code><c- g>url</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-adrender-width"><code><c- g>width</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-adrender-height"><code><c- g>height</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-generatebidoutput"><code><c- g>GenerateBidOutput</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-default="-1" data-type="double " href="#dom-generatebidoutput-bid"><code><c- g>bid</c-></code></a> = -1;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-generatebidoutput-bidcurrency"><code><c- g>bidCurrency</c-></code></a>;
  (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender"><c- n>AdRender</c-></a>) <a data-type="(DOMString or AdRender) " href="#dom-generatebidoutput-render"><code><c- g>render</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-type="any " href="#dom-generatebidoutput-ad"><code><c- g>ad</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#dictdef-adrender"><c- n>AdRender</c-></a>)> <a data-type="sequence<(DOMString or AdRender)> " href="#dom-generatebidoutput-adcomponents"><code><c- g>adComponents</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-generatebidoutput-adcost"><code><c- g>adCost</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a data-type="unrestricted double " href="#dom-generatebidoutput-modelingsignals"><code><c- g>modelingSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-generatebidoutput-allowcomponentauction"><code><c- g>allowComponentAuction</c-></code></a> = <c- b>false</c->;
};


[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupScoringScriptRunnerGlobalScope</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a>,
         <a data-link-type="idl-name" href="#interestgroupscoringscriptrunnerglobalscope"><c- n>InterestGroupScoringScriptRunnerGlobalScope</c-></a>)]
<c- b>interface</c-> <a href="#interestgroupscoringscriptrunnerglobalscope"><code><c- g>InterestGroupScoringScriptRunnerGlobalScope</c-></code></a>
        : <a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a> {
};


[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>InterestGroupReportingScriptRunnerGlobalScope</c->,
 <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a>,
         <a data-link-type="idl-name" href="#interestgroupreportingscriptrunnerglobalscope"><c- n>InterestGroupReportingScriptRunnerGlobalScope</c-></a>)]
<c- b>interface</c-> <a href="#interestgroupreportingscriptrunnerglobalscope"><code><c- g>InterestGroupReportingScriptRunnerGlobalScope</c-></code></a>
        : <a data-link-type="idl-name" href="#interestgroupscriptrunnerglobalscope"><c- n>InterestGroupScriptRunnerGlobalScope</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"><c- g>sendReportTo</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto-url-url"><code><c- g>url</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon"><c- g>registerAdBeacon</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon-map-map"><code><c- g>map</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro"><c- g>registerAdMacro</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro-name-value-name"><code><c- g>name</c-></code></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro-name-value-value"><code><c- g>value</c-></code></a>);
};


[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-navigator-updateadinterestgroups"><c- g>updateAdInterestGroups</c-></a>();
};

<c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://fetch.spec.whatwg.org/#requestinit"><c- g>RequestInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-requestinit-adauctionheaders"><code><c- g>adAuctionHeaders</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-previouswin"><code><c- g>PreviousWin</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long-long"><c- b>long</c-> <c- b>long</c-></a> <a data-type="long long " href="#dom-previouswin-timedelta"><code><c- g>timeDelta</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-previouswin-adjson"><code><c- g>adJSON</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-biddingbrowsersignals"><code><c- g>BiddingBrowserSignals</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-biddingbrowsersignals-topwindowhostname"><code><c- g>topWindowHostname</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-biddingbrowsersignals-seller"><code><c- g>seller</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a data-type="long " href="#dom-biddingbrowsersignals-joincount"><code><c- g>joinCount</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a data-type="long " href="#dom-biddingbrowsersignals-bidcount"><code><c- g>bidCount</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-long"><c- b>long</c-></a> <a data-type="long " href="#dom-biddingbrowsersignals-recency"><code><c- g>recency</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-biddingbrowsersignals-toplevelseller"><code><c- g>topLevelSeller</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-previouswin"><c- n>PreviousWin</c-></a>> <a data-type="sequence<PreviousWin> " href="#dom-biddingbrowsersignals-prevwinsms"><code><c- g>prevWinsMs</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a> <a data-type="object " href="#dom-biddingbrowsersignals-wasmhelper"><code><c- g>wasmHelper</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-biddingbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-scoringbrowsersignals"><code><c- g>ScoringBrowserSignals</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-scoringbrowsersignals-topwindowhostname"><code><c- g>topWindowHostname</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-scoringbrowsersignals-interestgroupowner"><code><c- g>interestGroupOwner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-scoringbrowsersignals-renderurl"><code><c- g>renderURL</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-scoringbrowsersignals-biddingdurationmsec"><code><c- g>biddingDurationMsec</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-scoringbrowsersignals-bidcurrency"><code><c- g>bidCurrency</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-scoringbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a data-type="sequence<USVString> " href="#dom-scoringbrowsersignals-adcomponents"><code><c- g>adComponents</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-reportingbrowsersignals"><code><c- g>ReportingBrowserSignals</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-reportingbrowsersignals-topwindowhostname"><code><c- g>topWindowHostname</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-reportingbrowsersignals-interestgroupowner"><code><c- g>interestGroupOwner</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-reportingbrowsersignals-renderurl"><code><c- g>renderURL</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-reportingbrowsersignals-bid"><code><c- g>bid</c-></code></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-reportingbrowsersignals-highestscoringotherbid"><code><c- g>highestScoringOtherBid</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-reportingbrowsersignals-bidcurrency"><code><c- g>bidCurrency</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-reportingbrowsersignals-highestscoringotherbidcurrency"><code><c- g>highestScoringOtherBidCurrency</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-reportingbrowsersignals-toplevelseller"><code><c- g>topLevelSeller</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-reportingbrowsersignals-componentseller"><code><c- g>componentSeller</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-reportingbrowsersignals-buyerandsellerreportingid"><code><c- g>buyerAndSellerReportingId</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-reportresultbrowsersignals"><code><c- g>ReportResultBrowserSignals</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-reportingbrowsersignals"><c- n>ReportingBrowserSignals</c-></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-reportresultbrowsersignals-desirability"><code><c- g>desirability</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-reportresultbrowsersignals-toplevelsellersignals"><code><c- g>topLevelSellerSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-reportresultbrowsersignals-modifiedbid"><code><c- g>modifiedBid</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-reportresultbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-reportwinbrowsersignals"><code><c- g>ReportWinBrowserSignals</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-reportingbrowsersignals"><c- n>ReportingBrowserSignals</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-reportwinbrowsersignals-adcost"><code><c- g>adCost</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-reportwinbrowsersignals-seller"><code><c- g>seller</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean " href="#dom-reportwinbrowsersignals-madehighestscoringotherbid"><code><c- g>madeHighestScoringOtherBid</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-reportwinbrowsersignals-interestgroupname"><code><c- g>interestGroupName</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-reportwinbrowsersignals-buyerreportingid"><code><c- g>buyerReportingId</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a data-type="unsigned short " href="#dom-reportwinbrowsersignals-modelingsignals"><code><c- g>modelingSignals</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-type="unsigned long " href="#dom-reportwinbrowsersignals-dataversion"><code><c- g>dataVersion</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-kanonstatus"><c- n>KAnonStatus</c-></a> <a data-type="KAnonStatus " href="#dom-reportwinbrowsersignals-kanonstatus"><code><c- g>kAnonStatus</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-kanonstatus"><code><c- g>KAnonStatus</c-></code></a> { <a href="#dom-kanonstatus-passedandenforced"><code><c- s>"passedAndEnforced"</c-></code></a>, <a href="#dom-kanonstatus-passednotenforced"><code><c- s>"passedNotEnforced"</c-></code></a>, <a href="#dom-kanonstatus-belowthreshold"><code><c- s>"belowThreshold"</c-></code></a>, <a href="#dom-kanonstatus-notcalculated"><code><c- s>"notCalculated"</c-></code></a> };

<c- b>dictionary</c-> <a href="#dictdef-directfromsellersignalsforbuyer"><code><c- g>DirectFromSellerSignalsForBuyer</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-default="null" data-type="any " href="#dom-directfromsellersignalsforbuyer-auctionsignals"><code><c- g>auctionSignals</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-default="null" data-type="any " href="#dom-directfromsellersignalsforbuyer-perbuyersignals"><code><c- g>perBuyerSignals</c-></code></a> = <c- b>null</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-directfromsellersignalsforseller"><code><c- g>DirectFromSellerSignalsForSeller</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-default="null" data-type="any " href="#dom-directfromsellersignalsforseller-auctionsignals"><code><c- g>auctionSignals</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-default="null" data-type="any " href="#dom-directfromsellersignalsforseller-sellersignals"><code><c- g>sellerSignals</c-></code></a> = <c- b>null</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-scoreadoutput"><code><c- g>ScoreAdOutput</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-scoreadoutput-desirability"><code><c- g>desirability</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-scoreadoutput-bid"><code><c- g>bid</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-scoreadoutput-bidcurrency"><code><c- g>bidCurrency</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a data-type="double " href="#dom-scoreadoutput-incomingbidinsellercurrency"><code><c- g>incomingBidInSellerCurrency</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-scoreadoutput-allowcomponentauction"><code><c- g>allowComponentAuction</c-></code></a> = <c- b>false</c->;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
  service worker interceptions, despite not having to set the service workers mode. <a class="issue-return" href="#issue-72f1e776" title="Jump to section">↵</a></div>
   <div class="issue"> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
service worker interceptions, despite not having to set the service workers mode. <a class="issue-return" href="#issue-72f1e776①" title="Jump to section">↵</a></div>
   <div class="issue"> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>). <a class="issue-return" href="#issue-7a2c8032" title="Jump to section">↵</a></div>
   <div class="issue"> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
service worker interceptions, despite not having to set the service workers mode. <a class="issue-return" href="#issue-72f1e776②" title="Jump to section">↵</a></div>
   <div class="issue"> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>). <a class="issue-return" href="#issue-7a2c8032①" title="Jump to section">↵</a></div>
   <div class="issue"> One of the side-effects of a <code>null</code> client for this subresource request is it neuters all
service worker interceptions, despite not having to set the service workers mode. <a class="issue-return" href="#issue-72f1e776③" title="Jump to section">↵</a></div>
   <div class="issue"> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>). <a class="issue-return" href="#issue-7a2c8032②" title="Jump to section">↵</a></div>
   <div class="issue"> The Chrome implementation encodes 0x20 (SP) to U+002B (+), while <a data-link-type="dfn" href="https://url.spec.whatwg.org/#string-utf-8-percent-encode">UTF-8 percent-encoding</a> encodes it to "%20". <a class="issue-return" href="#issue-790ce1fd" title="Jump to section">↵</a></div>
   <div class="issue"> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>). <a class="issue-return" href="#issue-7a2c8032③" title="Jump to section">↵</a></div>
   <div class="issue"> This would ideally be replaced by a more descriptive algorithm in Infra. See <a href="https://github.com/whatwg/infra/issues/201">infra/201</a> <a class="issue-return" href="#issue-ccb90c6c" title="Jump to section">↵</a></div>
   <div class="issue"> This exclusively creates a new <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters">agent cluster</a> for a given script to run
 in, but we should make this work with <a data-link-type="dfn" href="#interest-group-execution-mode">execution mode</a> somehow. <a class="issue-return" href="#issue-43a9d327" title="Jump to section">↵</a></div>
   <div class="issue"> <a href="https://github.com/WICG/turtledove/issues/676">WICG/turtledove#676</a> needs
to be fixed in order to get <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object">settings object</a>. <a class="issue-return" href="#issue-78a1fc77" title="Jump to section">↵</a></div>
   <div class="issue"> One of the side-effects of a <code>null</code> client for this subresource request is it neuters
all service worker interceptions, despite not having to set the service workers mode. <a class="issue-return" href="#issue-72f1e776④" title="Jump to section">↵</a></div>
   <div class="issue"> Stop using "<code>no-cors</code>" mode where possible
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#667</a>). <a class="issue-return" href="#issue-7a2c8032④" title="Jump to section">↵</a></div>
   <div class="issue no-marker">
    <a class="marker" href="https://github.com/WICG/turtledove/issues/522">Issue #522 on GitHub: “Move "join-ad-interest-group" &amp; "run-ad-auction" default allowlists to `self`”</a>
    <p dir="auto">Currently they're <code class="notranslate">*</code>.</p>
     <a class="issue-return" href="#issue-fe255eea" title="Jump to section">↵</a>
   </div>
   <div class="issue"> TODO: Check whether <a data-link-type="dfn" href="#generated-bid-ad-descriptor">ad descriptor</a> can be moved to <a data-link-type="dfn" href="#generated-bid-bid-ad">bid ad</a> to avoid duplication
(<a href="https://github.com/WICG/turtledove/issues/667">WICG/turtledove#868</a>). <a class="issue-return" href="#issue-88dc1171" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['172e08e6'] = {"dfnID": "172e08e6", "url": "https://developer.chrome.com/en/docs/privacy-sandbox/glossary/#ad-creative", "dfnText": "ad creative", "refSections": [{"refs": [{"id": "ref-for-ad-creative"}, {"id": "ref-for-ad-creative\u2460"}, {"id": "ref-for-ad-creative\u2461"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-ad-creative\u2462"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-ad-creative\u2463"}], "title": "12.10. Ad descriptor"}], "external": true};
window.dfnpanelData['4d92002b'] = {"dfnID": "4d92002b", "url": "https://github.com/WICG/turtledove/blob/main/FLEDGE_k_anonymity_server.md#what-is-k-anonymity", "dfnText": "k-anonymity", "refSections": [{"refs": [{"id": "ref-for-what-is-k-anonymity"}, {"id": "ref-for-what-is-k-anonymity\u2460"}, {"id": "ref-for-what-is-k-anonymity\u2461"}, {"id": "ref-for-what-is-k-anonymity\u2462"}, {"id": "ref-for-what-is-k-anonymity\u2463"}, {"id": "ref-for-what-is-k-anonymity\u2464"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-what-is-k-anonymity\u2465"}, {"id": "ref-for-what-is-k-anonymity\u2466"}], "title": "12.2. Interest group ad"}], "external": true};
window.dfnpanelData['60f31084'] = {"dfnID": "60f31084", "url": "https://www.ietf.org/rfc/rfc4122.txt#string-representation", "dfnText": "string representation", "refSections": [{"refs": [{"id": "ref-for-string-representation"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-string-representation\u2460"}, {"id": "ref-for-string-representation\u2461"}], "title": "5.2. Additional Bids"}], "external": true};
window.dfnpanelData['ae6f41f1'] = {"dfnID": "ae6f41f1", "url": "https://www.ietf.org/rfc/rfc4122.txt#urn-uuid", "dfnText": "urn uuid", "refSections": [{"refs": [{"id": "ref-for-urn-uuid"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-urn-uuid\u2460"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['47aa341c'] = {"dfnID": "47aa341c", "url": "https://datatracker.ietf.org/doc/html/rfc8032#section-5.1.7", "dfnText": "verify", "refSections": [{"refs": [{"id": "ref-for-section-5.1.7"}], "title": "5.2. Additional Bids"}], "external": true};
window.dfnpanelData['b87b1b81'] = {"dfnID": "b87b1b81", "url": "https://www.ietf.org/rfc/rfc4122.txt#version-4-uuid", "dfnText": "version 4 uuid", "refSections": [{"refs": [{"id": "ref-for-version-4-uuid"}, {"id": "ref-for-version-4-uuid\u2460"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-version-4-uuid\u2461"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['4d702792'] = {"dfnID": "4d702792", "url": "https://wicg.github.io/attribution-reporting-api/#dom-permissionpolicy-attribution-reporting", "dfnText": "attribution-reporting", "refSections": [{"refs": [{"id": "ref-for-dom-permissionpolicy-attribution-reporting"}, {"id": "ref-for-dom-permissionpolicy-attribution-reporting\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['f0ba04de'] = {"dfnID": "f0ba04de", "url": "https://drafts.csswg.org/css-values-4/#number", "dfnText": "number", "refSections": [{"refs": [{"id": "ref-for-number"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['cca3cdb2'] = {"dfnID": "cca3cdb2", "url": "https://dom.spec.whatwg.org/#abortsignal", "dfnText": "AbortSignal", "refSections": [{"refs": [{"id": "ref-for-abortsignal"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['85394472'] = {"dfnID": "85394472", "url": "https://dom.spec.whatwg.org/#document", "dfnText": "Document", "refSections": [{"refs": [{"id": "ref-for-document"}, {"id": "ref-for-document\u2460"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-document\u2461"}, {"id": "ref-for-document\u2462"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['28e64574'] = {"dfnID": "28e64574", "url": "https://dom.spec.whatwg.org/#abortsignal-abort-reason", "dfnText": "abort reason", "refSections": [{"refs": [{"id": "ref-for-abortsignal-abort-reason"}, {"id": "ref-for-abortsignal-abort-reason\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['535dd335'] = {"dfnID": "535dd335", "url": "https://dom.spec.whatwg.org/#abortsignal-aborted", "dfnText": "aborted", "refSections": [{"refs": [{"id": "ref-for-abortsignal-aborted"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['87bc23a5'] = {"dfnID": "87bc23a5", "url": "https://dom.spec.whatwg.org/#abortsignal-add", "dfnText": "add", "refSections": [{"refs": [{"id": "ref-for-abortsignal-add"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['81131be0'] = {"dfnID": "81131be0", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-call", "dfnText": "Call", "refSections": [{"refs": [{"id": "ref-for-sec-call"}, {"id": "ref-for-sec-call\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['8c8cc336'] = {"dfnID": "8c8cc336", "url": "https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-date-objects", "dfnText": "Date", "refSections": [{"refs": [{"id": "ref-for-sec-date-objects"}], "title": "7. Script Runners"}], "external": true};
window.dfnpanelData['abf85593'] = {"dfnID": "abf85593", "url": "https://tc39.es/ecma262/multipage/abstract-operations.html#sec-get-o-p", "dfnText": "Get", "refSections": [{"refs": [{"id": "ref-for-sec-get-o-p"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['09358acc'] = {"dfnID": "09358acc", "url": "https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#sec-parse-script", "dfnText": "ParseScript", "refSections": [{"refs": [{"id": "ref-for-sec-parse-script"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['87e24ea9'] = {"dfnID": "87e24ea9", "url": "https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#sec-runtime-semantics-scriptevaluation", "dfnText": "ScriptEvaluation", "refSections": [{"refs": [{"id": "ref-for-sec-runtime-semantics-scriptevaluation"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['c6bfef29'] = {"dfnID": "c6bfef29", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type", "dfnText": "abrupt completion", "refSections": [{"refs": [{"id": "ref-for-sec-completion-record-specification-type"}, {"id": "ref-for-sec-completion-record-specification-type\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2461"}, {"id": "ref-for-sec-completion-record-specification-type\u2462"}, {"id": "ref-for-sec-completion-record-specification-type\u2463"}, {"id": "ref-for-sec-completion-record-specification-type\u2464"}, {"id": "ref-for-sec-completion-record-specification-type\u2465"}, {"id": "ref-for-sec-completion-record-specification-type\u2466"}, {"id": "ref-for-sec-completion-record-specification-type\u2467"}, {"id": "ref-for-sec-completion-record-specification-type\u2468"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-sec-completion-record-specification-type\u2460\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u2461"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['a653126b'] = {"dfnID": "a653126b", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#agent", "dfnText": "agent", "refSections": [{"refs": [{"id": "ref-for-agent"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-agent\u2460"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['fa5c4242'] = {"dfnID": "fa5c4242", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#sec-agent-clusters", "dfnText": "agent cluster", "refSections": [{"refs": [{"id": "ref-for-sec-agent-clusters"}, {"id": "ref-for-sec-agent-clusters\u2460"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-sec-agent-clusters\u2461"}, {"id": "ref-for-sec-agent-clusters\u2462"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['6774ce42'] = {"dfnID": "6774ce42", "url": "https://tc39.es/ecma262/multipage/memory-model.html#sec-candidate-executions", "dfnText": "candidate execution", "refSections": [{"refs": [{"id": "ref-for-sec-candidate-executions"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['74b35c0b'] = {"dfnID": "74b35c0b", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type", "dfnText": "completion record", "refSections": [{"refs": [{"id": "ref-for-sec-completion-record-specification-type"}, {"id": "ref-for-sec-completion-record-specification-type\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2461"}, {"id": "ref-for-sec-completion-record-specification-type\u2462"}, {"id": "ref-for-sec-completion-record-specification-type\u2463"}, {"id": "ref-for-sec-completion-record-specification-type\u2464"}, {"id": "ref-for-sec-completion-record-specification-type\u2465"}, {"id": "ref-for-sec-completion-record-specification-type\u2466"}, {"id": "ref-for-sec-completion-record-specification-type\u2467"}, {"id": "ref-for-sec-completion-record-specification-type\u2468"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-sec-completion-record-specification-type\u2460\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u2461"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['10d98341'] = {"dfnID": "10d98341", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types", "dfnText": "ecmascript language value", "refSections": [{"refs": [{"id": "ref-for-sec-ecmascript-language-types"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['296ea04e'] = {"dfnID": "296ea04e", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#execution-context-stack", "dfnText": "execution context stack", "refSections": [{"refs": [{"id": "ref-for-execution-context-stack"}, {"id": "ref-for-execution-context-stack\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['5fbc824f'] = {"dfnID": "5fbc824f", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type", "dfnText": "normal completion", "refSections": [{"refs": [{"id": "ref-for-sec-completion-record-specification-type"}, {"id": "ref-for-sec-completion-record-specification-type\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2461"}, {"id": "ref-for-sec-completion-record-specification-type\u2462"}, {"id": "ref-for-sec-completion-record-specification-type\u2463"}, {"id": "ref-for-sec-completion-record-specification-type\u2464"}, {"id": "ref-for-sec-completion-record-specification-type\u2465"}, {"id": "ref-for-sec-completion-record-specification-type\u2466"}, {"id": "ref-for-sec-completion-record-specification-type\u2467"}, {"id": "ref-for-sec-completion-record-specification-type\u2468"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-sec-completion-record-specification-type\u2460\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u2461"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['a5f015e3'] = {"dfnID": "a5f015e3", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm", "dfnText": "realm", "refSections": [{"refs": [{"id": "ref-for-realm"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-realm\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['356561c8'] = {"dfnID": "356561c8", "url": "https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#running-execution-context", "dfnText": "running execution context", "refSections": [{"refs": [{"id": "ref-for-running-execution-context"}, {"id": "ref-for-running-execution-context\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['7b10f964'] = {"dfnID": "7b10f964", "url": "https://tc39.es/ecma262/multipage/ecmascript-language-scripts-and-modules.html#script-record", "dfnText": "script record", "refSections": [{"refs": [{"id": "ref-for-script-record"}, {"id": "ref-for-script-record\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['840a2025'] = {"dfnID": "840a2025", "url": "https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-completion-record-specification-type", "dfnText": "throw completion", "refSections": [{"refs": [{"id": "ref-for-sec-completion-record-specification-type"}, {"id": "ref-for-sec-completion-record-specification-type\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2461"}, {"id": "ref-for-sec-completion-record-specification-type\u2462"}, {"id": "ref-for-sec-completion-record-specification-type\u2463"}, {"id": "ref-for-sec-completion-record-specification-type\u2464"}, {"id": "ref-for-sec-completion-record-specification-type\u2465"}, {"id": "ref-for-sec-completion-record-specification-type\u2466"}, {"id": "ref-for-sec-completion-record-specification-type\u2467"}, {"id": "ref-for-sec-completion-record-specification-type\u2468"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-sec-completion-record-specification-type\u2460\u2460"}, {"id": "ref-for-sec-completion-record-specification-type\u2460\u2461"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['bffb633e'] = {"dfnID": "bffb633e", "url": "https://encoding.spec.whatwg.org/#utf-8", "dfnText": "utf-8", "refSections": [{"refs": [{"id": "ref-for-utf-8"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['cf17e487'] = {"dfnID": "cf17e487", "url": "https://wicg.github.io/fenced-frame/#browsing-context-fenced-frame-config-instance", "dfnText": "fenced frame config instance", "refSections": [{"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance"}], "title": "3.1. leaveAdInterestGroup()"}], "external": true};
window.dfnpanelData['97eb90b1'] = {"dfnID": "97eb90b1", "url": "https://wicg.github.io/fenced-frame/#dom-fencereportingdestination-buyer", "dfnText": "\"buyer\"", "refSections": [{"refs": [{"id": "ref-for-dom-fencereportingdestination-buyer"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['e5d54c4d'] = {"dfnID": "e5d54c4d", "url": "https://wicg.github.io/fenced-frame/#dom-fencereportingdestination-component-seller", "dfnText": "\"component-seller\"", "refSections": [{"refs": [{"id": "ref-for-dom-fencereportingdestination-component-seller"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['da5a7d35'] = {"dfnID": "da5a7d35", "url": "https://wicg.github.io/fenced-frame/#dom-fencereportingdestination-seller", "dfnText": "\"seller\"", "refSections": [{"refs": [{"id": "ref-for-dom-fencereportingdestination-seller"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['24f2f8da'] = {"dfnID": "24f2f8da", "url": "https://wicg.github.io/fenced-frame/#fencedframeconfig", "dfnText": "FencedFrameConfig", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2460"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['61fd97bc'] = {"dfnID": "61fd97bc", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-allowed-reporting-origins", "dfnText": "allowed reporting origins", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-allowed-reporting-origins"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['4f4bb27a'] = {"dfnID": "4f4bb27a", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-container-size", "dfnText": "container size", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-container-size"}, {"id": "ref-for-fenced-frame-config-container-size\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['4949ff2e'] = {"dfnID": "4949ff2e", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-content-size", "dfnText": "content size", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-content-size"}, {"id": "ref-for-fenced-frame-config-content-size\u2460"}, {"id": "ref-for-fenced-frame-config-content-size\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['722884e0'] = {"dfnID": "722884e0", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-direct-seller-is-seller", "dfnText": "direct seller is seller", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-direct-seller-is-seller"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['85d161cc'] = {"dfnID": "85d161cc", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-effective-enabled-permissions", "dfnText": "effective enabled permissions", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-effective-enabled-permissions"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['ee20210f'] = {"dfnID": "ee20210f", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-effective-sandbox-flags", "dfnText": "effective sandbox flags", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-effective-sandbox-flags"}, {"id": "ref-for-fenced-frame-config-effective-sandbox-flags\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['5c61d993'] = {"dfnID": "5c61d993", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-embedder-shared-storage-context", "dfnText": "embedder shared storage context", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-embedder-shared-storage-context"}, {"id": "ref-for-fenced-frame-config-embedder-shared-storage-context\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['6a889489'] = {"dfnID": "6a889489", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-exfiltration-budget-metadata", "dfnText": "exfiltration budget metadata", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-exfiltration-budget-metadata"}, {"id": "ref-for-fenced-frame-config-exfiltration-budget-metadata\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['b8914171'] = {"dfnID": "b8914171", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config", "dfnText": "fenced frame config", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config"}, {"id": "ref-for-fenced-frame-config\u2460"}, {"id": "ref-for-fenced-frame-config\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['06799577'] = {"dfnID": "06799577", "url": "https://wicg.github.io/fenced-frame/#traversable-navigable-fenced-frame-config-mapping", "dfnText": "fenced frame config mapping", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable-fenced-frame-config-mapping"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['4ffa3281'] = {"dfnID": "4ffa3281", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-fenced-frame-reporting-map", "dfnText": "fenced frame reporting map (for fenced frame reporting metadata)", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-fenced-frame-reporting-map"}, {"id": "ref-for-fenced-frame-reporting-metadata-fenced-frame-reporting-map\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['01e449f3'] = {"dfnID": "01e449f3", "url": "https://wicg.github.io/fenced-frame/#fencedframetype-fenced-frame-reporting-map", "dfnText": "fenced frame reporting map (for fencedframetype)", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-fenced-frame-reporting-map"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['51f2bfb0'] = {"dfnID": "51f2bfb0", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-fenced-frame-reporting-metadata", "dfnText": "fenced frame reporting metadata", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-fenced-frame-reporting-metadata"}, {"id": "ref-for-fenced-frame-config-fenced-frame-reporting-metadata\u2460"}, {"id": "ref-for-fenced-frame-config-fenced-frame-reporting-metadata\u2461"}, {"id": "ref-for-fenced-frame-config-fenced-frame-reporting-metadata\u2462"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['c914c650'] = {"dfnID": "c914c650", "url": "https://wicg.github.io/fenced-frame/#elementdef-fencedframe", "dfnText": "fencedframe", "refSections": [{"refs": [{"id": "ref-for-elementdef-fencedframe"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2460"}], "title": "13. Privacy Considerations"}], "external": true};
window.dfnpanelData['e5128568'] = {"dfnID": "e5128568", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-mapping-finalize-a-pending-config", "dfnText": "finalize a pending config", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-finalize-a-pending-config"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['b80593f9'] = {"dfnID": "b80593f9", "url": "https://wicg.github.io/fenced-frame/#finalize-a-reporting-destination", "dfnText": "finalize a reporting destination", "refSections": [{"refs": [{"id": "ref-for-finalize-a-reporting-destination"}, {"id": "ref-for-finalize-a-reporting-destination\u2460"}, {"id": "ref-for-finalize-a-reporting-destination\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['7e94bdd8'] = {"dfnID": "7e94bdd8", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-interest-group-descriptor", "dfnText": "interest group descriptor (for fenced frame config)", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-interest-group-descriptor"}, {"id": "ref-for-fenced-frame-config-interest-group-descriptor\u2460"}, {"id": "ref-for-fenced-frame-config-interest-group-descriptor\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['20fe4d8a'] = {"dfnID": "20fe4d8a", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-instance-interest-group-descriptor", "dfnText": "interest group descriptor (for fenced frame config instance)", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-interest-group-descriptor"}], "title": "3.1. leaveAdInterestGroup()"}], "external": true};
window.dfnpanelData['e231e88f'] = {"dfnID": "e231e88f", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-mapped-url", "dfnText": "mapped url", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapped-url"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2460"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['b49ca9e1'] = {"dfnID": "b49ca9e1", "url": "https://wicg.github.io/fenced-frame/#interest-group-descriptor-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-interest-group-descriptor-name"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-descriptor-name\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['daf5d722'] = {"dfnID": "daf5d722", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-nested-configs", "dfnText": "nested configs", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-nested-configs"}, {"id": "ref-for-fenced-frame-config-nested-configs\u2460"}, {"id": "ref-for-fenced-frame-config-nested-configs\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['f78227fe'] = {"dfnID": "f78227fe", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-on-navigate-callback", "dfnText": "on navigate callback", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-on-navigate-callback"}, {"id": "ref-for-fenced-frame-config-on-navigate-callback\u2460"}, {"id": "ref-for-fenced-frame-config-on-navigate-callback\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['e10697ba'] = {"dfnID": "e10697ba", "url": "https://wicg.github.io/fenced-frame/#visibility-opaque", "dfnText": "opaque", "refSections": [{"refs": [{"id": "ref-for-visibility-opaque"}, {"id": "ref-for-visibility-opaque\u2460"}, {"id": "ref-for-visibility-opaque\u2461"}, {"id": "ref-for-visibility-opaque\u2462"}, {"id": "ref-for-visibility-opaque\u2463"}, {"id": "ref-for-visibility-opaque\u2464"}, {"id": "ref-for-visibility-opaque\u2465"}, {"id": "ref-for-visibility-opaque\u2466"}, {"id": "ref-for-visibility-opaque\u2467"}, {"id": "ref-for-visibility-opaque\u2468"}, {"id": "ref-for-visibility-opaque\u2460\u24ea"}, {"id": "ref-for-visibility-opaque\u2460\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['06e829ad'] = {"dfnID": "06e829ad", "url": "https://wicg.github.io/fenced-frame/#interest-group-descriptor-owner", "dfnText": "owner", "refSections": [{"refs": [{"id": "ref-for-interest-group-descriptor-owner"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-descriptor-owner\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['c5b31ce5'] = {"dfnID": "c5b31ce5", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-config-mapping-store-a-pending-config", "dfnText": "store a pending config", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-store-a-pending-config"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['deb2f2b7'] = {"dfnID": "deb2f2b7", "url": "https://wicg.github.io/fenced-frame/#content-size-value", "dfnText": "value (for content size)", "refSections": [{"refs": [{"id": "ref-for-content-size-value"}, {"id": "ref-for-content-size-value\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['d25680cf'] = {"dfnID": "d25680cf", "url": "https://wicg.github.io/fenced-frame/#effective-enabled-permissions-value", "dfnText": "value (for effective enabled permissions)", "refSections": [{"refs": [{"id": "ref-for-effective-enabled-permissions-value"}, {"id": "ref-for-effective-enabled-permissions-value\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['bf1b4af2'] = {"dfnID": "bf1b4af2", "url": "https://wicg.github.io/fenced-frame/#effective-sandbox-flags-value", "dfnText": "value (for effective sandbox flags)", "refSections": [{"refs": [{"id": "ref-for-effective-sandbox-flags-value"}, {"id": "ref-for-effective-sandbox-flags-value\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['675b28d0'] = {"dfnID": "675b28d0", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-value", "dfnText": "value (for fenced frame reporting metadata)", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-value"}, {"id": "ref-for-fenced-frame-reporting-metadata-value\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['977dcb08'] = {"dfnID": "977dcb08", "url": "https://wicg.github.io/fenced-frame/#interest-group-descriptor-value", "dfnText": "value (for interest group descriptor)", "refSections": [{"refs": [{"id": "ref-for-interest-group-descriptor-value"}, {"id": "ref-for-interest-group-descriptor-value\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['49f979d1'] = {"dfnID": "49f979d1", "url": "https://wicg.github.io/fenced-frame/#mapped-url-value", "dfnText": "value (for mapped url)", "refSections": [{"refs": [{"id": "ref-for-mapped-url-value"}, {"id": "ref-for-mapped-url-value\u2460"}, {"id": "ref-for-mapped-url-value\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['32e476e1'] = {"dfnID": "32e476e1", "url": "https://wicg.github.io/fenced-frame/#nested-configs-value", "dfnText": "value (for nested configs)", "refSections": [{"refs": [{"id": "ref-for-nested-configs-value"}, {"id": "ref-for-nested-configs-value\u2460"}, {"id": "ref-for-nested-configs-value\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['c73d8654'] = {"dfnID": "c73d8654", "url": "https://wicg.github.io/fenced-frame/#content-size-visibility", "dfnText": "visibility (for content size)", "refSections": [{"refs": [{"id": "ref-for-content-size-visibility"}, {"id": "ref-for-content-size-visibility\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['54a0cc06'] = {"dfnID": "54a0cc06", "url": "https://wicg.github.io/fenced-frame/#effective-enabled-permissions-visibility", "dfnText": "visibility (for effective enabled permissions)", "refSections": [{"refs": [{"id": "ref-for-effective-enabled-permissions-visibility"}, {"id": "ref-for-effective-enabled-permissions-visibility\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['976f3f4e'] = {"dfnID": "976f3f4e", "url": "https://wicg.github.io/fenced-frame/#effective-sandbox-flags-visibility", "dfnText": "visibility (for effective sandbox flags)", "refSections": [{"refs": [{"id": "ref-for-effective-sandbox-flags-visibility"}, {"id": "ref-for-effective-sandbox-flags-visibility\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['9407873c'] = {"dfnID": "9407873c", "url": "https://wicg.github.io/fenced-frame/#fenced-frame-reporting-metadata-visibility", "dfnText": "visibility (for fenced frame reporting metadata)", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-visibility"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['118e68e9'] = {"dfnID": "118e68e9", "url": "https://wicg.github.io/fenced-frame/#interest-group-descriptor-visibility", "dfnText": "visibility (for interest group descriptor)", "refSections": [{"refs": [{"id": "ref-for-interest-group-descriptor-visibility"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['33cc1a38'] = {"dfnID": "33cc1a38", "url": "https://wicg.github.io/fenced-frame/#mapped-url-visibility", "dfnText": "visibility (for mapped url)", "refSections": [{"refs": [{"id": "ref-for-mapped-url-visibility"}, {"id": "ref-for-mapped-url-visibility\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['614b2f24'] = {"dfnID": "614b2f24", "url": "https://wicg.github.io/fenced-frame/#nested-configs-visibility", "dfnText": "visibility (for nested configs)", "refSections": [{"refs": [{"id": "ref-for-nested-configs-visibility"}, {"id": "ref-for-nested-configs-visibility\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['4b1fcc3f'] = {"dfnID": "4b1fcc3f", "url": "https://fetch.spec.whatwg.org/#dom-request", "dfnText": "Request(input)", "refSections": [{"refs": [{"id": "ref-for-dom-request"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['0dcd4ad9'] = {"dfnID": "0dcd4ad9", "url": "https://fetch.spec.whatwg.org/#requestinit", "dfnText": "RequestInit", "refSections": [{"refs": [{"id": "ref-for-requestinit"}, {"id": "ref-for-requestinit\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['857d5516'] = {"dfnID": "857d5516", "url": "https://fetch.spec.whatwg.org/#concept-request-client", "dfnText": "client", "refSections": [{"refs": [{"id": "ref-for-concept-request-client"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-client\u2460"}, {"id": "ref-for-concept-request-client\u2461"}, {"id": "ref-for-concept-request-client\u2462"}, {"id": "ref-for-concept-request-client\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-client\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['902380f7'] = {"dfnID": "902380f7", "url": "https://fetch.spec.whatwg.org/#concept-request-credentials-mode", "dfnText": "credentials mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-credentials-mode"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-credentials-mode\u2460"}, {"id": "ref-for-concept-request-credentials-mode\u2461"}, {"id": "ref-for-concept-request-credentials-mode\u2462"}, {"id": "ref-for-concept-request-credentials-mode\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-credentials-mode\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['ee95ecc7'] = {"dfnID": "ee95ecc7", "url": "https://fetch.spec.whatwg.org/#concept-header-list-delete", "dfnText": "delete", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-delete"}, {"id": "ref-for-concept-header-list-delete\u2460"}, {"id": "ref-for-concept-header-list-delete\u2461"}, {"id": "ref-for-concept-header-list-delete\u2462"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['36a75887'] = {"dfnID": "36a75887", "url": "https://fetch.spec.whatwg.org/#concept-header-extract-mime-type", "dfnText": "extracting a mime type", "refSections": [{"refs": [{"id": "ref-for-concept-header-extract-mime-type"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-header-extract-mime-type\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['a33db89a'] = {"dfnID": "a33db89a", "url": "https://fetch.spec.whatwg.org/#concept-fetch", "dfnText": "fetch", "refSections": [{"refs": [{"id": "ref-for-concept-fetch"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-fetch\u2460"}, {"id": "ref-for-concept-fetch\u2461"}, {"id": "ref-for-concept-fetch\u2462"}, {"id": "ref-for-concept-fetch\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-fetch\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['2ce6f6bb'] = {"dfnID": "2ce6f6bb", "url": "https://fetch.spec.whatwg.org/#dom-global-fetch", "dfnText": "fetch(input)", "refSections": [{"refs": [{"id": "ref-for-dom-global-fetch"}, {"id": "ref-for-dom-global-fetch\u2460"}, {"id": "ref-for-dom-global-fetch\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['d47d0690'] = {"dfnID": "d47d0690", "url": "https://fetch.spec.whatwg.org/#concept-header-list-get", "dfnText": "get", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-get"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['5c66de35'] = {"dfnID": "5c66de35", "url": "https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header", "dfnText": "get a structured field value", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-get-structured-header"}, {"id": "ref-for-concept-header-list-get-structured-header\u2460"}, {"id": "ref-for-concept-header-list-get-structured-header\u2461"}, {"id": "ref-for-concept-header-list-get-structured-header\u2462"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['1d2192f2'] = {"dfnID": "1d2192f2", "url": "https://fetch.spec.whatwg.org/#concept-header-list-get-decode-split", "dfnText": "getting, decoding, and splitting", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-get-decode-split"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['d85a6c84'] = {"dfnID": "d85a6c84", "url": "https://fetch.spec.whatwg.org/#concept-header-list", "dfnText": "header list", "refSections": [{"refs": [{"id": "ref-for-concept-header-list"}, {"id": "ref-for-concept-header-list\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['6ee0eab1'] = {"dfnID": "6ee0eab1", "url": "https://fetch.spec.whatwg.org/#concept-request-header-list", "dfnText": "header list (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-header-list"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-header-list\u2460"}, {"id": "ref-for-concept-request-header-list\u2461"}, {"id": "ref-for-concept-request-header-list\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-header-list\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-request-header-list\u2464"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['f7b00a8b'] = {"dfnID": "f7b00a8b", "url": "https://fetch.spec.whatwg.org/#concept-response-header-list", "dfnText": "header list (for response)", "refSections": [{"refs": [{"id": "ref-for-concept-response-header-list"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-response-header-list\u2460"}, {"id": "ref-for-concept-response-header-list\u2461"}, {"id": "ref-for-concept-response-header-list\u2462"}, {"id": "ref-for-concept-response-header-list\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-response-header-list\u2464"}, {"id": "ref-for-concept-response-header-list\u2465"}, {"id": "ref-for-concept-response-header-list\u2466"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['2aaa2f42'] = {"dfnID": "2aaa2f42", "url": "https://fetch.spec.whatwg.org/#concept-http-fetch", "dfnText": "http fetch", "refSections": [{"refs": [{"id": "ref-for-concept-http-fetch"}, {"id": "ref-for-concept-http-fetch\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['980528b0'] = {"dfnID": "980528b0", "url": "https://fetch.spec.whatwg.org/#concept-http-network-or-cache-fetch", "dfnText": "http-network-or-cache fetch", "refSections": [{"refs": [{"id": "ref-for-concept-http-network-or-cache-fetch"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['7b0b4fa0'] = {"dfnID": "7b0b4fa0", "url": "https://fetch.spec.whatwg.org/#request-initiator-type", "dfnText": "initiator type", "refSections": [{"refs": [{"id": "ref-for-request-initiator-type"}, {"id": "ref-for-request-initiator-type\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-request-initiator-type\u2461"}, {"id": "ref-for-request-initiator-type\u2462"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-request-initiator-type\u2463"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": true};
window.dfnpanelData['cb98f71f'] = {"dfnID": "cb98f71f", "url": "https://fetch.spec.whatwg.org/#concept-request-mode", "dfnText": "mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-mode"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-mode\u2460"}, {"id": "ref-for-concept-request-mode\u2461"}, {"id": "ref-for-concept-request-mode\u2462"}, {"id": "ref-for-concept-request-mode\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-mode\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['f78d5b5c'] = {"dfnID": "f78d5b5c", "url": "https://fetch.spec.whatwg.org/#concept-request-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-request-origin"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": true};
window.dfnpanelData['08b51e40'] = {"dfnID": "08b51e40", "url": "https://fetch.spec.whatwg.org/#process-response-end-of-body", "dfnText": "processresponseconsumebody", "refSections": [{"refs": [{"id": "ref-for-process-response-end-of-body"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-process-response-end-of-body\u2460"}, {"id": "ref-for-process-response-end-of-body\u2461"}, {"id": "ref-for-process-response-end-of-body\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-process-response-end-of-body\u2463"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['64b62ea0'] = {"dfnID": "64b62ea0", "url": "https://fetch.spec.whatwg.org/#concept-request-redirect-mode", "dfnText": "redirect mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-redirect-mode"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-redirect-mode\u2460"}, {"id": "ref-for-concept-request-redirect-mode\u2461"}, {"id": "ref-for-concept-request-redirect-mode\u2462"}, {"id": "ref-for-concept-request-redirect-mode\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-redirect-mode\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['a8b25997'] = {"dfnID": "a8b25997", "url": "https://fetch.spec.whatwg.org/#redirect-status", "dfnText": "redirect status", "refSections": [{"refs": [{"id": "ref-for-redirect-status"}, {"id": "ref-for-redirect-status\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['358f1dbd'] = {"dfnID": "358f1dbd", "url": "https://fetch.spec.whatwg.org/#concept-request-referrer", "dfnText": "referrer", "refSections": [{"refs": [{"id": "ref-for-concept-request-referrer"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-referrer\u2460"}, {"id": "ref-for-concept-request-referrer\u2461"}, {"id": "ref-for-concept-request-referrer\u2462"}, {"id": "ref-for-concept-request-referrer\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-referrer\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['55213b5b'] = {"dfnID": "55213b5b", "url": "https://fetch.spec.whatwg.org/#concept-request", "dfnText": "request", "refSections": [{"refs": [{"id": "ref-for-concept-request"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request\u2460"}, {"id": "ref-for-concept-request\u2461"}, {"id": "ref-for-concept-request\u2462"}, {"id": "ref-for-concept-request\u2463"}, {"id": "ref-for-concept-request\u2464"}, {"id": "ref-for-concept-request\u2465"}, {"id": "ref-for-concept-request\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request\u2467"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-request\u2468"}, {"id": "ref-for-concept-request\u2460\u24ea"}, {"id": "ref-for-concept-request\u2460\u2460"}, {"id": "ref-for-concept-request\u2460\u2461"}, {"id": "ref-for-concept-request\u2460\u2462"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-concept-request\u2460\u2463"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": true};
window.dfnpanelData['162d2b51'] = {"dfnID": "162d2b51", "url": "https://fetch.spec.whatwg.org/#concept-request-request", "dfnText": "request (for Request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-request"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['ee7bba09'] = {"dfnID": "ee7bba09", "url": "https://fetch.spec.whatwg.org/#concept-response", "dfnText": "response", "refSections": [{"refs": [{"id": "ref-for-concept-response"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-response\u2460"}, {"id": "ref-for-concept-response\u2461"}, {"id": "ref-for-concept-response\u2462"}, {"id": "ref-for-concept-response\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-response\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-response\u2465"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": true};
window.dfnpanelData['35b98f13'] = {"dfnID": "35b98f13", "url": "https://fetch.spec.whatwg.org/#concept-header-list-set-structured-header", "dfnText": "set a structured field value", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-set-structured-header"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['28119f64'] = {"dfnID": "28119f64", "url": "https://fetch.spec.whatwg.org/#concept-status", "dfnText": "status", "refSections": [{"refs": [{"id": "ref-for-concept-status"}, {"id": "ref-for-concept-status\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['aada90be'] = {"dfnID": "aada90be", "url": "https://fetch.spec.whatwg.org/#fetch-params-task-destination", "dfnText": "task destination", "refSections": [{"refs": [{"id": "ref-for-fetch-params-task-destination"}, {"id": "ref-for-fetch-params-task-destination\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['dc1cd39b'] = {"dfnID": "dc1cd39b", "url": "https://fetch.spec.whatwg.org/#concept-request-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-concept-request-url"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-request-url\u2460"}, {"id": "ref-for-concept-request-url\u2461"}, {"id": "ref-for-concept-request-url\u2462"}, {"id": "ref-for-concept-request-url\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-request-url\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-request-url\u2465"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['2c8ec3a8'] = {"dfnID": "2c8ec3a8", "url": "https://fetch.spec.whatwg.org/#fetch-useparallelqueue", "dfnText": "useparallelqueue", "refSections": [{"refs": [{"id": "ref-for-fetch-useparallelqueue"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-fetch-useparallelqueue\u2460"}, {"id": "ref-for-fetch-useparallelqueue\u2461"}, {"id": "ref-for-fetch-useparallelqueue\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-fetch-useparallelqueue\u2463"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['956045d3'] = {"dfnID": "956045d3", "url": "https://w3c.github.io/hr-time/#dfn-current-monotonic-time", "dfnText": "current monotonic time", "refSections": [{"refs": [{"id": "ref-for-dfn-current-monotonic-time"}, {"id": "ref-for-dfn-current-monotonic-time\u2460"}, {"id": "ref-for-dfn-current-monotonic-time\u2461"}, {"id": "ref-for-dfn-current-monotonic-time\u2462"}, {"id": "ref-for-dfn-current-monotonic-time\u2463"}, {"id": "ref-for-dfn-current-monotonic-time\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dfn-current-monotonic-time\u2465"}, {"id": "ref-for-dfn-current-monotonic-time\u2466"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['a09bfce2'] = {"dfnID": "a09bfce2", "url": "https://w3c.github.io/hr-time/#dfn-current-wall-time", "dfnText": "current wall time", "refSections": [{"refs": [{"id": "ref-for-dfn-current-wall-time"}, {"id": "ref-for-dfn-current-wall-time\u2460"}, {"id": "ref-for-dfn-current-wall-time\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dfn-current-wall-time\u2462"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-dfn-current-wall-time\u2463"}, {"id": "ref-for-dfn-current-wall-time\u2464"}, {"id": "ref-for-dfn-current-wall-time\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dfn-current-wall-time\u2466"}, {"id": "ref-for-dfn-current-wall-time\u2467"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['4b2c8c72'] = {"dfnID": "4b2c8c72", "url": "https://w3c.github.io/hr-time/#dfn-duration", "dfnText": "duration", "refSections": [{"refs": [{"id": "ref-for-dfn-duration"}, {"id": "ref-for-dfn-duration\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dfn-duration\u2461"}, {"id": "ref-for-dfn-duration\u2462"}, {"id": "ref-for-dfn-duration\u2463"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-dfn-duration\u2464"}, {"id": "ref-for-dfn-duration\u2465"}, {"id": "ref-for-dfn-duration\u2466"}, {"id": "ref-for-dfn-duration\u2467"}, {"id": "ref-for-dfn-duration\u2468"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-dfn-duration\u2460\u24ea"}], "title": "12.9. Generated bid"}], "external": true};
window.dfnpanelData['c9a0df83'] = {"dfnID": "c9a0df83", "url": "https://w3c.github.io/hr-time/#dfn-duration-from", "dfnText": "duration from", "refSections": [{"refs": [{"id": "ref-for-dfn-duration-from"}, {"id": "ref-for-dfn-duration-from\u2460"}, {"id": "ref-for-dfn-duration-from\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['1e2edd5b'] = {"dfnID": "1e2edd5b", "url": "https://w3c.github.io/hr-time/#dfn-moment", "dfnText": "moment", "refSections": [{"refs": [{"id": "ref-for-dfn-moment"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-dfn-moment\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dfn-moment\u2461"}, {"id": "ref-for-dfn-moment\u2462"}, {"id": "ref-for-dfn-moment\u2463"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-dfn-moment\u2464"}], "title": "12.7. Previous win"}], "external": true};
window.dfnpanelData['be0c27b2'] = {"dfnID": "be0c27b2", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator", "dfnText": "Navigator", "refSections": [{"refs": [{"id": "ref-for-navigator"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-navigator\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-navigator\u2461"}, {"id": "ref-for-navigator\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-navigator\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-navigator\u2464"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-navigator\u2465"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['5d7209e9'] = {"dfnID": "5d7209e9", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window", "dfnText": "Window", "refSections": [{"refs": [{"id": "ref-for-window"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['3134c785'] = {"dfnID": "3134c785", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#realm's-agent", "dfnText": "agent", "refSections": [{"refs": [{"id": "ref-for-realm's-agent"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['3610bd67'] = {"dfnID": "3610bd67", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use", "dfnText": "allowed to use", "refSections": [{"refs": [{"id": "ref-for-allowed-to-use"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-allowed-to-use\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-allowed-to-use\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-allowed-to-use\u2462"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['3349d69f'] = {"dfnID": "3349d69f", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window", "dfnText": "associated document", "refSections": [{"refs": [{"id": "ref-for-concept-document-window"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-document-window\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-document-window\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-concept-document-window\u2462"}, {"id": "ref-for-concept-document-window\u2463"}, {"id": "ref-for-concept-document-window\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-document-window\u2465"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-concept-document-window\u2466"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['6d88ab2e'] = {"dfnID": "6d88ab2e", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc", "dfnText": "browsing context", "refSections": [{"refs": [{"id": "ref-for-window-bc"}], "title": "3.1. leaveAdInterestGroup()"}], "external": true};
window.dfnpanelData['caa8344c'] = {"dfnID": "caa8344c", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#classic-script", "dfnText": "classic script", "refSections": [{"refs": [{"id": "ref-for-classic-script"}], "title": "7. Script Runners"}], "external": true};
window.dfnpanelData['15c0e5cb'] = {"dfnID": "15c0e5cb", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm", "dfnText": "create a new realm", "refSections": [{"refs": [{"id": "ref-for-creating-a-new-javascript-realm"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['7ba17ea4'] = {"dfnID": "7ba17ea4", "url": "https://html.spec.whatwg.org/C#create-an-agent", "dfnText": "create an agent", "refSections": [{"refs": [{"id": "ref-for-create-an-agent"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['e10e7eb7'] = {"dfnID": "e10e7eb7", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source", "dfnText": "dom manipulation task source", "refSections": [{"refs": [{"id": "ref-for-dom-manipulation-task-source"}, {"id": "ref-for-dom-manipulation-task-source\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-manipulation-task-source\u2461"}, {"id": "ref-for-dom-manipulation-task-source\u2462"}, {"id": "ref-for-dom-manipulation-task-source\u2463"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-manipulation-task-source\u2464"}, {"id": "ref-for-dom-manipulation-task-source\u2465"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-dom-manipulation-task-source\u2466"}, {"id": "ref-for-dom-manipulation-task-source\u2467"}, {"id": "ref-for-dom-manipulation-task-source\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-manipulation-task-source\u2460\u24ea"}], "title": "5.1. createAuctionNonce()"}], "external": true};
window.dfnpanelData['e4d92278'] = {"dfnID": "e4d92278", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#enqueue-the-following-steps", "dfnText": "enqueue steps", "refSections": [{"refs": [{"id": "ref-for-enqueue-the-following-steps"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-enqueue-the-following-steps\u2460"}, {"id": "ref-for-enqueue-the-following-steps\u2461"}, {"id": "ref-for-enqueue-the-following-steps\u2462"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['c6d19e56'] = {"dfnID": "c6d19e56", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop", "dfnText": "event loop", "refSections": [{"refs": [{"id": "ref-for-event-loop"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-event-loop\u2460"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['4b6086d7'] = {"dfnID": "4b6086d7", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#global-object", "dfnText": "global object", "refSections": [{"refs": [{"id": "ref-for-global-object"}, {"id": "ref-for-global-object\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-global-object\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-global-object\u2462"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['168f1b6e'] = {"dfnID": "168f1b6e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global", "dfnText": "global object (for realm)", "refSections": [{"refs": [{"id": "ref-for-concept-realm-global"}], "title": "7.1. Realm and agent"}, {"refs": [{"id": "ref-for-concept-realm-global\u2460"}, {"id": "ref-for-concept-realm-global\u2461"}, {"id": "ref-for-concept-realm-global\u2462"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['77a2ee6e'] = {"dfnID": "77a2ee6e", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-host", "dfnText": "host", "refSections": [{"refs": [{"id": "ref-for-concept-origin-host"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-origin-host\u2460"}, {"id": "ref-for-concept-origin-host\u2461"}, {"id": "ref-for-concept-origin-host\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-origin-host\u2463"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['87fcd40c'] = {"dfnID": "87fcd40c", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element", "dfnText": "iframe", "refSections": [{"refs": [{"id": "ref-for-the-iframe-element"}], "title": "12.2. Interest group ad"}], "external": true};
window.dfnpanelData['9754d36b'] = {"dfnID": "9754d36b", "url": "https://html.spec.whatwg.org/C#immediately", "dfnText": "immediately", "refSections": [{"refs": [{"id": "ref-for-immediately"}, {"id": "ref-for-immediately\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}, {"id": "ref-for-in-parallel\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-in-parallel\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-in-parallel\u2462"}, {"id": "ref-for-in-parallel\u2463"}, {"id": "ref-for-in-parallel\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-in-parallel\u2465"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-in-parallel\u2466"}, {"id": "ref-for-in-parallel\u2467"}, {"id": "ref-for-in-parallel\u2468"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-in-parallel\u2460\u24ea"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-in-parallel\u2460\u2460"}], "title": "7.1. Realm and agent"}, {"refs": [{"id": "ref-for-in-parallel\u2460\u2461"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-in-parallel\u2460\u2462"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['a1005ed9'] = {"dfnID": "a1005ed9", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#module-script", "dfnText": "module script", "refSections": [{"refs": [{"id": "ref-for-module-script"}], "title": "7. Script Runners"}], "external": true};
window.dfnpanelData['a0768d9f'] = {"dfnID": "a0768d9f", "url": "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator", "dfnText": "navigator", "refSections": [{"refs": [{"id": "ref-for-dom-navigator"}, {"id": "ref-for-dom-navigator\u2460"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-dom-navigator\u2461"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-dom-navigator\u2462"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-navigator\u2463"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-navigator\u2464"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-dom-navigator\u2465"}], "title": "4. Running Ad Auctions"}, {"refs": [{"id": "ref-for-dom-navigator\u2466"}, {"id": "ref-for-dom-navigator\u2467"}, {"id": "ref-for-dom-navigator\u2468"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-dom-navigator\u2460\u24ea"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-dom-navigator\u2460\u2460"}, {"id": "ref-for-dom-navigator\u2460\u2461"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['13dd6cae'] = {"dfnID": "13dd6cae", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable", "dfnText": "node navigable", "refSections": [{"refs": [{"id": "ref-for-node-navigable"}, {"id": "ref-for-node-navigable\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-node-navigable\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-node-navigable\u2462"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['b01b1359'] = {"dfnID": "b01b1359", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque", "dfnText": "opaque origin", "refSections": [{"refs": [{"id": "ref-for-concept-origin-opaque"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-origin-opaque\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-origin-opaque\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}], "external": true};
window.dfnpanelData['086e3aff'] = {"dfnID": "086e3aff", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-origin"}, {"id": "ref-for-concept-origin\u2460"}, {"id": "ref-for-concept-origin\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-origin\u2462"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-concept-origin\u2463"}, {"id": "ref-for-concept-origin\u2464"}, {"id": "ref-for-concept-origin\u2465"}, {"id": "ref-for-concept-origin\u2466"}, {"id": "ref-for-concept-origin\u2467"}, {"id": "ref-for-concept-origin\u2468"}, {"id": "ref-for-concept-origin\u2460\u24ea"}, {"id": "ref-for-concept-origin\u2460\u2460"}, {"id": "ref-for-concept-origin\u2460\u2461"}, {"id": "ref-for-concept-origin\u2460\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-origin\u2460\u2463"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-concept-origin\u2460\u2464"}, {"id": "ref-for-concept-origin\u2460\u2465"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-concept-origin\u2460\u2466"}, {"id": "ref-for-concept-origin\u2460\u2467"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-concept-origin\u2460\u2468"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-origin\u2461\u24ea"}, {"id": "ref-for-concept-origin\u2461\u2460"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-concept-origin\u2461\u2461"}, {"id": "ref-for-concept-origin\u2461\u2462"}, {"id": "ref-for-concept-origin\u2461\u2463"}, {"id": "ref-for-concept-origin\u2461\u2464"}, {"id": "ref-for-concept-origin\u2461\u2465"}, {"id": "ref-for-concept-origin\u2461\u2466"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-concept-origin\u2461\u2467"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-concept-origin\u2461\u2468"}, {"id": "ref-for-concept-origin\u2462\u24ea"}, {"id": "ref-for-concept-origin\u2462\u2460"}, {"id": "ref-for-concept-origin\u2462\u2461"}, {"id": "ref-for-concept-origin\u2462\u2462"}, {"id": "ref-for-concept-origin\u2462\u2463"}, {"id": "ref-for-concept-origin\u2462\u2464"}, {"id": "ref-for-concept-origin\u2462\u2465"}, {"id": "ref-for-concept-origin\u2462\u2466"}, {"id": "ref-for-concept-origin\u2462\u2467"}, {"id": "ref-for-concept-origin\u2462\u2468"}, {"id": "ref-for-concept-origin\u2463\u24ea"}, {"id": "ref-for-concept-origin\u2463\u2460"}, {"id": "ref-for-concept-origin\u2463\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-concept-origin\u2463\u2462"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-concept-origin\u2463\u2463"}, {"id": "ref-for-concept-origin\u2463\u2464"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-concept-origin\u2463\u2465"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['43ac8374'] = {"dfnID": "43ac8374", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin", "dfnText": "origin (for environment settings object)", "refSections": [{"refs": [{"id": "ref-for-concept-settings-object-origin"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-settings-object-origin\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-settings-object-origin\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}], "external": true};
window.dfnpanelData['8603b31a'] = {"dfnID": "8603b31a", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#perform-a-microtask-checkpoint", "dfnText": "perform a microtask checkpoint", "refSections": [{"refs": [{"id": "ref-for-perform-a-microtask-checkpoint"}], "title": "7. Script Runners"}], "external": true};
window.dfnpanelData['98e31e77'] = {"dfnID": "98e31e77", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-concept-origin-port"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": true};
window.dfnpanelData['48438eb3'] = {"dfnID": "48438eb3", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task", "dfnText": "queue a global task", "refSections": [{"refs": [{"id": "ref-for-queue-a-global-task"}, {"id": "ref-for-queue-a-global-task\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2461"}, {"id": "ref-for-queue-a-global-task\u2462"}, {"id": "ref-for-queue-a-global-task\u2463"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2464"}, {"id": "ref-for-queue-a-global-task\u2465"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2466"}, {"id": "ref-for-queue-a-global-task\u2467"}, {"id": "ref-for-queue-a-global-task\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2460\u24ea"}], "title": "5.1. createAuctionNonce()"}], "external": true};
window.dfnpanelData['e99bd18e'] = {"dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-global"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2463"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2464"}, {"id": "ref-for-concept-relevant-global\u2465"}, {"id": "ref-for-concept-relevant-global\u2466"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2467"}, {"id": "ref-for-concept-relevant-global\u2468"}, {"id": "ref-for-concept-relevant-global\u2460\u24ea"}, {"id": "ref-for-concept-relevant-global\u2460\u2460"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['9c4c1e66'] = {"dfnID": "9c4c1e66", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "dfnText": "relevant settings object", "refSections": [{"refs": [{"id": "ref-for-relevant-settings-object"}, {"id": "ref-for-relevant-settings-object\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-relevant-settings-object\u2461"}, {"id": "ref-for-relevant-settings-object\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-relevant-settings-object\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-relevant-settings-object\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['f5468b1c'] = {"dfnID": "f5468b1c", "url": "https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#rules-for-parsing-floating-point-number-values", "dfnText": "rules for parsing floating-point number values", "refSections": [{"refs": [{"id": "ref-for-rules-for-parsing-floating-point-number-values"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['7393da89'] = {"dfnID": "7393da89", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin", "dfnText": "same origin", "refSections": [{"refs": [{"id": "ref-for-same-origin"}, {"id": "ref-for-same-origin\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-same-origin\u2461"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-same-origin\u2462"}, {"id": "ref-for-same-origin\u2463"}, {"id": "ref-for-same-origin\u2464"}, {"id": "ref-for-same-origin\u2465"}, {"id": "ref-for-same-origin\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-same-origin\u2467"}, {"id": "ref-for-same-origin\u2468"}, {"id": "ref-for-same-origin\u2460\u24ea"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-same-origin\u2460\u2460"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-same-origin\u2460\u2461"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-same-origin\u2460\u2462"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-same-origin\u2460\u2463"}, {"id": "ref-for-same-origin\u2460\u2464"}, {"id": "ref-for-same-origin\u2460\u2465"}, {"id": "ref-for-same-origin\u2460\u2466"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-same-origin\u2460\u2467"}, {"id": "ref-for-same-origin\u2460\u2468"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['a23d12a9'] = {"dfnID": "a23d12a9", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-origin-scheme"}, {"id": "ref-for-concept-origin-scheme\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2461"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2464"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-concept-origin-scheme\u2465"}, {"id": "ref-for-concept-origin-scheme\u2466"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['dd6462cb'] = {"dfnID": "dd6462cb", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-script", "dfnText": "script", "refSections": [{"refs": [{"id": "ref-for-concept-script"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-concept-script\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['dae0bfde'] = {"dfnID": "dae0bfde", "url": "https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin", "dfnText": "serialization of an origin", "refSections": [{"refs": [{"id": "ref-for-ascii-serialisation-of-an-origin"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2460"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-ascii-serialisation-of-an-origin\u2462"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2463"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2464"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2465"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2466"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2467"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ascii-serialisation-of-an-origin\u2460\u24ea"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2460\u2460"}, {"id": "ref-for-ascii-serialisation-of-an-origin\u2460\u2461"}], "title": "6. K-anonymity"}], "external": true};
window.dfnpanelData['7deb6835'] = {"dfnID": "7deb6835", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-settings-object", "dfnText": "settings object", "refSections": [{"refs": [{"id": "ref-for-concept-realm-settings-object"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-concept-realm-settings-object\u2460"}, {"id": "ref-for-concept-realm-settings-object\u2461"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['fb9bb722'] = {"dfnID": "fb9bb722", "url": "https://html.spec.whatwg.org/multipage/browsers.html#site", "dfnText": "site", "refSections": [{"refs": [{"id": "ref-for-site"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-site\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-site\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['8219d486'] = {"dfnID": "8219d486", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#starting-a-new-parallel-queue", "dfnText": "starting a new parallel queue", "refSections": [{"refs": [{"id": "ref-for-starting-a-new-parallel-queue"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-starting-a-new-parallel-queue\u2460"}, {"id": "ref-for-starting-a-new-parallel-queue\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['e270bd2a'] = {"dfnID": "e270bd2a", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-task", "dfnText": "task", "refSections": [{"refs": [{"id": "ref-for-concept-task"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['c3b2d08c'] = {"dfnID": "c3b2d08c", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#task-source", "dfnText": "task source", "refSections": [{"refs": [{"id": "ref-for-task-source"}], "title": "7.1. Realm and agent"}], "external": true};
window.dfnpanelData['c63519ed'] = {"dfnID": "c63519ed", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin", "dfnText": "top-level origin", "refSections": [{"refs": [{"id": "ref-for-concept-environment-top-level-origin"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-environment-top-level-origin\u2460"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-concept-environment-top-level-origin\u2461"}, {"id": "ref-for-concept-environment-top-level-origin\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-environment-top-level-origin\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-environment-top-level-origin\u2464"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['d0c1b934'] = {"dfnID": "d0c1b934", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable", "dfnText": "traversable navigable", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-traversable-navigable\u2460"}, {"id": "ref-for-traversable-navigable\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-traversable-navigable\u2462"}, {"id": "ref-for-traversable-navigable\u2463"}, {"id": "ref-for-traversable-navigable\u2464"}, {"id": "ref-for-traversable-navigable\u2465"}, {"id": "ref-for-traversable-navigable\u2466"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['17582406'] = {"dfnID": "17582406", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable", "dfnText": "traversable navigable (for navigable)", "refSections": [{"refs": [{"id": "ref-for-nav-traversable"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['c5317cec'] = {"dfnID": "c5317cec", "url": "https://html.spec.whatwg.org/C#valid-floating-point-number", "dfnText": "valid floating-point number", "refSections": [{"refs": [{"id": "ref-for-valid-floating-point-number"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['53275e46'] = {"dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append (for list)", "refSections": [{"refs": [{"id": "ref-for-list-append"}, {"id": "ref-for-list-append\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-list-append\u2461"}, {"id": "ref-for-list-append\u2462"}, {"id": "ref-for-list-append\u2463"}, {"id": "ref-for-list-append\u2464"}, {"id": "ref-for-list-append\u2465"}, {"id": "ref-for-list-append\u2466"}, {"id": "ref-for-list-append\u2467"}, {"id": "ref-for-list-append\u2468"}, {"id": "ref-for-list-append\u2460\u24ea"}, {"id": "ref-for-list-append\u2460\u2460"}, {"id": "ref-for-list-append\u2460\u2461"}, {"id": "ref-for-list-append\u2460\u2462"}, {"id": "ref-for-list-append\u2460\u2463"}, {"id": "ref-for-list-append\u2460\u2464"}, {"id": "ref-for-list-append\u2460\u2465"}, {"id": "ref-for-list-append\u2460\u2466"}, {"id": "ref-for-list-append\u2460\u2467"}, {"id": "ref-for-list-append\u2460\u2468"}, {"id": "ref-for-list-append\u2461\u24ea"}, {"id": "ref-for-list-append\u2461\u2460"}, {"id": "ref-for-list-append\u2461\u2461"}, {"id": "ref-for-list-append\u2461\u2462"}, {"id": "ref-for-list-append\u2461\u2463"}, {"id": "ref-for-list-append\u2461\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list-append\u2461\u2465"}, {"id": "ref-for-list-append\u2461\u2466"}, {"id": "ref-for-list-append\u2461\u2467"}, {"id": "ref-for-list-append\u2461\u2468"}, {"id": "ref-for-list-append\u2462\u24ea"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-list-append\u2462\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-list-append\u2462\u2461"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['a3b18719'] = {"dfnID": "a3b18719", "url": "https://infra.spec.whatwg.org/#set-append", "dfnText": "append (for set)", "refSections": [{"refs": [{"id": "ref-for-set-append"}, {"id": "ref-for-set-append\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-set-append\u2461"}], "title": "5.2. Additional Bids"}], "external": true};
window.dfnpanelData['617d690e'] = {"dfnID": "617d690e", "url": "https://infra.spec.whatwg.org/#ascii-byte", "dfnText": "ascii byte", "refSections": [{"refs": [{"id": "ref-for-ascii-byte"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['3b38c2fe'] = {"dfnID": "3b38c2fe", "url": "https://infra.spec.whatwg.org/#ascii-digit", "dfnText": "ascii digit", "refSections": [{"refs": [{"id": "ref-for-ascii-digit"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['297c1527'] = {"dfnID": "297c1527", "url": "https://infra.spec.whatwg.org/#ascii-encode", "dfnText": "ascii encode", "refSections": [{"refs": [{"id": "ref-for-ascii-encode"}, {"id": "ref-for-ascii-encode\u2460"}, {"id": "ref-for-ascii-encode\u2461"}, {"id": "ref-for-ascii-encode\u2462"}, {"id": "ref-for-ascii-encode\u2463"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-ascii-encode\u2464"}], "title": "9. Common Algorithms"}], "external": true};
window.dfnpanelData['5661d95e'] = {"dfnID": "5661d95e", "url": "https://infra.spec.whatwg.org/#ascii-lower-alpha", "dfnText": "ascii lower alpha", "refSections": [{"refs": [{"id": "ref-for-ascii-lower-alpha"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['b7f60025'] = {"dfnID": "b7f60025", "url": "https://infra.spec.whatwg.org/#ascii-lower-hex-digit", "dfnText": "ascii lower hex digit", "refSections": [{"refs": [{"id": "ref-for-ascii-lower-hex-digit"}], "title": "9. Common Algorithms"}], "external": true};
window.dfnpanelData['e5026bef'] = {"dfnID": "e5026bef", "url": "https://infra.spec.whatwg.org/#ascii-upper-alpha", "dfnText": "ascii upper alpha", "refSections": [{"refs": [{"id": "ref-for-ascii-upper-alpha"}, {"id": "ref-for-ascii-upper-alpha\u2460"}, {"id": "ref-for-ascii-upper-alpha\u2461"}], "title": "12.3. Currency tag"}], "external": true};
window.dfnpanelData['77b4c09a'] = {"dfnID": "77b4c09a", "url": "https://infra.spec.whatwg.org/#assert", "dfnText": "assert", "refSections": [{"refs": [{"id": "ref-for-assert"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-assert\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-assert\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-assert\u2462"}, {"id": "ref-for-assert\u2463"}, {"id": "ref-for-assert\u2464"}, {"id": "ref-for-assert\u2465"}, {"id": "ref-for-assert\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-assert\u2467"}, {"id": "ref-for-assert\u2468"}, {"id": "ref-for-assert\u2460\u24ea"}, {"id": "ref-for-assert\u2460\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-assert\u2460\u2461"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-assert\u2460\u2462"}], "title": "7.1. Realm and agent"}, {"refs": [{"id": "ref-for-assert\u2460\u2463"}, {"id": "ref-for-assert\u2460\u2464"}, {"id": "ref-for-assert\u2460\u2465"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-assert\u2460\u2466"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['36858240'] = {"dfnID": "36858240", "url": "https://infra.spec.whatwg.org/#boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-boolean"}, {"id": "ref-for-boolean\u2460"}, {"id": "ref-for-boolean\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-boolean\u2463"}, {"id": "ref-for-boolean\u2464"}, {"id": "ref-for-boolean\u2465"}, {"id": "ref-for-boolean\u2466"}, {"id": "ref-for-boolean\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-boolean\u2460\u2460"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-boolean\u2460\u2461"}, {"id": "ref-for-boolean\u2460\u2462"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-boolean\u2460\u2463"}], "title": "12.9. Generated bid"}, {"refs": [{"id": "ref-for-boolean\u2460\u2464"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['7b0d918d'] = {"dfnID": "7b0d918d", "url": "https://infra.spec.whatwg.org/#iteration-break", "dfnText": "break", "refSections": [{"refs": [{"id": "ref-for-iteration-break"}, {"id": "ref-for-iteration-break\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-iteration-break\u2461"}, {"id": "ref-for-iteration-break\u2462"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-iteration-break\u2463"}], "title": "5.3. Negative Targeting"}], "external": true};
window.dfnpanelData['3de9e659'] = {"dfnID": "3de9e659", "url": "https://infra.spec.whatwg.org/#byte-sequence", "dfnText": "byte sequence", "refSections": [{"refs": [{"id": "ref-for-byte-sequence"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-byte-sequence\u2460"}, {"id": "ref-for-byte-sequence\u2461"}, {"id": "ref-for-byte-sequence\u2462"}, {"id": "ref-for-byte-sequence\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-byte-sequence\u2464"}, {"id": "ref-for-byte-sequence\u2465"}, {"id": "ref-for-byte-sequence\u2466"}, {"id": "ref-for-byte-sequence\u2467"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-byte-sequence\u2468"}, {"id": "ref-for-byte-sequence\u2460\u24ea"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-byte-sequence\u2460\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-byte-sequence\u2460\u2461"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-byte-sequence\u2460\u2462"}], "title": "12.1. Interest group"}], "external": true};
window.dfnpanelData['ab3919d2'] = {"dfnID": "ab3919d2", "url": "https://infra.spec.whatwg.org/#map-clone", "dfnText": "clone", "refSections": [{"refs": [{"id": "ref-for-map-clone"}, {"id": "ref-for-map-clone\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['59912c93'] = {"dfnID": "59912c93", "url": "https://infra.spec.whatwg.org/#code-unit", "dfnText": "code unit", "refSections": [{"refs": [{"id": "ref-for-code-unit"}], "title": "9. Common Algorithms"}], "external": true};
window.dfnpanelData['d24334b4'] = {"dfnID": "d24334b4", "url": "https://infra.spec.whatwg.org/#collect-a-sequence-of-code-points", "dfnText": "collect a sequence of code points", "refSections": [{"refs": [{"id": "ref-for-collect-a-sequence-of-code-points"}, {"id": "ref-for-collect-a-sequence-of-code-points\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['4a3bf5fb'] = {"dfnID": "4a3bf5fb", "url": "https://infra.spec.whatwg.org/#string-concatenate", "dfnText": "concatenate", "refSections": [{"refs": [{"id": "ref-for-string-concatenate"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-string-concatenate\u2460"}, {"id": "ref-for-string-concatenate\u2461"}, {"id": "ref-for-string-concatenate\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-string-concatenate\u2463"}, {"id": "ref-for-string-concatenate\u2464"}, {"id": "ref-for-string-concatenate\u2465"}, {"id": "ref-for-string-concatenate\u2466"}, {"id": "ref-for-string-concatenate\u2467"}], "title": "6. K-anonymity"}], "external": true};
window.dfnpanelData['e28ccd60'] = {"dfnID": "e28ccd60", "url": "https://infra.spec.whatwg.org/#string-concatenate", "dfnText": "concatenation", "refSections": [{"refs": [{"id": "ref-for-string-concatenate"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-string-concatenate\u2460"}, {"id": "ref-for-string-concatenate\u2461"}, {"id": "ref-for-string-concatenate\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-string-concatenate\u2463"}, {"id": "ref-for-string-concatenate\u2464"}, {"id": "ref-for-string-concatenate\u2465"}, {"id": "ref-for-string-concatenate\u2466"}, {"id": "ref-for-string-concatenate\u2467"}], "title": "6. K-anonymity"}], "external": true};
window.dfnpanelData['ae8def21'] = {"dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain (for list)", "refSections": [{"refs": [{"id": "ref-for-list-contain"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list-contain\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-list-contain\u2461"}, {"id": "ref-for-list-contain\u2462"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-list-contain\u2463"}], "title": "9. Common Algorithms"}], "external": true};
window.dfnpanelData['a326add7'] = {"dfnID": "a326add7", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "contain (for map)", "refSections": [{"refs": [{"id": "ref-for-map-exists"}, {"id": "ref-for-map-exists\u2460"}, {"id": "ref-for-map-exists\u2461"}, {"id": "ref-for-map-exists\u2462"}, {"id": "ref-for-map-exists\u2463"}, {"id": "ref-for-map-exists\u2464"}, {"id": "ref-for-map-exists\u2465"}, {"id": "ref-for-map-exists\u2466"}, {"id": "ref-for-map-exists\u2467"}, {"id": "ref-for-map-exists\u2468"}, {"id": "ref-for-map-exists\u2460\u24ea"}, {"id": "ref-for-map-exists\u2460\u2460"}, {"id": "ref-for-map-exists\u2460\u2461"}, {"id": "ref-for-map-exists\u2460\u2462"}, {"id": "ref-for-map-exists\u2460\u2463"}, {"id": "ref-for-map-exists\u2460\u2464"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-map-exists\u2460\u2465"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-exists\u2460\u2466"}, {"id": "ref-for-map-exists\u2460\u2467"}, {"id": "ref-for-map-exists\u2460\u2468"}, {"id": "ref-for-map-exists\u2461\u24ea"}, {"id": "ref-for-map-exists\u2461\u2460"}, {"id": "ref-for-map-exists\u2461\u2461"}, {"id": "ref-for-map-exists\u2461\u2462"}, {"id": "ref-for-map-exists\u2461\u2463"}, {"id": "ref-for-map-exists\u2461\u2464"}, {"id": "ref-for-map-exists\u2461\u2465"}, {"id": "ref-for-map-exists\u2461\u2466"}, {"id": "ref-for-map-exists\u2461\u2467"}, {"id": "ref-for-map-exists\u2461\u2468"}, {"id": "ref-for-map-exists\u2462\u24ea"}, {"id": "ref-for-map-exists\u2462\u2460"}, {"id": "ref-for-map-exists\u2462\u2461"}, {"id": "ref-for-map-exists\u2462\u2462"}, {"id": "ref-for-map-exists\u2462\u2463"}, {"id": "ref-for-map-exists\u2462\u2464"}, {"id": "ref-for-map-exists\u2462\u2465"}, {"id": "ref-for-map-exists\u2462\u2466"}, {"id": "ref-for-map-exists\u2462\u2467"}, {"id": "ref-for-map-exists\u2462\u2468"}, {"id": "ref-for-map-exists\u2463\u24ea"}, {"id": "ref-for-map-exists\u2463\u2460"}, {"id": "ref-for-map-exists\u2463\u2461"}, {"id": "ref-for-map-exists\u2463\u2462"}, {"id": "ref-for-map-exists\u2463\u2463"}, {"id": "ref-for-map-exists\u2463\u2464"}, {"id": "ref-for-map-exists\u2463\u2465"}, {"id": "ref-for-map-exists\u2463\u2466"}, {"id": "ref-for-map-exists\u2463\u2467"}, {"id": "ref-for-map-exists\u2463\u2468"}, {"id": "ref-for-map-exists\u2464\u24ea"}, {"id": "ref-for-map-exists\u2464\u2460"}, {"id": "ref-for-map-exists\u2464\u2461"}, {"id": "ref-for-map-exists\u2464\u2462"}, {"id": "ref-for-map-exists\u2464\u2463"}, {"id": "ref-for-map-exists\u2464\u2464"}, {"id": "ref-for-map-exists\u2464\u2465"}, {"id": "ref-for-map-exists\u2464\u2466"}, {"id": "ref-for-map-exists\u2464\u2467"}, {"id": "ref-for-map-exists\u2464\u2468"}, {"id": "ref-for-map-exists\u2465\u24ea"}, {"id": "ref-for-map-exists\u2465\u2460"}, {"id": "ref-for-map-exists\u2465\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-exists\u2465\u2462"}, {"id": "ref-for-map-exists\u2465\u2463"}, {"id": "ref-for-map-exists\u2465\u2464"}, {"id": "ref-for-map-exists\u2465\u2465"}, {"id": "ref-for-map-exists\u2465\u2466"}, {"id": "ref-for-map-exists\u2465\u2467"}, {"id": "ref-for-map-exists\u2465\u2468"}, {"id": "ref-for-map-exists\u2466\u24ea"}, {"id": "ref-for-map-exists\u2466\u2460"}, {"id": "ref-for-map-exists\u2466\u2461"}, {"id": "ref-for-map-exists\u2466\u2462"}, {"id": "ref-for-map-exists\u2466\u2463"}, {"id": "ref-for-map-exists\u2466\u2464"}, {"id": "ref-for-map-exists\u2466\u2465"}, {"id": "ref-for-map-exists\u2466\u2466"}, {"id": "ref-for-map-exists\u2466\u2467"}, {"id": "ref-for-map-exists\u2466\u2468"}, {"id": "ref-for-map-exists\u2467\u24ea"}, {"id": "ref-for-map-exists\u2467\u2460"}, {"id": "ref-for-map-exists\u2467\u2461"}, {"id": "ref-for-map-exists\u2467\u2462"}, {"id": "ref-for-map-exists\u2467\u2463"}, {"id": "ref-for-map-exists\u2467\u2464"}, {"id": "ref-for-map-exists\u2467\u2465"}, {"id": "ref-for-map-exists\u2467\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-map-exists\u2467\u2467"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-map-exists\u2467\u2468"}, {"id": "ref-for-map-exists\u2468\u24ea"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-map-exists\u2468\u2460"}, {"id": "ref-for-map-exists\u2468\u2461"}, {"id": "ref-for-map-exists\u2468\u2462"}, {"id": "ref-for-map-exists\u2468\u2463"}, {"id": "ref-for-map-exists\u2468\u2464"}, {"id": "ref-for-map-exists\u2468\u2465"}, {"id": "ref-for-map-exists\u2468\u2466"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-exists\u2468\u2467"}, {"id": "ref-for-map-exists\u2468\u2468"}, {"id": "ref-for-map-exists\u2460\u24ea\u24ea"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea\u2460"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea\u2462"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['f937b7b6'] = {"dfnID": "f937b7b6", "url": "https://infra.spec.whatwg.org/#iteration-continue", "dfnText": "continue", "refSections": [{"refs": [{"id": "ref-for-iteration-continue"}, {"id": "ref-for-iteration-continue\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-iteration-continue\u2461"}, {"id": "ref-for-iteration-continue\u2462"}, {"id": "ref-for-iteration-continue\u2463"}, {"id": "ref-for-iteration-continue\u2464"}, {"id": "ref-for-iteration-continue\u2465"}, {"id": "ref-for-iteration-continue\u2466"}, {"id": "ref-for-iteration-continue\u2467"}, {"id": "ref-for-iteration-continue\u2468"}, {"id": "ref-for-iteration-continue\u2460\u24ea"}, {"id": "ref-for-iteration-continue\u2460\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2462"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-iteration-continue\u2460\u2463"}, {"id": "ref-for-iteration-continue\u2460\u2464"}, {"id": "ref-for-iteration-continue\u2460\u2465"}, {"id": "ref-for-iteration-continue\u2460\u2466"}, {"id": "ref-for-iteration-continue\u2460\u2467"}, {"id": "ref-for-iteration-continue\u2460\u2468"}, {"id": "ref-for-iteration-continue\u2461\u24ea"}, {"id": "ref-for-iteration-continue\u2461\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-iteration-continue\u2461\u2461"}, {"id": "ref-for-iteration-continue\u2461\u2462"}, {"id": "ref-for-iteration-continue\u2461\u2463"}, {"id": "ref-for-iteration-continue\u2461\u2464"}, {"id": "ref-for-iteration-continue\u2461\u2465"}, {"id": "ref-for-iteration-continue\u2461\u2466"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['03afaf9c'] = {"dfnID": "03afaf9c", "url": "https://infra.spec.whatwg.org/#list-empty", "dfnText": "empty", "refSections": [{"refs": [{"id": "ref-for-list-empty"}, {"id": "ref-for-list-empty\u2460"}, {"id": "ref-for-list-empty\u2461"}, {"id": "ref-for-list-empty\u2462"}, {"id": "ref-for-list-empty\u2463"}, {"id": "ref-for-list-empty\u2464"}, {"id": "ref-for-list-empty\u2465"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['1243a891'] = {"dfnID": "1243a891", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "exist", "refSections": [{"refs": [{"id": "ref-for-map-exists"}, {"id": "ref-for-map-exists\u2460"}, {"id": "ref-for-map-exists\u2461"}, {"id": "ref-for-map-exists\u2462"}, {"id": "ref-for-map-exists\u2463"}, {"id": "ref-for-map-exists\u2464"}, {"id": "ref-for-map-exists\u2465"}, {"id": "ref-for-map-exists\u2466"}, {"id": "ref-for-map-exists\u2467"}, {"id": "ref-for-map-exists\u2468"}, {"id": "ref-for-map-exists\u2460\u24ea"}, {"id": "ref-for-map-exists\u2460\u2460"}, {"id": "ref-for-map-exists\u2460\u2461"}, {"id": "ref-for-map-exists\u2460\u2462"}, {"id": "ref-for-map-exists\u2460\u2463"}, {"id": "ref-for-map-exists\u2460\u2464"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-map-exists\u2460\u2465"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-exists\u2460\u2466"}, {"id": "ref-for-map-exists\u2460\u2467"}, {"id": "ref-for-map-exists\u2460\u2468"}, {"id": "ref-for-map-exists\u2461\u24ea"}, {"id": "ref-for-map-exists\u2461\u2460"}, {"id": "ref-for-map-exists\u2461\u2461"}, {"id": "ref-for-map-exists\u2461\u2462"}, {"id": "ref-for-map-exists\u2461\u2463"}, {"id": "ref-for-map-exists\u2461\u2464"}, {"id": "ref-for-map-exists\u2461\u2465"}, {"id": "ref-for-map-exists\u2461\u2466"}, {"id": "ref-for-map-exists\u2461\u2467"}, {"id": "ref-for-map-exists\u2461\u2468"}, {"id": "ref-for-map-exists\u2462\u24ea"}, {"id": "ref-for-map-exists\u2462\u2460"}, {"id": "ref-for-map-exists\u2462\u2461"}, {"id": "ref-for-map-exists\u2462\u2462"}, {"id": "ref-for-map-exists\u2462\u2463"}, {"id": "ref-for-map-exists\u2462\u2464"}, {"id": "ref-for-map-exists\u2462\u2465"}, {"id": "ref-for-map-exists\u2462\u2466"}, {"id": "ref-for-map-exists\u2462\u2467"}, {"id": "ref-for-map-exists\u2462\u2468"}, {"id": "ref-for-map-exists\u2463\u24ea"}, {"id": "ref-for-map-exists\u2463\u2460"}, {"id": "ref-for-map-exists\u2463\u2461"}, {"id": "ref-for-map-exists\u2463\u2462"}, {"id": "ref-for-map-exists\u2463\u2463"}, {"id": "ref-for-map-exists\u2463\u2464"}, {"id": "ref-for-map-exists\u2463\u2465"}, {"id": "ref-for-map-exists\u2463\u2466"}, {"id": "ref-for-map-exists\u2463\u2467"}, {"id": "ref-for-map-exists\u2463\u2468"}, {"id": "ref-for-map-exists\u2464\u24ea"}, {"id": "ref-for-map-exists\u2464\u2460"}, {"id": "ref-for-map-exists\u2464\u2461"}, {"id": "ref-for-map-exists\u2464\u2462"}, {"id": "ref-for-map-exists\u2464\u2463"}, {"id": "ref-for-map-exists\u2464\u2464"}, {"id": "ref-for-map-exists\u2464\u2465"}, {"id": "ref-for-map-exists\u2464\u2466"}, {"id": "ref-for-map-exists\u2464\u2467"}, {"id": "ref-for-map-exists\u2464\u2468"}, {"id": "ref-for-map-exists\u2465\u24ea"}, {"id": "ref-for-map-exists\u2465\u2460"}, {"id": "ref-for-map-exists\u2465\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-exists\u2465\u2462"}, {"id": "ref-for-map-exists\u2465\u2463"}, {"id": "ref-for-map-exists\u2465\u2464"}, {"id": "ref-for-map-exists\u2465\u2465"}, {"id": "ref-for-map-exists\u2465\u2466"}, {"id": "ref-for-map-exists\u2465\u2467"}, {"id": "ref-for-map-exists\u2465\u2468"}, {"id": "ref-for-map-exists\u2466\u24ea"}, {"id": "ref-for-map-exists\u2466\u2460"}, {"id": "ref-for-map-exists\u2466\u2461"}, {"id": "ref-for-map-exists\u2466\u2462"}, {"id": "ref-for-map-exists\u2466\u2463"}, {"id": "ref-for-map-exists\u2466\u2464"}, {"id": "ref-for-map-exists\u2466\u2465"}, {"id": "ref-for-map-exists\u2466\u2466"}, {"id": "ref-for-map-exists\u2466\u2467"}, {"id": "ref-for-map-exists\u2466\u2468"}, {"id": "ref-for-map-exists\u2467\u24ea"}, {"id": "ref-for-map-exists\u2467\u2460"}, {"id": "ref-for-map-exists\u2467\u2461"}, {"id": "ref-for-map-exists\u2467\u2462"}, {"id": "ref-for-map-exists\u2467\u2463"}, {"id": "ref-for-map-exists\u2467\u2464"}, {"id": "ref-for-map-exists\u2467\u2465"}, {"id": "ref-for-map-exists\u2467\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-map-exists\u2467\u2467"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-map-exists\u2467\u2468"}, {"id": "ref-for-map-exists\u2468\u24ea"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-map-exists\u2468\u2460"}, {"id": "ref-for-map-exists\u2468\u2461"}, {"id": "ref-for-map-exists\u2468\u2462"}, {"id": "ref-for-map-exists\u2468\u2463"}, {"id": "ref-for-map-exists\u2468\u2464"}, {"id": "ref-for-map-exists\u2468\u2465"}, {"id": "ref-for-map-exists\u2468\u2466"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-exists\u2468\u2467"}, {"id": "ref-for-map-exists\u2468\u2468"}, {"id": "ref-for-map-exists\u2460\u24ea\u24ea"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea\u2460"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-map-exists\u2460\u24ea\u2462"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['d8f8bd6e'] = {"dfnID": "d8f8bd6e", "url": "https://infra.spec.whatwg.org/#list-extend", "dfnText": "extend", "refSections": [{"refs": [{"id": "ref-for-list-extend"}, {"id": "ref-for-list-extend\u2460"}, {"id": "ref-for-list-extend\u2461"}, {"id": "ref-for-list-extend\u2462"}, {"id": "ref-for-list-extend\u2463"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['16d07e10'] = {"dfnID": "16d07e10", "url": "https://infra.spec.whatwg.org/#list-iterate", "dfnText": "for each (for list)", "refSections": [{"refs": [{"id": "ref-for-list-iterate"}, {"id": "ref-for-list-iterate\u2460"}, {"id": "ref-for-list-iterate\u2461"}, {"id": "ref-for-list-iterate\u2462"}, {"id": "ref-for-list-iterate\u2463"}, {"id": "ref-for-list-iterate\u2464"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-list-iterate\u2465"}, {"id": "ref-for-list-iterate\u2466"}, {"id": "ref-for-list-iterate\u2467"}, {"id": "ref-for-list-iterate\u2468"}, {"id": "ref-for-list-iterate\u2460\u24ea"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-list-iterate\u2460\u2460"}, {"id": "ref-for-list-iterate\u2460\u2461"}, {"id": "ref-for-list-iterate\u2460\u2462"}, {"id": "ref-for-list-iterate\u2460\u2463"}, {"id": "ref-for-list-iterate\u2460\u2464"}, {"id": "ref-for-list-iterate\u2460\u2465"}, {"id": "ref-for-list-iterate\u2460\u2466"}, {"id": "ref-for-list-iterate\u2460\u2467"}, {"id": "ref-for-list-iterate\u2460\u2468"}, {"id": "ref-for-list-iterate\u2461\u24ea"}, {"id": "ref-for-list-iterate\u2461\u2460"}, {"id": "ref-for-list-iterate\u2461\u2461"}, {"id": "ref-for-list-iterate\u2461\u2462"}, {"id": "ref-for-list-iterate\u2461\u2463"}, {"id": "ref-for-list-iterate\u2461\u2464"}, {"id": "ref-for-list-iterate\u2461\u2465"}, {"id": "ref-for-list-iterate\u2461\u2466"}, {"id": "ref-for-list-iterate\u2461\u2467"}, {"id": "ref-for-list-iterate\u2461\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u24ea"}, {"id": "ref-for-list-iterate\u2462\u2460"}, {"id": "ref-for-list-iterate\u2462\u2461"}, {"id": "ref-for-list-iterate\u2462\u2462"}, {"id": "ref-for-list-iterate\u2462\u2463"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2464"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2465"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2466"}, {"id": "ref-for-list-iterate\u2462\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-list-iterate\u2462\u2468"}, {"id": "ref-for-list-iterate\u2463\u24ea"}, {"id": "ref-for-list-iterate\u2463\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-list-iterate\u2463\u2461"}], "title": "9. Common Algorithms"}, {"refs": [{"id": "ref-for-list-iterate\u2463\u2462"}, {"id": "ref-for-list-iterate\u2463\u2463"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-list-iterate\u2463\u2464"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['45209803'] = {"dfnID": "45209803", "url": "https://infra.spec.whatwg.org/#map-iterate", "dfnText": "for each (for map)", "refSections": [{"refs": [{"id": "ref-for-map-iterate"}, {"id": "ref-for-map-iterate\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-map-iterate\u2461"}, {"id": "ref-for-map-iterate\u2462"}, {"id": "ref-for-map-iterate\u2463"}, {"id": "ref-for-map-iterate\u2464"}, {"id": "ref-for-map-iterate\u2465"}, {"id": "ref-for-map-iterate\u2466"}, {"id": "ref-for-map-iterate\u2467"}, {"id": "ref-for-map-iterate\u2468"}, {"id": "ref-for-map-iterate\u2460\u24ea"}, {"id": "ref-for-map-iterate\u2460\u2460"}, {"id": "ref-for-map-iterate\u2460\u2461"}, {"id": "ref-for-map-iterate\u2460\u2462"}, {"id": "ref-for-map-iterate\u2460\u2463"}, {"id": "ref-for-map-iterate\u2460\u2464"}, {"id": "ref-for-map-iterate\u2460\u2465"}, {"id": "ref-for-map-iterate\u2460\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-iterate\u2460\u2467"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-map-iterate\u2460\u2468"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-iterate\u2461\u24ea"}, {"id": "ref-for-map-iterate\u2461\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-iterate\u2461\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['73e75483'] = {"dfnID": "73e75483", "url": "https://infra.spec.whatwg.org/#forgiving-base64-decode", "dfnText": "forgiving-base64 decode", "refSections": [{"refs": [{"id": "ref-for-forgiving-base64-decode"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-forgiving-base64-decode\u2460"}, {"id": "ref-for-forgiving-base64-decode\u2461"}, {"id": "ref-for-forgiving-base64-decode\u2462"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-forgiving-base64-decode\u2463"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['4e92bc80'] = {"dfnID": "4e92bc80", "url": "https://infra.spec.whatwg.org/#map-getting-the-keys", "dfnText": "get the keys", "refSections": [{"refs": [{"id": "ref-for-map-getting-the-keys"}, {"id": "ref-for-map-getting-the-keys\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2461"}, {"id": "ref-for-map-getting-the-keys\u2462"}, {"id": "ref-for-map-getting-the-keys\u2463"}, {"id": "ref-for-map-getting-the-keys\u2464"}, {"id": "ref-for-map-getting-the-keys\u2465"}, {"id": "ref-for-map-getting-the-keys\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2467"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2468"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2460"}, {"id": "ref-for-map-getting-the-keys\u2460\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2462"}, {"id": "ref-for-map-getting-the-keys\u2460\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2464"}, {"id": "ref-for-map-getting-the-keys\u2460\u2465"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2466"}, {"id": "ref-for-map-getting-the-keys\u2460\u2467"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2468"}, {"id": "ref-for-map-getting-the-keys\u2461\u24ea"}, {"id": "ref-for-map-getting-the-keys\u2461\u2460"}, {"id": "ref-for-map-getting-the-keys\u2461\u2461"}, {"id": "ref-for-map-getting-the-keys\u2461\u2462"}, {"id": "ref-for-map-getting-the-keys\u2461\u2463"}, {"id": "ref-for-map-getting-the-keys\u2461\u2464"}, {"id": "ref-for-map-getting-the-keys\u2461\u2465"}, {"id": "ref-for-map-getting-the-keys\u2461\u2466"}, {"id": "ref-for-map-getting-the-keys\u2461\u2467"}, {"id": "ref-for-map-getting-the-keys\u2461\u2468"}, {"id": "ref-for-map-getting-the-keys\u2462\u24ea"}, {"id": "ref-for-map-getting-the-keys\u2462\u2460"}, {"id": "ref-for-map-getting-the-keys\u2462\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2462"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2463"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2464"}, {"id": "ref-for-map-getting-the-keys\u2462\u2465"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2466"}, {"id": "ref-for-map-getting-the-keys\u2462\u2467"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['860300d4'] = {"dfnID": "860300d4", "url": "https://infra.spec.whatwg.org/#implementation-defined", "dfnText": "implementation-defined", "refSections": [{"refs": [{"id": "ref-for-implementation-defined"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-implementation-defined\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-implementation-defined\u2461"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-implementation-defined\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['56ad2aed'] = {"dfnID": "56ad2aed", "url": "https://infra.spec.whatwg.org/#list-insert", "dfnText": "insert", "refSections": [{"refs": [{"id": "ref-for-list-insert"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-list-insert\u2460"}, {"id": "ref-for-list-insert\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['7a87d819'] = {"dfnID": "7a87d819", "url": "https://infra.spec.whatwg.org/#string-is", "dfnText": "is", "refSections": [{"refs": [{"id": "ref-for-string-is"}, {"id": "ref-for-string-is\u2460"}, {"id": "ref-for-string-is\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['6b815fdd'] = {"dfnID": "6b815fdd", "url": "https://infra.spec.whatwg.org/#list-is-empty", "dfnText": "is empty (for list)", "refSections": [{"refs": [{"id": "ref-for-list-is-empty"}, {"id": "ref-for-list-is-empty\u2460"}, {"id": "ref-for-list-is-empty\u2461"}, {"id": "ref-for-list-is-empty\u2462"}, {"id": "ref-for-list-is-empty\u2463"}, {"id": "ref-for-list-is-empty\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list-is-empty\u2465"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-list-is-empty\u2466"}, {"id": "ref-for-list-is-empty\u2467"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['dc3369de'] = {"dfnID": "dc3369de", "url": "https://infra.spec.whatwg.org/#map-is-empty", "dfnText": "is empty (for map)", "refSections": [{"refs": [{"id": "ref-for-map-is-empty"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-map-is-empty\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['8e67c0a3'] = {"dfnID": "8e67c0a3", "url": "https://infra.spec.whatwg.org/#map-is-empty", "dfnText": "is not empty", "refSections": [{"refs": [{"id": "ref-for-map-is-empty"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-map-is-empty\u2460"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['5afbefcd'] = {"dfnID": "5afbefcd", "url": "https://infra.spec.whatwg.org/#list-item", "dfnText": "item (for list)", "refSections": [{"refs": [{"id": "ref-for-list-item"}], "title": "12.9. Generated bid"}], "external": true};
window.dfnpanelData['c88f3887'] = {"dfnID": "c88f3887", "url": "https://infra.spec.whatwg.org/#struct-item", "dfnText": "item (for struct)", "refSections": [{"refs": [{"id": "ref-for-struct-item"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-struct-item\u2460"}, {"id": "ref-for-struct-item\u2461"}, {"id": "ref-for-struct-item\u2462"}, {"id": "ref-for-struct-item\u2463"}, {"id": "ref-for-struct-item\u2464"}, {"id": "ref-for-struct-item\u2465"}, {"id": "ref-for-struct-item\u2466"}, {"id": "ref-for-struct-item\u2467"}, {"id": "ref-for-struct-item\u2468"}, {"id": "ref-for-struct-item\u2460\u24ea"}, {"id": "ref-for-struct-item\u2460\u2460"}, {"id": "ref-for-struct-item\u2460\u2461"}, {"id": "ref-for-struct-item\u2460\u2462"}, {"id": "ref-for-struct-item\u2460\u2463"}, {"id": "ref-for-struct-item\u2460\u2464"}, {"id": "ref-for-struct-item\u2460\u2465"}, {"id": "ref-for-struct-item\u2460\u2466"}, {"id": "ref-for-struct-item\u2460\u2467"}, {"id": "ref-for-struct-item\u2460\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-struct-item\u2461\u24ea"}, {"id": "ref-for-struct-item\u2461\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2461"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2462"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2463"}, {"id": "ref-for-struct-item\u2461\u2464"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2465"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['d14a6f26'] = {"dfnID": "d14a6f26", "url": "https://infra.spec.whatwg.org/#map-key", "dfnText": "key", "refSections": [{"refs": [{"id": "ref-for-map-key"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-key\u2460"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['31db57e6'] = {"dfnID": "31db57e6", "url": "https://infra.spec.whatwg.org/#map-getting-the-keys", "dfnText": "keys", "refSections": [{"refs": [{"id": "ref-for-map-getting-the-keys"}, {"id": "ref-for-map-getting-the-keys\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2461"}, {"id": "ref-for-map-getting-the-keys\u2462"}, {"id": "ref-for-map-getting-the-keys\u2463"}, {"id": "ref-for-map-getting-the-keys\u2464"}, {"id": "ref-for-map-getting-the-keys\u2465"}, {"id": "ref-for-map-getting-the-keys\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2467"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2468"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2460"}, {"id": "ref-for-map-getting-the-keys\u2460\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2462"}, {"id": "ref-for-map-getting-the-keys\u2460\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2464"}, {"id": "ref-for-map-getting-the-keys\u2460\u2465"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2466"}, {"id": "ref-for-map-getting-the-keys\u2460\u2467"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2468"}, {"id": "ref-for-map-getting-the-keys\u2461\u24ea"}, {"id": "ref-for-map-getting-the-keys\u2461\u2460"}, {"id": "ref-for-map-getting-the-keys\u2461\u2461"}, {"id": "ref-for-map-getting-the-keys\u2461\u2462"}, {"id": "ref-for-map-getting-the-keys\u2461\u2463"}, {"id": "ref-for-map-getting-the-keys\u2461\u2464"}, {"id": "ref-for-map-getting-the-keys\u2461\u2465"}, {"id": "ref-for-map-getting-the-keys\u2461\u2466"}, {"id": "ref-for-map-getting-the-keys\u2461\u2467"}, {"id": "ref-for-map-getting-the-keys\u2461\u2468"}, {"id": "ref-for-map-getting-the-keys\u2462\u24ea"}, {"id": "ref-for-map-getting-the-keys\u2462\u2460"}, {"id": "ref-for-map-getting-the-keys\u2462\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2462"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2463"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2464"}, {"id": "ref-for-map-getting-the-keys\u2462\u2465"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462\u2466"}, {"id": "ref-for-map-getting-the-keys\u2462\u2467"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['36333997'] = {"dfnID": "36333997", "url": "https://infra.spec.whatwg.org/#byte-sequence-length", "dfnText": "length (for byte sequence)", "refSections": [{"refs": [{"id": "ref-for-byte-sequence-length"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-byte-sequence-length\u2460"}, {"id": "ref-for-byte-sequence-length\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-byte-sequence-length\u2462"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['0fa357c3'] = {"dfnID": "0fa357c3", "url": "https://infra.spec.whatwg.org/#string-length", "dfnText": "length (for string)", "refSections": [{"refs": [{"id": "ref-for-string-length"}, {"id": "ref-for-string-length\u2460"}, {"id": "ref-for-string-length\u2461"}, {"id": "ref-for-string-length\u2462"}, {"id": "ref-for-string-length\u2463"}, {"id": "ref-for-string-length\u2464"}, {"id": "ref-for-string-length\u2465"}, {"id": "ref-for-string-length\u2466"}, {"id": "ref-for-string-length\u2467"}, {"id": "ref-for-string-length\u2468"}, {"id": "ref-for-string-length\u2460\u24ea"}, {"id": "ref-for-string-length\u2460\u2460"}, {"id": "ref-for-string-length\u2460\u2461"}, {"id": "ref-for-string-length\u2460\u2462"}, {"id": "ref-for-string-length\u2460\u2463"}, {"id": "ref-for-string-length\u2460\u2464"}, {"id": "ref-for-string-length\u2460\u2465"}, {"id": "ref-for-string-length\u2460\u2466"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-string-length\u2460\u2467"}], "title": "9. Common Algorithms"}, {"refs": [{"id": "ref-for-string-length\u2460\u2468"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-string-length\u2461\u24ea"}], "title": "12.3. Currency tag"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-list\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-list\u2461"}, {"id": "ref-for-list\u2462"}, {"id": "ref-for-list\u2463"}, {"id": "ref-for-list\u2464"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-list\u2465"}, {"id": "ref-for-list\u2466"}, {"id": "ref-for-list\u2467"}, {"id": "ref-for-list\u2468"}, {"id": "ref-for-list\u2460\u24ea"}, {"id": "ref-for-list\u2460\u2460"}, {"id": "ref-for-list\u2460\u2461"}, {"id": "ref-for-list\u2460\u2462"}, {"id": "ref-for-list\u2460\u2463"}, {"id": "ref-for-list\u2460\u2464"}, {"id": "ref-for-list\u2460\u2465"}, {"id": "ref-for-list\u2460\u2466"}, {"id": "ref-for-list\u2460\u2467"}, {"id": "ref-for-list\u2460\u2468"}, {"id": "ref-for-list\u2461\u24ea"}, {"id": "ref-for-list\u2461\u2460"}, {"id": "ref-for-list\u2461\u2461"}, {"id": "ref-for-list\u2461\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list\u2461\u2463"}, {"id": "ref-for-list\u2461\u2464"}, {"id": "ref-for-list\u2461\u2465"}, {"id": "ref-for-list\u2461\u2466"}, {"id": "ref-for-list\u2461\u2467"}, {"id": "ref-for-list\u2461\u2468"}, {"id": "ref-for-list\u2462\u24ea"}, {"id": "ref-for-list\u2462\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-list\u2462\u2461"}, {"id": "ref-for-list\u2462\u2462"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-list\u2462\u2463"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-list\u2462\u2464"}, {"id": "ref-for-list\u2462\u2465"}, {"id": "ref-for-list\u2462\u2466"}, {"id": "ref-for-list\u2462\u2467"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-list\u2462\u2468"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-list\u2463\u24ea"}, {"id": "ref-for-list\u2463\u2460"}, {"id": "ref-for-list\u2463\u2461"}, {"id": "ref-for-list\u2463\u2462"}, {"id": "ref-for-list\u2463\u2463"}, {"id": "ref-for-list\u2463\u2464"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-list\u2463\u2465"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-list\u2463\u2466"}, {"id": "ref-for-list\u2463\u2467"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-list\u2463\u2468"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-list\u2464\u24ea"}], "title": "12.9. Generated bid"}], "external": true};
window.dfnpanelData['3fca5a9e'] = {"dfnID": "3fca5a9e", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "map", "refSections": [{"refs": [{"id": "ref-for-ordered-map"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-ordered-map\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-ordered-map\u2461"}, {"id": "ref-for-ordered-map\u2462"}, {"id": "ref-for-ordered-map\u2463"}, {"id": "ref-for-ordered-map\u2464"}, {"id": "ref-for-ordered-map\u2465"}, {"id": "ref-for-ordered-map\u2466"}, {"id": "ref-for-ordered-map\u2467"}, {"id": "ref-for-ordered-map\u2468"}, {"id": "ref-for-ordered-map\u2460\u24ea"}, {"id": "ref-for-ordered-map\u2460\u2460"}, {"id": "ref-for-ordered-map\u2460\u2461"}, {"id": "ref-for-ordered-map\u2460\u2462"}, {"id": "ref-for-ordered-map\u2460\u2463"}, {"id": "ref-for-ordered-map\u2460\u2464"}, {"id": "ref-for-ordered-map\u2460\u2465"}, {"id": "ref-for-ordered-map\u2460\u2466"}, {"id": "ref-for-ordered-map\u2460\u2467"}, {"id": "ref-for-ordered-map\u2460\u2468"}, {"id": "ref-for-ordered-map\u2461\u24ea"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2460"}, {"id": "ref-for-ordered-map\u2461\u2461"}, {"id": "ref-for-ordered-map\u2461\u2462"}, {"id": "ref-for-ordered-map\u2461\u2463"}, {"id": "ref-for-ordered-map\u2461\u2464"}, {"id": "ref-for-ordered-map\u2461\u2465"}, {"id": "ref-for-ordered-map\u2461\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2467"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2468"}, {"id": "ref-for-ordered-map\u2462\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2461"}, {"id": "ref-for-ordered-map\u2462\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2463"}, {"id": "ref-for-ordered-map\u2462\u2464"}, {"id": "ref-for-ordered-map\u2462\u2465"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2466"}, {"id": "ref-for-ordered-map\u2462\u2467"}, {"id": "ref-for-ordered-map\u2462\u2468"}, {"id": "ref-for-ordered-map\u2463\u24ea"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-ordered-map\u2463\u2460"}, {"id": "ref-for-ordered-map\u2463\u2461"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-ordered-map\u2463\u2462"}, {"id": "ref-for-ordered-map\u2463\u2463"}, {"id": "ref-for-ordered-map\u2463\u2464"}, {"id": "ref-for-ordered-map\u2463\u2465"}, {"id": "ref-for-ordered-map\u2463\u2466"}, {"id": "ref-for-ordered-map\u2463\u2467"}, {"id": "ref-for-ordered-map\u2463\u2468"}, {"id": "ref-for-ordered-map\u2464\u24ea"}, {"id": "ref-for-ordered-map\u2464\u2460"}, {"id": "ref-for-ordered-map\u2464\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2462"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2463"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2464"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2465"}, {"id": "ref-for-ordered-map\u2464\u2466"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['84b454ff'] = {"dfnID": "84b454ff", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "ordered map", "refSections": [{"refs": [{"id": "ref-for-ordered-map"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-ordered-map\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-ordered-map\u2461"}, {"id": "ref-for-ordered-map\u2462"}, {"id": "ref-for-ordered-map\u2463"}, {"id": "ref-for-ordered-map\u2464"}, {"id": "ref-for-ordered-map\u2465"}, {"id": "ref-for-ordered-map\u2466"}, {"id": "ref-for-ordered-map\u2467"}, {"id": "ref-for-ordered-map\u2468"}, {"id": "ref-for-ordered-map\u2460\u24ea"}, {"id": "ref-for-ordered-map\u2460\u2460"}, {"id": "ref-for-ordered-map\u2460\u2461"}, {"id": "ref-for-ordered-map\u2460\u2462"}, {"id": "ref-for-ordered-map\u2460\u2463"}, {"id": "ref-for-ordered-map\u2460\u2464"}, {"id": "ref-for-ordered-map\u2460\u2465"}, {"id": "ref-for-ordered-map\u2460\u2466"}, {"id": "ref-for-ordered-map\u2460\u2467"}, {"id": "ref-for-ordered-map\u2460\u2468"}, {"id": "ref-for-ordered-map\u2461\u24ea"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2460"}, {"id": "ref-for-ordered-map\u2461\u2461"}, {"id": "ref-for-ordered-map\u2461\u2462"}, {"id": "ref-for-ordered-map\u2461\u2463"}, {"id": "ref-for-ordered-map\u2461\u2464"}, {"id": "ref-for-ordered-map\u2461\u2465"}, {"id": "ref-for-ordered-map\u2461\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2467"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-ordered-map\u2461\u2468"}, {"id": "ref-for-ordered-map\u2462\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2461"}, {"id": "ref-for-ordered-map\u2462\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2463"}, {"id": "ref-for-ordered-map\u2462\u2464"}, {"id": "ref-for-ordered-map\u2462\u2465"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-ordered-map\u2462\u2466"}, {"id": "ref-for-ordered-map\u2462\u2467"}, {"id": "ref-for-ordered-map\u2462\u2468"}, {"id": "ref-for-ordered-map\u2463\u24ea"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-ordered-map\u2463\u2460"}, {"id": "ref-for-ordered-map\u2463\u2461"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-ordered-map\u2463\u2462"}, {"id": "ref-for-ordered-map\u2463\u2463"}, {"id": "ref-for-ordered-map\u2463\u2464"}, {"id": "ref-for-ordered-map\u2463\u2465"}, {"id": "ref-for-ordered-map\u2463\u2466"}, {"id": "ref-for-ordered-map\u2463\u2467"}, {"id": "ref-for-ordered-map\u2463\u2468"}, {"id": "ref-for-ordered-map\u2464\u24ea"}, {"id": "ref-for-ordered-map\u2464\u2460"}, {"id": "ref-for-ordered-map\u2464\u2461"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2462"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2463"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2464"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-ordered-map\u2464\u2465"}, {"id": "ref-for-ordered-map\u2464\u2466"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['692595fe'] = {"dfnID": "692595fe", "url": "https://infra.spec.whatwg.org/#ordered-set", "dfnText": "ordered set", "refSections": [{"refs": [{"id": "ref-for-ordered-set"}, {"id": "ref-for-ordered-set\u2460"}, {"id": "ref-for-ordered-set\u2461"}, {"id": "ref-for-ordered-set\u2462"}, {"id": "ref-for-ordered-set\u2463"}, {"id": "ref-for-ordered-set\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ordered-set\u2465"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-ordered-set\u2466"}], "title": "5.3. Negative Targeting"}], "external": true};
window.dfnpanelData['63917aa6'] = {"dfnID": "63917aa6", "url": "https://infra.spec.whatwg.org/#parse-a-json-string-to-a-javascript-value", "dfnText": "parse a json string to a javascript value", "refSections": [{"refs": [{"id": "ref-for-parse-a-json-string-to-a-javascript-value"}, {"id": "ref-for-parse-a-json-string-to-a-javascript-value\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-parse-a-json-string-to-a-javascript-value\u2461"}, {"id": "ref-for-parse-a-json-string-to-a-javascript-value\u2462"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['5ff3a316'] = {"dfnID": "5ff3a316", "url": "https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value", "dfnText": "parse a json string to an infra value", "refSections": [{"refs": [{"id": "ref-for-parse-a-json-string-to-an-infra-value"}, {"id": "ref-for-parse-a-json-string-to-an-infra-value\u2460"}, {"id": "ref-for-parse-a-json-string-to-an-infra-value\u2461"}, {"id": "ref-for-parse-a-json-string-to-an-infra-value\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-parse-a-json-string-to-an-infra-value\u2463"}, {"id": "ref-for-parse-a-json-string-to-an-infra-value\u2464"}], "title": "5.2. Additional Bids"}], "external": true};
window.dfnpanelData['b67aee69'] = {"dfnID": "b67aee69", "url": "https://infra.spec.whatwg.org/#parse-a-json-string-to-a-javascript-value", "dfnText": "parsing a json string to a javascript value", "refSections": [{"refs": [{"id": "ref-for-parse-a-json-string-to-a-javascript-value"}, {"id": "ref-for-parse-a-json-string-to-a-javascript-value\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-parse-a-json-string-to-a-javascript-value\u2461"}, {"id": "ref-for-parse-a-json-string-to-a-javascript-value\u2462"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['0c994ce8'] = {"dfnID": "0c994ce8", "url": "https://infra.spec.whatwg.org/#parse-json-bytes-to-an-infra-value", "dfnText": "parsing json bytes to an infra value", "refSections": [{"refs": [{"id": "ref-for-parse-json-bytes-to-an-infra-value"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-parse-json-bytes-to-an-infra-value\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-parse-json-bytes-to-an-infra-value\u2461"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-parse-json-bytes-to-an-infra-value\u2462"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['75bee4d5'] = {"dfnID": "75bee4d5", "url": "https://infra.spec.whatwg.org/#string-position-variable", "dfnText": "position variable", "refSections": [{"refs": [{"id": "ref-for-string-position-variable"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['99c988d6'] = {"dfnID": "99c988d6", "url": "https://infra.spec.whatwg.org/#list-remove", "dfnText": "remove (for list)", "refSections": [{"refs": [{"id": "ref-for-list-remove"}, {"id": "ref-for-list-remove\u2460"}, {"id": "ref-for-list-remove\u2461"}, {"id": "ref-for-list-remove\u2462"}, {"id": "ref-for-list-remove\u2463"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-list-remove\u2464"}, {"id": "ref-for-list-remove\u2465"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-list-remove\u2466"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-list-remove\u2467"}, {"id": "ref-for-list-remove\u2468"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['7d4424b2'] = {"dfnID": "7d4424b2", "url": "https://infra.spec.whatwg.org/#map-remove", "dfnText": "remove (for map)", "refSections": [{"refs": [{"id": "ref-for-map-remove"}, {"id": "ref-for-map-remove\u2460"}, {"id": "ref-for-map-remove\u2461"}, {"id": "ref-for-map-remove\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-remove\u2463"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-map-remove\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-remove\u2465"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['167d1cb0'] = {"dfnID": "167d1cb0", "url": "https://infra.spec.whatwg.org/#list-replace", "dfnText": "replace", "refSections": [{"refs": [{"id": "ref-for-list-replace"}, {"id": "ref-for-list-replace\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list-replace\u2461"}, {"id": "ref-for-list-replace\u2462"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-list-replace\u2463"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['4c94dd02'] = {"dfnID": "4c94dd02", "url": "https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string", "dfnText": "serialize an infra value to a json string", "refSections": [{"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string"}, {"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2462"}, {"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2463"}, {"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2464"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['da05c516'] = {"dfnID": "da05c516", "url": "https://infra.spec.whatwg.org/#serialize-a-javascript-value-to-a-json-string", "dfnText": "serializing a javascript value to a json string", "refSections": [{"refs": [{"id": "ref-for-serialize-a-javascript-value-to-a-json-string"}, {"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2461"}, {"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2462"}, {"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2464"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2465"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-serialize-a-javascript-value-to-a-json-string\u2466"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['2d1093cd'] = {"dfnID": "2d1093cd", "url": "https://infra.spec.whatwg.org/#serialize-an-infra-value-to-a-json-string", "dfnText": "serializing an infra value to a json string", "refSections": [{"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string"}, {"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2462"}, {"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2463"}, {"id": "ref-for-serialize-an-infra-value-to-a-json-string\u2464"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['15e48c39'] = {"dfnID": "15e48c39", "url": "https://infra.spec.whatwg.org/#ordered-set", "dfnText": "set", "refSections": [{"refs": [{"id": "ref-for-ordered-set"}, {"id": "ref-for-ordered-set\u2460"}, {"id": "ref-for-ordered-set\u2461"}, {"id": "ref-for-ordered-set\u2462"}, {"id": "ref-for-ordered-set\u2463"}, {"id": "ref-for-ordered-set\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ordered-set\u2465"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-ordered-set\u2466"}], "title": "5.3. Negative Targeting"}], "external": true};
window.dfnpanelData['0e6b2056'] = {"dfnID": "0e6b2056", "url": "https://infra.spec.whatwg.org/#map-set", "dfnText": "set (for map)", "refSections": [{"refs": [{"id": "ref-for-map-set"}, {"id": "ref-for-map-set\u2460"}, {"id": "ref-for-map-set\u2461"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-set\u2462"}, {"id": "ref-for-map-set\u2463"}, {"id": "ref-for-map-set\u2464"}, {"id": "ref-for-map-set\u2465"}, {"id": "ref-for-map-set\u2466"}, {"id": "ref-for-map-set\u2467"}, {"id": "ref-for-map-set\u2468"}, {"id": "ref-for-map-set\u2460\u24ea"}, {"id": "ref-for-map-set\u2460\u2460"}, {"id": "ref-for-map-set\u2460\u2461"}, {"id": "ref-for-map-set\u2460\u2462"}, {"id": "ref-for-map-set\u2460\u2463"}, {"id": "ref-for-map-set\u2460\u2464"}, {"id": "ref-for-map-set\u2460\u2465"}, {"id": "ref-for-map-set\u2460\u2466"}, {"id": "ref-for-map-set\u2460\u2467"}, {"id": "ref-for-map-set\u2460\u2468"}, {"id": "ref-for-map-set\u2461\u24ea"}, {"id": "ref-for-map-set\u2461\u2460"}, {"id": "ref-for-map-set\u2461\u2461"}, {"id": "ref-for-map-set\u2461\u2462"}, {"id": "ref-for-map-set\u2461\u2463"}, {"id": "ref-for-map-set\u2461\u2464"}, {"id": "ref-for-map-set\u2461\u2465"}, {"id": "ref-for-map-set\u2461\u2466"}, {"id": "ref-for-map-set\u2461\u2467"}, {"id": "ref-for-map-set\u2461\u2468"}, {"id": "ref-for-map-set\u2462\u24ea"}, {"id": "ref-for-map-set\u2462\u2460"}, {"id": "ref-for-map-set\u2462\u2461"}, {"id": "ref-for-map-set\u2462\u2462"}, {"id": "ref-for-map-set\u2462\u2463"}, {"id": "ref-for-map-set\u2462\u2464"}, {"id": "ref-for-map-set\u2462\u2465"}, {"id": "ref-for-map-set\u2462\u2466"}, {"id": "ref-for-map-set\u2462\u2467"}, {"id": "ref-for-map-set\u2462\u2468"}, {"id": "ref-for-map-set\u2463\u24ea"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-set\u2463\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-map-set\u2463\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-set\u2463\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-set\u2463\u2463"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['0204d188'] = {"dfnID": "0204d188", "url": "https://infra.spec.whatwg.org/#list-size", "dfnText": "size (for list)", "refSections": [{"refs": [{"id": "ref-for-list-size"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-list-size\u2460"}, {"id": "ref-for-list-size\u2461"}, {"id": "ref-for-list-size\u2462"}, {"id": "ref-for-list-size\u2463"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-list-size\u2464"}, {"id": "ref-for-list-size\u2465"}, {"id": "ref-for-list-size\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-list-size\u2467"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['653d0848'] = {"dfnID": "653d0848", "url": "https://infra.spec.whatwg.org/#map-size", "dfnText": "size (for map)", "refSections": [{"refs": [{"id": "ref-for-map-size"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-size\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['25d7533d'] = {"dfnID": "25d7533d", "url": "https://infra.spec.whatwg.org/#list-sort-in-descending-order", "dfnText": "sort in descending order (for list)", "refSections": [{"refs": [{"id": "ref-for-list-sort-in-descending-order"}, {"id": "ref-for-list-sort-in-descending-order\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-list-sort-in-descending-order\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['842d5baf'] = {"dfnID": "842d5baf", "url": "https://infra.spec.whatwg.org/#map-sort-in-descending-order", "dfnText": "sort in descending order (for map)", "refSections": [{"refs": [{"id": "ref-for-map-sort-in-descending-order"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": true};
window.dfnpanelData['54627f47'] = {"dfnID": "54627f47", "url": "https://infra.spec.whatwg.org/#string-starts-with", "dfnText": "starts with", "refSections": [{"refs": [{"id": "ref-for-string-starts-with"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-string-starts-with\u2460"}, {"id": "ref-for-string-starts-with\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['e5fc5b88'] = {"dfnID": "e5fc5b88", "url": "https://infra.spec.whatwg.org/#strictly-split", "dfnText": "strictly split", "refSections": [{"refs": [{"id": "ref-for-strictly-split"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['0698d556'] = {"dfnID": "0698d556", "url": "https://infra.spec.whatwg.org/#string", "dfnText": "string", "refSections": [{"refs": [{"id": "ref-for-string"}, {"id": "ref-for-string\u2460"}, {"id": "ref-for-string\u2461"}, {"id": "ref-for-string\u2462"}, {"id": "ref-for-string\u2463"}, {"id": "ref-for-string\u2464"}, {"id": "ref-for-string\u2465"}, {"id": "ref-for-string\u2466"}, {"id": "ref-for-string\u2467"}, {"id": "ref-for-string\u2468"}, {"id": "ref-for-string\u2460\u24ea"}, {"id": "ref-for-string\u2460\u2460"}, {"id": "ref-for-string\u2460\u2461"}, {"id": "ref-for-string\u2460\u2462"}, {"id": "ref-for-string\u2460\u2463"}, {"id": "ref-for-string\u2460\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-string\u2460\u2465"}, {"id": "ref-for-string\u2460\u2466"}, {"id": "ref-for-string\u2460\u2467"}, {"id": "ref-for-string\u2460\u2468"}, {"id": "ref-for-string\u2461\u24ea"}, {"id": "ref-for-string\u2461\u2460"}, {"id": "ref-for-string\u2461\u2461"}, {"id": "ref-for-string\u2461\u2462"}, {"id": "ref-for-string\u2461\u2463"}, {"id": "ref-for-string\u2461\u2464"}, {"id": "ref-for-string\u2461\u2465"}, {"id": "ref-for-string\u2461\u2466"}, {"id": "ref-for-string\u2461\u2467"}, {"id": "ref-for-string\u2461\u2468"}, {"id": "ref-for-string\u2462\u24ea"}, {"id": "ref-for-string\u2462\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-string\u2462\u2461"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-string\u2462\u2462"}, {"id": "ref-for-string\u2462\u2463"}, {"id": "ref-for-string\u2462\u2464"}, {"id": "ref-for-string\u2462\u2465"}, {"id": "ref-for-string\u2462\u2466"}, {"id": "ref-for-string\u2462\u2467"}, {"id": "ref-for-string\u2462\u2468"}, {"id": "ref-for-string\u2463\u24ea"}, {"id": "ref-for-string\u2463\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-string\u2463\u2461"}, {"id": "ref-for-string\u2463\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-string\u2463\u2463"}, {"id": "ref-for-string\u2463\u2464"}, {"id": "ref-for-string\u2463\u2465"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-string\u2463\u2466"}, {"id": "ref-for-string\u2463\u2467"}, {"id": "ref-for-string\u2463\u2468"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-string\u2464\u24ea"}, {"id": "ref-for-string\u2464\u2460"}, {"id": "ref-for-string\u2464\u2461"}, {"id": "ref-for-string\u2464\u2462"}, {"id": "ref-for-string\u2464\u2463"}], "title": "9. Common Algorithms"}, {"refs": [{"id": "ref-for-string\u2464\u2464"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-string\u2464\u2465"}, {"id": "ref-for-string\u2464\u2466"}, {"id": "ref-for-string\u2464\u2467"}, {"id": "ref-for-string\u2464\u2468"}, {"id": "ref-for-string\u2465\u24ea"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-string\u2465\u2460"}, {"id": "ref-for-string\u2465\u2461"}, {"id": "ref-for-string\u2465\u2462"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-string\u2465\u2463"}, {"id": "ref-for-string\u2465\u2464"}], "title": "12.3. Currency tag"}, {"refs": [{"id": "ref-for-string\u2465\u2465"}, {"id": "ref-for-string\u2465\u2466"}, {"id": "ref-for-string\u2465\u2467"}, {"id": "ref-for-string\u2465\u2468"}, {"id": "ref-for-string\u2466\u24ea"}, {"id": "ref-for-string\u2466\u2460"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-string\u2466\u2461"}], "title": "12.7. Previous win"}, {"refs": [{"id": "ref-for-string\u2466\u2462"}], "title": "12.9. Generated bid"}, {"refs": [{"id": "ref-for-string\u2466\u2463"}, {"id": "ref-for-string\u2466\u2464"}], "title": "12.11. Ad size"}, {"refs": [{"id": "ref-for-string\u2466\u2465"}, {"id": "ref-for-string\u2466\u2466"}, {"id": "ref-for-string\u2466\u2467"}, {"id": "ref-for-string\u2466\u2468"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-string\u2467\u24ea"}, {"id": "ref-for-string\u2467\u2460"}, {"id": "ref-for-string\u2467\u2461"}, {"id": "ref-for-string\u2467\u2462"}, {"id": "ref-for-string\u2467\u2463"}, {"id": "ref-for-string\u2467\u2464"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['a37f05fd'] = {"dfnID": "a37f05fd", "url": "https://infra.spec.whatwg.org/#strip-leading-and-trailing-ascii-whitespace", "dfnText": "strip leading and trailing ascii whitespace", "refSections": [{"refs": [{"id": "ref-for-strip-leading-and-trailing-ascii-whitespace"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['984221ca'] = {"dfnID": "984221ca", "url": "https://infra.spec.whatwg.org/#struct", "dfnText": "struct", "refSections": [{"refs": [{"id": "ref-for-struct"}, {"id": "ref-for-struct\u2460"}, {"id": "ref-for-struct\u2461"}, {"id": "ref-for-struct\u2462"}, {"id": "ref-for-struct\u2463"}, {"id": "ref-for-struct\u2464"}, {"id": "ref-for-struct\u2465"}, {"id": "ref-for-struct\u2466"}, {"id": "ref-for-struct\u2467"}, {"id": "ref-for-struct\u2468"}, {"id": "ref-for-struct\u2460\u24ea"}, {"id": "ref-for-struct\u2460\u2460"}, {"id": "ref-for-struct\u2460\u2461"}, {"id": "ref-for-struct\u2460\u2462"}, {"id": "ref-for-struct\u2460\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-struct\u2460\u2464"}, {"id": "ref-for-struct\u2460\u2465"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-struct\u2460\u2466"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-struct\u2460\u2467"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-struct\u2460\u2468"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-struct\u2461\u24ea"}, {"id": "ref-for-struct\u2461\u2460"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-struct\u2461\u2461"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['febebe0e'] = {"dfnID": "febebe0e", "url": "https://infra.spec.whatwg.org/#the-range", "dfnText": "the range", "refSections": [{"refs": [{"id": "ref-for-the-range"}, {"id": "ref-for-the-range\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-the-range\u2461"}], "title": "9. Common Algorithms"}], "external": true};
window.dfnpanelData['0e8de730'] = {"dfnID": "0e8de730", "url": "https://infra.spec.whatwg.org/#tuple", "dfnText": "tuple", "refSections": [{"refs": [{"id": "ref-for-tuple"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-tuple\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-tuple\u2461"}, {"id": "ref-for-tuple\u2462"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-tuple\u2463"}, {"id": "ref-for-tuple\u2464"}], "title": "12.1. Interest group"}], "external": true};
window.dfnpanelData['6d19ac93'] = {"dfnID": "6d19ac93", "url": "https://infra.spec.whatwg.org/#user-agent", "dfnText": "user agent", "refSections": [{"refs": [{"id": "ref-for-user-agent"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-user-agent\u2460"}, {"id": "ref-for-user-agent\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-user-agent\u2462"}, {"id": "ref-for-user-agent\u2463"}, {"id": "ref-for-user-agent\u2464"}, {"id": "ref-for-user-agent\u2465"}, {"id": "ref-for-user-agent\u2466"}, {"id": "ref-for-user-agent\u2467"}, {"id": "ref-for-user-agent\u2468"}, {"id": "ref-for-user-agent\u2460\u24ea"}, {"id": "ref-for-user-agent\u2460\u2460"}, {"id": "ref-for-user-agent\u2460\u2461"}, {"id": "ref-for-user-agent\u2460\u2462"}, {"id": "ref-for-user-agent\u2460\u2463"}, {"id": "ref-for-user-agent\u2460\u2464"}, {"id": "ref-for-user-agent\u2460\u2465"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-user-agent\u2460\u2466"}, {"id": "ref-for-user-agent\u2460\u2467"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-user-agent\u2460\u2468"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-user-agent\u2461\u24ea"}, {"id": "ref-for-user-agent\u2461\u2460"}, {"id": "ref-for-user-agent\u2461\u2461"}, {"id": "ref-for-user-agent\u2461\u2462"}, {"id": "ref-for-user-agent\u2461\u2463"}, {"id": "ref-for-user-agent\u2461\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-user-agent\u2461\u2465"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-user-agent\u2461\u2466"}, {"id": "ref-for-user-agent\u2461\u2467"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-user-agent\u2461\u2468"}, {"id": "ref-for-user-agent\u2462\u24ea"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-user-agent\u2462\u2460"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-user-agent\u2462\u2461"}, {"id": "ref-for-user-agent\u2462\u2462"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['802b0fdd'] = {"dfnID": "802b0fdd", "url": "https://infra.spec.whatwg.org/#map-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-map-value"}, {"id": "ref-for-map-value\u2460"}, {"id": "ref-for-map-value\u2461"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": true};
window.dfnpanelData['12d6b9a8'] = {"dfnID": "12d6b9a8", "url": "https://infra.spec.whatwg.org/#map-getting-the-values", "dfnText": "values", "refSections": [{"refs": [{"id": "ref-for-map-getting-the-values"}, {"id": "ref-for-map-getting-the-values\u2460"}, {"id": "ref-for-map-getting-the-values\u2461"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2462"}, {"id": "ref-for-map-getting-the-values\u2463"}, {"id": "ref-for-map-getting-the-values\u2464"}, {"id": "ref-for-map-getting-the-values\u2465"}, {"id": "ref-for-map-getting-the-values\u2466"}, {"id": "ref-for-map-getting-the-values\u2467"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2468"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u2460"}, {"id": "ref-for-map-getting-the-values\u2460\u2461"}, {"id": "ref-for-map-getting-the-values\u2460\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u2463"}, {"id": "ref-for-map-getting-the-values\u2460\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u2465"}, {"id": "ref-for-map-getting-the-values\u2460\u2466"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u2467"}, {"id": "ref-for-map-getting-the-values\u2460\u2468"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2461\u24ea"}, {"id": "ref-for-map-getting-the-values\u2461\u2460"}, {"id": "ref-for-map-getting-the-values\u2461\u2461"}, {"id": "ref-for-map-getting-the-values\u2461\u2462"}, {"id": "ref-for-map-getting-the-values\u2461\u2463"}, {"id": "ref-for-map-getting-the-values\u2461\u2464"}, {"id": "ref-for-map-getting-the-values\u2461\u2465"}, {"id": "ref-for-map-getting-the-values\u2461\u2466"}, {"id": "ref-for-map-getting-the-values\u2461\u2467"}, {"id": "ref-for-map-getting-the-values\u2461\u2468"}, {"id": "ref-for-map-getting-the-values\u2462\u24ea"}, {"id": "ref-for-map-getting-the-values\u2462\u2460"}, {"id": "ref-for-map-getting-the-values\u2462\u2461"}, {"id": "ref-for-map-getting-the-values\u2462\u2462"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2462\u2463"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2462\u2464"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2462\u2465"}, {"id": "ref-for-map-getting-the-values\u2462\u2466"}], "title": "12.12. Direct from seller signals"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2462\u2467"}, {"id": "ref-for-map-getting-the-values\u2462\u2468"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['cbdc89b4'] = {"dfnID": "cbdc89b4", "url": "https://infra.spec.whatwg.org/#iteration-while", "dfnText": "while", "refSections": [{"refs": [{"id": "ref-for-iteration-while"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['a93f0b06'] = {"dfnID": "a93f0b06", "url": "https://mimesniff.spec.whatwg.org/#javascript-mime-type", "dfnText": "javascript mime type", "refSections": [{"refs": [{"id": "ref-for-javascript-mime-type"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['b1981b98'] = {"dfnID": "b1981b98", "url": "https://mimesniff.spec.whatwg.org/#json-mime-type", "dfnText": "json mime type", "refSections": [{"refs": [{"id": "ref-for-json-mime-type"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-json-mime-type\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['fc5a3214'] = {"dfnID": "fc5a3214", "url": "https://mimesniff.spec.whatwg.org/#parameters", "dfnText": "parameters", "refSections": [{"refs": [{"id": "ref-for-parameters"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['91748ad6'] = {"dfnID": "91748ad6", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist", "dfnText": "default allowlists", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature-default-allowlist"}], "title": "10. Permissions Policy integration"}], "external": true};
window.dfnpanelData['cc890cc1'] = {"dfnID": "cc890cc1", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature", "dfnText": "policy-controlled feature", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2463"}], "title": "10. Permissions Policy integration"}], "external": true};
window.dfnpanelData['9cb9dd7d'] = {"dfnID": "9cb9dd7d", "url": "https://patcg-individual-drafts.github.io/private-aggregation-api#private-aggregation", "dfnText": "private-aggregation", "refSections": [{"refs": [{"id": "ref-for-private-aggregation"}, {"id": "ref-for-private-aggregation\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['a5206326'] = {"dfnID": "a5206326", "url": "https://www.ietf.org/rfc/rfc6234.txt#sha-256", "dfnText": "sha-256", "refSections": [{"refs": [{"id": "ref-for-sha-256"}, {"id": "ref-for-sha-256\u2460"}, {"id": "ref-for-sha-256\u2461"}, {"id": "ref-for-sha-256\u2462"}, {"id": "ref-for-sha-256\u2463"}], "title": "6. K-anonymity"}], "external": true};
window.dfnpanelData['d56eba29'] = {"dfnID": "d56eba29", "url": "https://httpwg.org/specs/rfc8941.html#boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-boolean\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-boolean\u2468"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-boolean\u2460\u24ea"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": true};
window.dfnpanelData['4477c8cb'] = {"dfnID": "4477c8cb", "url": "https://httpwg.org/specs/rfc8941.html#integer", "dfnText": "integer", "refSections": [{"refs": [{"id": "ref-for-integer"}, {"id": "ref-for-integer\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['9b23f22f'] = {"dfnID": "9b23f22f", "url": "https://httpwg.org/specs/rfc8941.html#top", "dfnText": "structured header", "refSections": [{"refs": [{"id": "ref-for-top"}, {"id": "ref-for-top\u2460"}, {"id": "ref-for-top\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-top\u2462"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": true};
window.dfnpanelData['c7dcaebd'] = {"dfnID": "c7dcaebd", "url": "https://wicg.github.io/shared-storage#permissionspolicy-shared-storage", "dfnText": "shared-storage", "refSections": [{"refs": [{"id": "ref-for-permissionspolicy-shared-storage"}, {"id": "ref-for-permissionspolicy-shared-storage\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['df46ff7d'] = {"dfnID": "df46ff7d", "url": "https://wicg.github.io/shared-storage#permissionspolicy-shared-storage-select-url", "dfnText": "shared-storage-select-url", "refSections": [{"refs": [{"id": "ref-for-permissionspolicy-shared-storage-select-url"}, {"id": "ref-for-permissionspolicy-shared-storage-select-url\u2460"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['dcae8e4d'] = {"dfnID": "dcae8e4d", "url": "https://url.spec.whatwg.org/#component-percent-encode-set", "dfnText": "component percent-encode set", "refSections": [{"refs": [{"id": "ref-for-component-percent-encode-set"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-component-percent-encode-set\u2460"}, {"id": "ref-for-component-percent-encode-set\u2461"}, {"id": "ref-for-component-percent-encode-set\u2462"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['ed948033'] = {"dfnID": "ed948033", "url": "https://url.spec.whatwg.org/#concept-url-fragment", "dfnText": "fragment", "refSections": [{"refs": [{"id": "ref-for-concept-url-fragment"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-url-fragment\u2460"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['b85ee3be'] = {"dfnID": "b85ee3be", "url": "https://url.spec.whatwg.org/#concept-url-host", "dfnText": "host", "refSections": [{"refs": [{"id": "ref-for-concept-url-host"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": true};
window.dfnpanelData['fab757b5'] = {"dfnID": "fab757b5", "url": "https://url.spec.whatwg.org/#concept-host-serializer", "dfnText": "host serializer", "refSections": [{"refs": [{"id": "ref-for-concept-host-serializer"}, {"id": "ref-for-concept-host-serializer\u2460"}, {"id": "ref-for-concept-host-serializer\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['43e1db05'] = {"dfnID": "43e1db05", "url": "https://url.spec.whatwg.org/#include-credentials", "dfnText": "includes credentials", "refSections": [{"refs": [{"id": "ref-for-include-credentials"}, {"id": "ref-for-include-credentials\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-include-credentials\u2461"}, {"id": "ref-for-include-credentials\u2462"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['959ad97b'] = {"dfnID": "959ad97b", "url": "https://url.spec.whatwg.org/#concept-url-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-url-origin"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-url-origin\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-concept-url-origin\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['c0868016'] = {"dfnID": "c0868016", "url": "https://url.spec.whatwg.org/#concept-url-path", "dfnText": "path", "refSections": [{"refs": [{"id": "ref-for-concept-url-path"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": true};
window.dfnpanelData['852ada56'] = {"dfnID": "852ada56", "url": "https://url.spec.whatwg.org/#concept-url-port", "dfnText": "port", "refSections": [{"refs": [{"id": "ref-for-concept-url-port"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": true};
window.dfnpanelData['3ab2ec8b'] = {"dfnID": "3ab2ec8b", "url": "https://url.spec.whatwg.org/#concept-url-query", "dfnText": "query", "refSections": [{"refs": [{"id": "ref-for-concept-url-query"}, {"id": "ref-for-concept-url-query\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-url-query\u2461"}, {"id": "ref-for-concept-url-query\u2462"}, {"id": "ref-for-concept-url-query\u2463"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['3a711be7'] = {"dfnID": "3a711be7", "url": "https://url.spec.whatwg.org/#concept-url-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-url-scheme"}, {"id": "ref-for-concept-url-scheme\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2463"}, {"id": "ref-for-concept-url-scheme\u2464"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2465"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['dcffbccd'] = {"dfnID": "dcffbccd", "url": "https://url.spec.whatwg.org/#concept-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-concept-url"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-url\u2460"}, {"id": "ref-for-concept-url\u2461"}, {"id": "ref-for-concept-url\u2462"}, {"id": "ref-for-concept-url\u2463"}, {"id": "ref-for-concept-url\u2464"}, {"id": "ref-for-concept-url\u2465"}, {"id": "ref-for-concept-url\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-url\u2467"}, {"id": "ref-for-concept-url\u2468"}, {"id": "ref-for-concept-url\u2460\u24ea"}, {"id": "ref-for-concept-url\u2460\u2460"}, {"id": "ref-for-concept-url\u2460\u2461"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-concept-url\u2460\u2462"}, {"id": "ref-for-concept-url\u2460\u2463"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-concept-url\u2460\u2464"}, {"id": "ref-for-concept-url\u2460\u2465"}, {"id": "ref-for-concept-url\u2460\u2466"}, {"id": "ref-for-concept-url\u2460\u2467"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-concept-url\u2460\u2468"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-concept-url\u2461\u24ea"}, {"id": "ref-for-concept-url\u2461\u2460"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-concept-url\u2461\u2461"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-concept-url\u2461\u2462"}], "title": "12.10. Ad descriptor"}, {"refs": [{"id": "ref-for-concept-url\u2461\u2463"}, {"id": "ref-for-concept-url\u2461\u2464"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['ca3ca4ae'] = {"dfnID": "ca3ca4ae", "url": "https://url.spec.whatwg.org/#concept-url-parser", "dfnText": "url parser", "refSections": [{"refs": [{"id": "ref-for-concept-url-parser"}, {"id": "ref-for-concept-url-parser\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-url-parser\u2461"}, {"id": "ref-for-concept-url-parser\u2462"}, {"id": "ref-for-concept-url-parser\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-url-parser\u2464"}, {"id": "ref-for-concept-url-parser\u2465"}, {"id": "ref-for-concept-url-parser\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-concept-url-parser\u2467"}, {"id": "ref-for-concept-url-parser\u2468"}, {"id": "ref-for-concept-url-parser\u2460\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-concept-url-parser\u2460\u2460"}, {"id": "ref-for-concept-url-parser\u2460\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-concept-url-parser\u2460\u2462"}, {"id": "ref-for-concept-url-parser\u2460\u2463"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['5442ea33'] = {"dfnID": "5442ea33", "url": "https://url.spec.whatwg.org/#concept-url-serializer", "dfnText": "url serializer", "refSections": [{"refs": [{"id": "ref-for-concept-url-serializer"}, {"id": "ref-for-concept-url-serializer\u2460"}, {"id": "ref-for-concept-url-serializer\u2461"}, {"id": "ref-for-concept-url-serializer\u2462"}, {"id": "ref-for-concept-url-serializer\u2463"}, {"id": "ref-for-concept-url-serializer\u2464"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-concept-url-serializer\u2465"}, {"id": "ref-for-concept-url-serializer\u2466"}, {"id": "ref-for-concept-url-serializer\u2467"}, {"id": "ref-for-concept-url-serializer\u2468"}, {"id": "ref-for-concept-url-serializer\u2460\u24ea"}, {"id": "ref-for-concept-url-serializer\u2460\u2460"}, {"id": "ref-for-concept-url-serializer\u2460\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-concept-url-serializer\u2460\u2462"}, {"id": "ref-for-concept-url-serializer\u2460\u2463"}, {"id": "ref-for-concept-url-serializer\u2460\u2464"}, {"id": "ref-for-concept-url-serializer\u2460\u2465"}, {"id": "ref-for-concept-url-serializer\u2460\u2466"}, {"id": "ref-for-concept-url-serializer\u2460\u2467"}, {"id": "ref-for-concept-url-serializer\u2460\u2468"}, {"id": "ref-for-concept-url-serializer\u2461\u24ea"}], "title": "6. K-anonymity"}], "external": true};
window.dfnpanelData['d7edb843'] = {"dfnID": "d7edb843", "url": "https://url.spec.whatwg.org/#concept-urlencoded-serializer", "dfnText": "urlencoded serializer", "refSections": [{"refs": [{"id": "ref-for-concept-urlencoded-serializer"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['d14ce44f'] = {"dfnID": "d14ce44f", "url": "https://url.spec.whatwg.org/#string-utf-8-percent-encode", "dfnText": "utf-8 percent-encode", "refSections": [{"refs": [{"id": "ref-for-string-utf-8-percent-encode"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-string-utf-8-percent-encode\u2460"}, {"id": "ref-for-string-utf-8-percent-encode\u2461"}, {"id": "ref-for-string-utf-8-percent-encode\u2462"}, {"id": "ref-for-string-utf-8-percent-encode\u2463"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['c44f39b6'] = {"dfnID": "c44f39b6", "url": "https://webassembly.github.io/spec/core/appendix/embedding.html#embed-error", "dfnText": "error", "refSections": [{"refs": [{"id": "ref-for-embed-error"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['451842e4'] = {"dfnID": "451842e4", "url": "https://webassembly.github.io/spec/js-api/#compile-a-webassembly-module", "dfnText": "compiling a webassembly module", "refSections": [{"refs": [{"id": "ref-for-compile-a-webassembly-module"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['dca2de17'] = {"dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{"refs": [{"id": "ref-for-idl-DOMException"}, {"id": "ref-for-idl-DOMException\u2460"}, {"id": "ref-for-idl-DOMException\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-DOMException\u2462"}, {"id": "ref-for-idl-DOMException\u2463"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-DOMException\u2464"}, {"id": "ref-for-idl-DOMException\u2465"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-idl-DOMException\u2466"}, {"id": "ref-for-idl-DOMException\u2467"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}, {"id": "ref-for-idl-DOMString\u2460"}, {"id": "ref-for-idl-DOMString\u2461"}, {"id": "ref-for-idl-DOMString\u2462"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-DOMString\u2463"}, {"id": "ref-for-idl-DOMString\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-DOMString\u2465"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-idl-DOMString\u2466"}, {"id": "ref-for-idl-DOMString\u2467"}, {"id": "ref-for-idl-DOMString\u2468"}, {"id": "ref-for-idl-DOMString\u2460\u24ea"}, {"id": "ref-for-idl-DOMString\u2460\u2460"}, {"id": "ref-for-idl-DOMString\u2460\u2461"}, {"id": "ref-for-idl-DOMString\u2460\u2462"}, {"id": "ref-for-idl-DOMString\u2460\u2463"}, {"id": "ref-for-idl-DOMString\u2460\u2464"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460\u2465"}, {"id": "ref-for-idl-DOMString\u2460\u2466"}, {"id": "ref-for-idl-DOMString\u2460\u2467"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-DOMString\u2460\u2468"}, {"id": "ref-for-idl-DOMString\u2461\u24ea"}, {"id": "ref-for-idl-DOMString\u2461\u2460"}, {"id": "ref-for-idl-DOMString\u2461\u2461"}, {"id": "ref-for-idl-DOMString\u2461\u2462"}, {"id": "ref-for-idl-DOMString\u2461\u2463"}, {"id": "ref-for-idl-DOMString\u2461\u2464"}, {"id": "ref-for-idl-DOMString\u2461\u2465"}, {"id": "ref-for-idl-DOMString\u2461\u2466"}, {"id": "ref-for-idl-DOMString\u2461\u2467"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-idl-DOMString\u2461\u2468"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "7.3. Global scopes"}, {"refs": [{"id": "ref-for-Exposed\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-Exposed\u2461"}], "title": "7.3.2. InterestGroupScoringScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-Exposed\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['7fb6fbc6'] = {"dfnID": "7fb6fbc6", "url": "https://webidl.spec.whatwg.org/#Global", "dfnText": "Global", "refSections": [{"refs": [{"id": "ref-for-Global"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-Global\u2460"}], "title": "7.3.2. InterestGroupScoringScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-Global\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['ba556545'] = {"dfnID": "ba556545", "url": "https://webidl.spec.whatwg.org/#notallowederror", "dfnText": "NotAllowedError", "refSections": [{"refs": [{"id": "ref-for-notallowederror"}, {"id": "ref-for-notallowederror\u2460"}, {"id": "ref-for-notallowederror\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-notallowederror\u2462"}, {"id": "ref-for-notallowederror\u2463"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-notallowederror\u2464"}, {"id": "ref-for-notallowederror\u2465"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-notallowederror\u2466"}, {"id": "ref-for-notallowederror\u2467"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-promise\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-promise\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-idl-promise\u2462"}, {"id": "ref-for-idl-promise\u2463"}, {"id": "ref-for-idl-promise\u2464"}, {"id": "ref-for-idl-promise\u2465"}, {"id": "ref-for-idl-promise\u2466"}, {"id": "ref-for-idl-promise\u2467"}, {"id": "ref-for-idl-promise\u2468"}, {"id": "ref-for-idl-promise\u2460\u24ea"}, {"id": "ref-for-idl-promise\u2460\u2460"}, {"id": "ref-for-idl-promise\u2460\u2461"}, {"id": "ref-for-idl-promise\u2460\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-promise\u2460\u2463"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-idl-promise\u2460\u2464"}, {"id": "ref-for-idl-promise\u2460\u2465"}, {"id": "ref-for-idl-promise\u2460\u2466"}, {"id": "ref-for-idl-promise\u2460\u2467"}, {"id": "ref-for-idl-promise\u2460\u2468"}, {"id": "ref-for-idl-promise\u2461\u24ea"}, {"id": "ref-for-idl-promise\u2461\u2460"}, {"id": "ref-for-idl-promise\u2461\u2461"}, {"id": "ref-for-idl-promise\u2461\u2462"}, {"id": "ref-for-idl-promise\u2461\u2463"}, {"id": "ref-for-idl-promise\u2461\u2464"}, {"id": "ref-for-idl-promise\u2461\u2465"}, {"id": "ref-for-idl-promise\u2461\u2466"}, {"id": "ref-for-idl-promise\u2461\u2467"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['b75bb3bd'] = {"dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{"refs": [{"id": "ref-for-SecureContext"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-SecureContext\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-SecureContext\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-SecureContext\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-SecureContext\u2463"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-SecureContext\u2464"}], "title": "8. Interest Group Updates"}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}, {"id": "ref-for-exceptiondef-typeerror\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2461"}, {"id": "ref-for-exceptiondef-typeerror\u2462"}, {"id": "ref-for-exceptiondef-typeerror\u2463"}, {"id": "ref-for-exceptiondef-typeerror\u2464"}, {"id": "ref-for-exceptiondef-typeerror\u2465"}, {"id": "ref-for-exceptiondef-typeerror\u2466"}, {"id": "ref-for-exceptiondef-typeerror\u2467"}, {"id": "ref-for-exceptiondef-typeerror\u2468"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u24ea"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460\u2461"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2460\u2463"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2464"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2465"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2466"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2467"}, {"id": "ref-for-exceptiondef-typeerror\u2460\u2468"}, {"id": "ref-for-exceptiondef-typeerror\u2461\u24ea"}, {"id": "ref-for-exceptiondef-typeerror\u2461\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2461\u2461"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2461\u2462"}, {"id": "ref-for-exceptiondef-typeerror\u2461\u2463"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2461\u2464"}, {"id": "ref-for-exceptiondef-typeerror\u2461\u2465"}, {"id": "ref-for-exceptiondef-typeerror\u2461\u2466"}, {"id": "ref-for-exceptiondef-typeerror\u2461\u2467"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['b0d7f3c3'] = {"dfnID": "b0d7f3c3", "url": "https://webidl.spec.whatwg.org/#idl-USVString", "dfnText": "USVString", "refSections": [{"refs": [{"id": "ref-for-idl-USVString"}, {"id": "ref-for-idl-USVString\u2460"}, {"id": "ref-for-idl-USVString\u2461"}, {"id": "ref-for-idl-USVString\u2462"}, {"id": "ref-for-idl-USVString\u2463"}, {"id": "ref-for-idl-USVString\u2464"}, {"id": "ref-for-idl-USVString\u2465"}, {"id": "ref-for-idl-USVString\u2466"}, {"id": "ref-for-idl-USVString\u2467"}, {"id": "ref-for-idl-USVString\u2468"}, {"id": "ref-for-idl-USVString\u2460\u24ea"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-USVString\u2460\u2460"}, {"id": "ref-for-idl-USVString\u2460\u2461"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-USVString\u2460\u2462"}, {"id": "ref-for-idl-USVString\u2460\u2463"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-idl-USVString\u2460\u2464"}, {"id": "ref-for-idl-USVString\u2460\u2465"}, {"id": "ref-for-idl-USVString\u2460\u2466"}, {"id": "ref-for-idl-USVString\u2460\u2467"}, {"id": "ref-for-idl-USVString\u2460\u2468"}, {"id": "ref-for-idl-USVString\u2461\u24ea"}, {"id": "ref-for-idl-USVString\u2461\u2460"}, {"id": "ref-for-idl-USVString\u2461\u2461"}, {"id": "ref-for-idl-USVString\u2461\u2462"}, {"id": "ref-for-idl-USVString\u2461\u2463"}, {"id": "ref-for-idl-USVString\u2461\u2464"}, {"id": "ref-for-idl-USVString\u2461\u2465"}, {"id": "ref-for-idl-USVString\u2461\u2466"}, {"id": "ref-for-idl-USVString\u2461\u2467"}, {"id": "ref-for-idl-USVString\u2461\u2468"}, {"id": "ref-for-idl-USVString\u2462\u24ea"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-USVString\u2462\u2460"}, {"id": "ref-for-idl-USVString\u2462\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-USVString\u2462\u2462"}, {"id": "ref-for-idl-USVString\u2462\u2463"}, {"id": "ref-for-idl-USVString\u2462\u2464"}, {"id": "ref-for-idl-USVString\u2462\u2465"}, {"id": "ref-for-idl-USVString\u2462\u2466"}, {"id": "ref-for-idl-USVString\u2462\u2467"}, {"id": "ref-for-idl-USVString\u2462\u2468"}, {"id": "ref-for-idl-USVString\u2463\u24ea"}, {"id": "ref-for-idl-USVString\u2463\u2460"}, {"id": "ref-for-idl-USVString\u2463\u2461"}, {"id": "ref-for-idl-USVString\u2463\u2462"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['dacde8b5'] = {"dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{"refs": [{"id": "ref-for-a-new-promise"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-a-new-promise\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-a-new-promise\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-a-new-promise\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-a-new-promise\u2463"}], "title": "5.1. createAuctionNonce()"}], "external": true};
window.dfnpanelData['6c6b1005'] = {"dfnID": "6c6b1005", "url": "https://webidl.spec.whatwg.org/#idl-any", "dfnText": "any", "refSections": [{"refs": [{"id": "ref-for-idl-any"}, {"id": "ref-for-idl-any\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-any\u2461"}, {"id": "ref-for-idl-any\u2462"}, {"id": "ref-for-idl-any\u2463"}, {"id": "ref-for-idl-any\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-any\u2465"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-any\u2466"}, {"id": "ref-for-idl-any\u2467"}, {"id": "ref-for-idl-any\u2468"}, {"id": "ref-for-idl-any\u2460\u24ea"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-boolean\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-boolean\u2461"}, {"id": "ref-for-idl-boolean\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-boolean\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-idl-boolean\u2464"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-idl-boolean\u2465"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-idl-boolean\u2466"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['4e709a96'] = {"dfnID": "4e709a96", "url": "https://webidl.spec.whatwg.org/#web-idl-arguments-list-converting", "dfnText": "convert a web idl arguments list to an ecmascript arguments list", "refSections": [{"refs": [{"id": "ref-for-web-idl-arguments-list-converting"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['cadf5fe9'] = {"dfnID": "cadf5fe9", "url": "https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value", "dfnText": "converted to an idl value", "refSections": [{"refs": [{"id": "ref-for-dfn-convert-ecmascript-to-idl-value"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-dfn-convert-ecmascript-to-idl-value\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-dfn-convert-ecmascript-to-idl-value\u2461"}, {"id": "ref-for-dfn-convert-ecmascript-to-idl-value\u2462"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['8e4d736e'] = {"dfnID": "8e4d736e", "url": "https://webidl.spec.whatwg.org/#dfn-convert-idl-to-ecmascript-value", "dfnText": "converted to ecmascript values", "refSections": [{"refs": [{"id": "ref-for-dfn-convert-idl-to-ecmascript-value"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2460"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2461"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2462"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2463"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2464"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2465"}, {"id": "ref-for-dfn-convert-idl-to-ecmascript-value\u2466"}], "title": "7.2. Script evaluation"}], "external": true};
window.dfnpanelData['8c800cdf'] = {"dfnID": "8c800cdf", "url": "https://webidl.spec.whatwg.org/#idl-double", "dfnText": "double", "refSections": [{"refs": [{"id": "ref-for-idl-double"}, {"id": "ref-for-idl-double\u2460"}, {"id": "ref-for-idl-double\u2461"}, {"id": "ref-for-idl-double\u2462"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-double\u2463"}, {"id": "ref-for-idl-double\u2464"}, {"id": "ref-for-idl-double\u2465"}, {"id": "ref-for-idl-double\u2466"}, {"id": "ref-for-idl-double\u2467"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-double\u2468"}, {"id": "ref-for-idl-double\u2460\u24ea"}, {"id": "ref-for-idl-double\u2460\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-idl-double\u2460\u2461"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-idl-double\u2460\u2462"}, {"id": "ref-for-idl-double\u2460\u2463"}, {"id": "ref-for-idl-double\u2460\u2464"}, {"id": "ref-for-idl-double\u2460\u2465"}, {"id": "ref-for-idl-double\u2460\u2466"}, {"id": "ref-for-idl-double\u2460\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-double\u2460\u2468"}, {"id": "ref-for-idl-double\u2461\u24ea"}, {"id": "ref-for-idl-double\u2461\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-idl-double\u2461\u2461"}, {"id": "ref-for-idl-double\u2461\u2462"}, {"id": "ref-for-idl-double\u2461\u2463"}, {"id": "ref-for-idl-double\u2461\u2464"}, {"id": "ref-for-idl-double\u2461\u2465"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-idl-double\u2461\u2466"}, {"id": "ref-for-idl-double\u2461\u2467"}, {"id": "ref-for-idl-double\u2461\u2468"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-idl-double\u2462\u24ea"}, {"id": "ref-for-idl-double\u2462\u2460"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-idl-double\u2462\u2461"}], "title": "12.8. Bid with currency"}, {"refs": [{"id": "ref-for-idl-double\u2462\u2462"}, {"id": "ref-for-idl-double\u2462\u2463"}], "title": "12.9. Generated bid"}, {"refs": [{"id": "ref-for-idl-double\u2462\u2464"}, {"id": "ref-for-idl-double\u2462\u2465"}], "title": "12.11. Ad size"}, {"refs": [{"id": "ref-for-idl-double\u2462\u2466"}, {"id": "ref-for-idl-double\u2462\u2467"}, {"id": "ref-for-idl-double\u2462\u2468"}, {"id": "ref-for-idl-double\u2463\u24ea"}, {"id": "ref-for-idl-double\u2463\u2460"}], "title": "12.13. Score ad output"}, {"refs": [{"id": "ref-for-idl-double\u2463\u2461"}, {"id": "ref-for-idl-double\u2463\u2462"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['10ce5f6f'] = {"dfnID": "10ce5f6f", "url": "https://webidl.spec.whatwg.org/#invoke-a-callback-function", "dfnText": "invoke", "refSections": [{"refs": [{"id": "ref-for-invoke-a-callback-function"}], "title": "7. Script Runners"}], "external": true};
window.dfnpanelData['f8de33a3'] = {"dfnID": "f8de33a3", "url": "https://webidl.spec.whatwg.org/#idl-long", "dfnText": "long", "refSections": [{"refs": [{"id": "ref-for-idl-long"}, {"id": "ref-for-idl-long\u2460"}, {"id": "ref-for-idl-long\u2461"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['9aeb0a82'] = {"dfnID": "9aeb0a82", "url": "https://webidl.spec.whatwg.org/#idl-long-long", "dfnText": "long long", "refSections": [{"refs": [{"id": "ref-for-idl-long-long"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['efd1ec5d'] = {"dfnID": "efd1ec5d", "url": "https://webidl.spec.whatwg.org/#idl-object", "dfnText": "object", "refSections": [{"refs": [{"id": "ref-for-idl-object"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['7787d359'] = {"dfnID": "7787d359", "url": "https://webidl.spec.whatwg.org/#idl-record", "dfnText": "record", "refSections": [{"refs": [{"id": "ref-for-idl-record"}, {"id": "ref-for-idl-record\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-record\u2461"}, {"id": "ref-for-idl-record\u2462"}, {"id": "ref-for-idl-record\u2463"}, {"id": "ref-for-idl-record\u2464"}, {"id": "ref-for-idl-record\u2465"}, {"id": "ref-for-idl-record\u2466"}, {"id": "ref-for-idl-record\u2467"}, {"id": "ref-for-idl-record\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-record\u2460\u24ea"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['b262501e'] = {"dfnID": "b262501e", "url": "https://webidl.spec.whatwg.org/#reject", "dfnText": "reject", "refSections": [{"refs": [{"id": "ref-for-reject"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-reject\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-reject\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-reject\u2462"}, {"id": "ref-for-reject\u2463"}, {"id": "ref-for-reject\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-reject\u2465"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['4323a7c6'] = {"dfnID": "4323a7c6", "url": "https://webidl.spec.whatwg.org/#required-dictionary-member", "dfnText": "required", "refSections": [{"refs": [{"id": "ref-for-required-dictionary-member"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": true};
window.dfnpanelData['3b90bdcd'] = {"dfnID": "3b90bdcd", "url": "https://webidl.spec.whatwg.org/#resolve", "dfnText": "resolve", "refSections": [{"refs": [{"id": "ref-for-resolve"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-resolve\u2460"}, {"id": "ref-for-resolve\u2461"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-resolve\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-resolve\u2463"}], "title": "5.1. createAuctionNonce()"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}, {"id": "ref-for-idl-sequence\u2460"}, {"id": "ref-for-idl-sequence\u2461"}, {"id": "ref-for-idl-sequence\u2462"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-sequence\u2463"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-idl-sequence\u2464"}, {"id": "ref-for-idl-sequence\u2465"}, {"id": "ref-for-idl-sequence\u2466"}, {"id": "ref-for-idl-sequence\u2467"}, {"id": "ref-for-idl-sequence\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-sequence\u2460\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-sequence\u2460\u2460"}, {"id": "ref-for-idl-sequence\u2460\u2461"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}, {"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-this\u2462"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-this\u2463"}, {"id": "ref-for-this\u2464"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-this\u2465"}, {"id": "ref-for-this\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-this\u2467"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-this\u2468"}, {"id": "ref-for-this\u2460\u24ea"}, {"id": "ref-for-this\u2460\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-this\u2460\u2461"}, {"id": "ref-for-this\u2460\u2462"}, {"id": "ref-for-this\u2460\u2463"}, {"id": "ref-for-this\u2460\u2464"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-this\u2460\u2465"}], "title": "11. Fetch Patch for Auction Headers"}], "external": true};
window.dfnpanelData['b4cfa5ce'] = {"dfnID": "b4cfa5ce", "url": "https://webidl.spec.whatwg.org/#dfn-throw", "dfnText": "throw", "refSections": [{"refs": [{"id": "ref-for-dfn-throw"}, {"id": "ref-for-dfn-throw\u2460"}, {"id": "ref-for-dfn-throw\u2461"}, {"id": "ref-for-dfn-throw\u2462"}, {"id": "ref-for-dfn-throw\u2463"}, {"id": "ref-for-dfn-throw\u2464"}, {"id": "ref-for-dfn-throw\u2465"}, {"id": "ref-for-dfn-throw\u2466"}, {"id": "ref-for-dfn-throw\u2467"}, {"id": "ref-for-dfn-throw\u2468"}, {"id": "ref-for-dfn-throw\u2460\u24ea"}, {"id": "ref-for-dfn-throw\u2460\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dfn-throw\u2460\u2461"}, {"id": "ref-for-dfn-throw\u2460\u2462"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-dfn-throw\u2460\u2463"}, {"id": "ref-for-dfn-throw\u2460\u2464"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-dfn-throw\u2460\u2465"}, {"id": "ref-for-dfn-throw\u2460\u2466"}, {"id": "ref-for-dfn-throw\u2460\u2467"}, {"id": "ref-for-dfn-throw\u2460\u2468"}, {"id": "ref-for-dfn-throw\u2461\u24ea"}, {"id": "ref-for-dfn-throw\u2461\u2460"}, {"id": "ref-for-dfn-throw\u2461\u2461"}, {"id": "ref-for-dfn-throw\u2461\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dfn-throw\u2461\u2463"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-dfn-throw\u2461\u2464"}, {"id": "ref-for-dfn-throw\u2461\u2465"}, {"id": "ref-for-dfn-throw\u2461\u2466"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-dfn-throw\u2461\u2467"}, {"id": "ref-for-dfn-throw\u2461\u2468"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-dfn-throw\u2462\u24ea"}, {"id": "ref-for-dfn-throw\u2462\u2460"}, {"id": "ref-for-dfn-throw\u2462\u2461"}, {"id": "ref-for-dfn-throw\u2462\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-dfn-throw\u2462\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-dfn-throw\u2462\u2464"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-dfn-throw\u2462\u2465"}, {"id": "ref-for-dfn-throw\u2462\u2466"}], "title": "12.13. Score ad output"}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-undefined\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-idl-undefined\u2461"}, {"id": "ref-for-idl-undefined\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-idl-undefined\u2463"}, {"id": "ref-for-idl-undefined\u2464"}, {"id": "ref-for-idl-undefined\u2465"}, {"id": "ref-for-idl-undefined\u2466"}, {"id": "ref-for-idl-undefined\u2467"}, {"id": "ref-for-idl-undefined\u2468"}, {"id": "ref-for-idl-undefined\u2460\u24ea"}, {"id": "ref-for-idl-undefined\u2460\u2460"}, {"id": "ref-for-idl-undefined\u2460\u2461"}, {"id": "ref-for-idl-undefined\u2460\u2462"}, {"id": "ref-for-idl-undefined\u2460\u2463"}, {"id": "ref-for-idl-undefined\u2460\u2464"}, {"id": "ref-for-idl-undefined\u2460\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-undefined\u2460\u2466"}, {"id": "ref-for-idl-undefined\u2460\u2467"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-idl-undefined\u2460\u2468"}, {"id": "ref-for-idl-undefined\u2461\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-undefined\u2461\u2460"}, {"id": "ref-for-idl-undefined\u2461\u2461"}, {"id": "ref-for-idl-undefined\u2461\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-undefined\u2461\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-idl-undefined\u2461\u2464"}], "title": "12. Structures"}], "external": true};
window.dfnpanelData['11e0b87f'] = {"dfnID": "11e0b87f", "url": "https://webidl.spec.whatwg.org/#idl-unrestricted-double", "dfnText": "unrestricted double", "refSections": [{"refs": [{"id": "ref-for-idl-unrestricted-double"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": true};
window.dfnpanelData['e97a9688'] = {"dfnID": "e97a9688", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long", "dfnText": "unsigned long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-unsigned-long\u2460"}, {"id": "ref-for-idl-unsigned-long\u2461"}, {"id": "ref-for-idl-unsigned-long\u2462"}, {"id": "ref-for-idl-unsigned-long\u2463"}, {"id": "ref-for-idl-unsigned-long\u2464"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-idl-unsigned-long\u2465"}, {"id": "ref-for-idl-unsigned-long\u2466"}], "title": "12.14. Leading bid info"}], "external": true};
window.dfnpanelData['f14b47b8'] = {"dfnID": "f14b47b8", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long-long", "dfnText": "unsigned long long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long-long"}, {"id": "ref-for-idl-unsigned-long-long\u2460"}, {"id": "ref-for-idl-unsigned-long-long\u2461"}], "title": "4.1. runAdAuction()"}], "external": true};
window.dfnpanelData['450958f7'] = {"dfnID": "450958f7", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-short", "dfnText": "unsigned short", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-short"}, {"id": "ref-for-idl-unsigned-short\u2460"}, {"id": "ref-for-idl-unsigned-short\u2461"}, {"id": "ref-for-idl-unsigned-short\u2462"}, {"id": "ref-for-idl-unsigned-short\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-idl-unsigned-short\u2464"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-idl-unsigned-short\u2465"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-idl-unsigned-short\u2466"}, {"id": "ref-for-idl-unsigned-short\u2467"}, {"id": "ref-for-idl-unsigned-short\u2468"}, {"id": "ref-for-idl-unsigned-short\u2460\u24ea"}, {"id": "ref-for-idl-unsigned-short\u2460\u2460"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-idl-unsigned-short\u2460\u2461"}], "title": "12.9. Generated bid"}], "external": true};
window.dfnpanelData['24bd7d25'] = {"dfnID": "24bd7d25", "url": "https://webidl.spec.whatwg.org/#upon-fulfillment", "dfnText": "upon fulfillment", "refSections": [{"refs": [{"id": "ref-for-upon-fulfillment"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-upon-fulfillment\u2460"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['f14ed351'] = {"dfnID": "f14ed351", "url": "https://webidl.spec.whatwg.org/#upon-rejection", "dfnText": "upon rejection", "refSections": [{"refs": [{"id": "ref-for-upon-rejection"}], "title": "12.4. Auction config"}], "external": true};
window.dfnpanelData['auction'] = {"dfnID": "auction", "url": "#auction", "dfnText": "auction", "refSections": [{"refs": [{"id": "ref-for-auction"}, {"id": "ref-for-auction\u2460"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-auction\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-auction\u2462"}, {"id": "ref-for-auction\u2463"}, {"id": "ref-for-auction\u2464"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['interest-group-set'] = {"dfnID": "interest-group-set", "url": "#interest-group-set", "dfnText": "interest group set", "refSections": [{"refs": [{"id": "ref-for-interest-group-set"}, {"id": "ref-for-interest-group-set\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-set\u2461"}, {"id": "ref-for-interest-group-set\u2462"}, {"id": "ref-for-interest-group-set\u2463"}, {"id": "ref-for-interest-group-set\u2464"}, {"id": "ref-for-interest-group-set\u2465"}, {"id": "ref-for-interest-group-set\u2466"}, {"id": "ref-for-interest-group-set\u2467"}, {"id": "ref-for-interest-group-set\u2468"}, {"id": "ref-for-interest-group-set\u2460\u24ea"}, {"id": "ref-for-interest-group-set\u2460\u2460"}, {"id": "ref-for-interest-group-set\u2460\u2461"}, {"id": "ref-for-interest-group-set\u2460\u2462"}, {"id": "ref-for-interest-group-set\u2460\u2463"}, {"id": "ref-for-interest-group-set\u2460\u2464"}, {"id": "ref-for-interest-group-set\u2460\u2465"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-interest-group-set\u2460\u2466"}, {"id": "ref-for-interest-group-set\u2460\u2467"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-set\u2460\u2468"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-interest-group-set\u2461\u24ea"}, {"id": "ref-for-interest-group-set\u2461\u2460"}, {"id": "ref-for-interest-group-set\u2461\u2461"}, {"id": "ref-for-interest-group-set\u2461\u2462"}, {"id": "ref-for-interest-group-set\u2461\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-set\u2461\u2464"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-interest-group-set\u2461\u2465"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-interest-group-set\u2461\u2466"}, {"id": "ref-for-interest-group-set\u2461\u2467"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group-set\u2461\u2468"}, {"id": "ref-for-interest-group-set\u2462\u24ea"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['dictdef-auctionad'] = {"dfnID": "dictdef-auctionad", "url": "#dictdef-auctionad", "dfnText": "AuctionAd", "refSections": [{"refs": [{"id": "ref-for-dictdef-auctionad"}, {"id": "ref-for-dictdef-auctionad\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dictdef-auctionad\u2461"}, {"id": "ref-for-dictdef-auctionad\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-auctionad\u2463"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['dom-auctionad-renderurl'] = {"dfnID": "dom-auctionad-renderurl", "url": "#dom-auctionad-renderurl", "dfnText": "renderURL", "refSections": [{"refs": [{"id": "ref-for-dom-auctionad-renderurl"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-auctionad-renderurl\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-auctionad-renderurl\u2461"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['dom-auctionad-metadata'] = {"dfnID": "dom-auctionad-metadata", "url": "#dom-auctionad-metadata", "dfnText": "metadata", "refSections": [{"refs": [{"id": "ref-for-dom-auctionad-metadata"}, {"id": "ref-for-dom-auctionad-metadata\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-auctionad-metadata\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-auctionad-metadata\u2462"}, {"id": "ref-for-dom-auctionad-metadata\u2463"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['dom-auctionad-buyerreportingid'] = {"dfnID": "dom-auctionad-buyerreportingid", "url": "#dom-auctionad-buyerreportingid", "dfnText": "buyerReportingId", "refSections": [{"refs": [{"id": "ref-for-dom-auctionad-buyerreportingid"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-auctionad-buyerreportingid\u2460"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['dom-auctionad-buyerandsellerreportingid'] = {"dfnID": "dom-auctionad-buyerandsellerreportingid", "url": "#dom-auctionad-buyerandsellerreportingid", "dfnText": "buyerAndSellerReportingId", "refSections": [{"refs": [{"id": "ref-for-dom-auctionad-buyerandsellerreportingid"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-auctionad-buyerandsellerreportingid\u2460"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['dom-auctionad-allowedreportingorigins'] = {"dfnID": "dom-auctionad-allowedreportingorigins", "url": "#dom-auctionad-allowedreportingorigins", "dfnText": "allowedReportingOrigins", "refSections": [{"refs": [{"id": "ref-for-dom-auctionad-allowedreportingorigins"}, {"id": "ref-for-dom-auctionad-allowedreportingorigins\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": false};
window.dfnpanelData['dictdef-generatebidinterestgroup'] = {"dfnID": "dictdef-generatebidinterestgroup", "url": "#dictdef-generatebidinterestgroup", "dfnText": "GenerateBidInterestGroup", "refSections": [{"refs": [{"id": "ref-for-dictdef-generatebidinterestgroup"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dictdef-generatebidinterestgroup\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-generatebidinterestgroup\u2461"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-owner'] = {"dfnID": "dom-generatebidinterestgroup-owner", "url": "#dom-generatebidinterestgroup-owner", "dfnText": "owner", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-owner"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-owner\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-name'] = {"dfnID": "dom-generatebidinterestgroup-name", "url": "#dom-generatebidinterestgroup-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-name"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-name\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-lifetimems'] = {"dfnID": "dom-generatebidinterestgroup-lifetimems", "url": "#dom-generatebidinterestgroup-lifetimems", "dfnText": "lifetimeMs", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-lifetimems"}, {"id": "ref-for-dom-generatebidinterestgroup-lifetimems\u2460"}, {"id": "ref-for-dom-generatebidinterestgroup-lifetimems\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-enablebiddingsignalsprioritization'] = {"dfnID": "dom-generatebidinterestgroup-enablebiddingsignalsprioritization", "url": "#dom-generatebidinterestgroup-enablebiddingsignalsprioritization", "dfnText": "enableBiddingSignalsPrioritization", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-enablebiddingsignalsprioritization"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-enablebiddingsignalsprioritization\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-priorityvector'] = {"dfnID": "dom-generatebidinterestgroup-priorityvector", "url": "#dom-generatebidinterestgroup-priorityvector", "dfnText": "priorityVector", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-priorityvector"}, {"id": "ref-for-dom-generatebidinterestgroup-priorityvector\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-priorityvector\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-executionmode'] = {"dfnID": "dom-generatebidinterestgroup-executionmode", "url": "#dom-generatebidinterestgroup-executionmode", "dfnText": "executionMode", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-executionmode"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-executionmode\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-biddinglogicurl'] = {"dfnID": "dom-generatebidinterestgroup-biddinglogicurl", "url": "#dom-generatebidinterestgroup-biddinglogicurl", "dfnText": "biddingLogicURL", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-biddinglogicurl"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-biddinglogicurl\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-biddingwasmhelperurl'] = {"dfnID": "dom-generatebidinterestgroup-biddingwasmhelperurl", "url": "#dom-generatebidinterestgroup-biddingwasmhelperurl", "dfnText": "biddingWasmHelperURL", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-biddingwasmhelperurl"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-biddingwasmhelperurl\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-updateurl'] = {"dfnID": "dom-generatebidinterestgroup-updateurl", "url": "#dom-generatebidinterestgroup-updateurl", "dfnText": "updateURL", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-updateurl"}, {"id": "ref-for-dom-generatebidinterestgroup-updateurl\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-updateurl\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-trustedbiddingsignalsurl'] = {"dfnID": "dom-generatebidinterestgroup-trustedbiddingsignalsurl", "url": "#dom-generatebidinterestgroup-trustedbiddingsignalsurl", "dfnText": "trustedBiddingSignalsURL", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-trustedbiddingsignalsurl"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-trustedbiddingsignalsurl\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-trustedbiddingsignalskeys'] = {"dfnID": "dom-generatebidinterestgroup-trustedbiddingsignalskeys", "url": "#dom-generatebidinterestgroup-trustedbiddingsignalskeys", "dfnText": "trustedBiddingSignalsKeys", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-trustedbiddingsignalskeys"}, {"id": "ref-for-dom-generatebidinterestgroup-trustedbiddingsignalskeys\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-trustedbiddingsignalskeys\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-userbiddingsignals'] = {"dfnID": "dom-generatebidinterestgroup-userbiddingsignals", "url": "#dom-generatebidinterestgroup-userbiddingsignals", "dfnText": "userBiddingSignals", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-userbiddingsignals"}, {"id": "ref-for-dom-generatebidinterestgroup-userbiddingsignals\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-userbiddingsignals\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-ads'] = {"dfnID": "dom-generatebidinterestgroup-ads", "url": "#dom-generatebidinterestgroup-ads", "dfnText": "ads", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-ads"}, {"id": "ref-for-dom-generatebidinterestgroup-ads\u2460"}, {"id": "ref-for-dom-generatebidinterestgroup-ads\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-ads\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-generatebidinterestgroup-adcomponents'] = {"dfnID": "dom-generatebidinterestgroup-adcomponents", "url": "#dom-generatebidinterestgroup-adcomponents", "dfnText": "adComponents", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidinterestgroup-adcomponents"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-generatebidinterestgroup-adcomponents\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dictdef-auctionadinterestgroup'] = {"dfnID": "dictdef-auctionadinterestgroup", "url": "#dictdef-auctionadinterestgroup", "dfnText": "AuctionAdInterestGroup", "refSections": [{"refs": [{"id": "ref-for-dictdef-auctionadinterestgroup"}, {"id": "ref-for-dictdef-auctionadinterestgroup\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-auctionadinterestgroup-priority'] = {"dfnID": "dom-auctionadinterestgroup-priority", "url": "#dom-auctionadinterestgroup-priority", "dfnText": "priority", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadinterestgroup-priority"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-auctionadinterestgroup-prioritysignalsoverrides'] = {"dfnID": "dom-auctionadinterestgroup-prioritysignalsoverrides", "url": "#dom-auctionadinterestgroup-prioritysignalsoverrides", "dfnText": "prioritySignalsOverrides", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides"}, {"id": "ref-for-dom-auctionadinterestgroup-prioritysignalsoverrides\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-auctionadinterestgroup-additionalbidkey'] = {"dfnID": "dom-auctionadinterestgroup-additionalbidkey", "url": "#dom-auctionadinterestgroup-additionalbidkey", "dfnText": "additionalBidKey", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadinterestgroup-additionalbidkey"}, {"id": "ref-for-dom-auctionadinterestgroup-additionalbidkey\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-auctionadinterestgroup-additionalbidkey\u2461"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['dom-navigator-joinadinterestgroup'] = {"dfnID": "dom-navigator-joinadinterestgroup", "url": "#dom-navigator-joinadinterestgroup", "dfnText": "joinAdInterestGroup(group)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup\u2460"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup\u2461"}, {"id": "ref-for-dom-navigator-joinadinterestgroup\u2462"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup\u2463"}, {"id": "ref-for-dom-navigator-joinadinterestgroup\u2464"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup\u2465"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup\u2466"}], "title": "13. Privacy Considerations"}, {"refs": [{"id": "ref-for-dom-navigator-joinadinterestgroup\u2467"}], "title": "14. Security Considerations"}], "external": false};
window.dfnpanelData['interest-group-estimated-size'] = {"dfnID": "interest-group-estimated-size", "url": "#interest-group-estimated-size", "dfnText": "estimated size", "refSections": [{"refs": [{"id": "ref-for-interest-group-estimated-size"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-estimated-size\u2460"}, {"id": "ref-for-interest-group-estimated-size\u2461"}, {"id": "ref-for-interest-group-estimated-size\u2462"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-interest-group-estimated-size\u2463"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['check-interest-group-permissions'] = {"dfnID": "check-interest-group-permissions", "url": "#check-interest-group-permissions", "dfnText": "check interest group permissions", "refSections": [{"refs": [{"id": "ref-for-check-interest-group-permissions"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-check-interest-group-permissions\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-check-interest-group-permissions\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-check-interest-group-permissions\u2462"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-set-max-owners'] = {"dfnID": "interest-group-set-max-owners", "url": "#interest-group-set-max-owners", "dfnText": "Interest group set max owners", "refSections": [{"refs": [{"id": "ref-for-interest-group-set-max-owners"}, {"id": "ref-for-interest-group-set-max-owners\u2460"}, {"id": "ref-for-interest-group-set-max-owners\u2461"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['max-regular-interest-groups-per-owner'] = {"dfnID": "max-regular-interest-groups-per-owner", "url": "#max-regular-interest-groups-per-owner", "dfnText": "Max regular interest groups per owner", "refSections": [{"refs": [{"id": "ref-for-max-regular-interest-groups-per-owner"}, {"id": "ref-for-max-regular-interest-groups-per-owner\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['max-negative-interest-groups-per-owner'] = {"dfnID": "max-negative-interest-groups-per-owner", "url": "#max-negative-interest-groups-per-owner", "dfnText": "Max negative interest groups per owner", "refSections": [{"refs": [{"id": "ref-for-max-negative-interest-groups-per-owner"}, {"id": "ref-for-max-negative-interest-groups-per-owner\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['max-interest-groups-total-size-per-owner'] = {"dfnID": "max-interest-groups-total-size-per-owner", "url": "#max-interest-groups-total-size-per-owner", "dfnText": "Max interest groups total size per owner", "refSections": [{"refs": [{"id": "ref-for-max-interest-groups-total-size-per-owner"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['perform-storage-maintenance'] = {"dfnID": "perform-storage-maintenance", "url": "#perform-storage-maintenance", "dfnText": "perform storage maintenance", "refSections": [{"refs": [{"id": "ref-for-perform-storage-maintenance"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['clear-excess-interest-groups'] = {"dfnID": "clear-excess-interest-groups", "url": "#clear-excess-interest-groups", "dfnText": "clear excess interest groups", "refSections": [{"refs": [{"id": "ref-for-clear-excess-interest-groups"}, {"id": "ref-for-clear-excess-interest-groups\u2460"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['dictdef-auctionadinterestgroupkey'] = {"dfnID": "dictdef-auctionadinterestgroupkey", "url": "#dictdef-auctionadinterestgroupkey", "dfnText": "AuctionAdInterestGroupKey", "refSections": [{"refs": [{"id": "ref-for-dictdef-auctionadinterestgroupkey"}], "title": "3.1. leaveAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-auctionadinterestgroupkey-owner'] = {"dfnID": "dom-auctionadinterestgroupkey-owner", "url": "#dom-auctionadinterestgroupkey-owner", "dfnText": "owner", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadinterestgroupkey-owner"}], "title": "3.1. leaveAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-auctionadinterestgroupkey-name'] = {"dfnID": "dom-auctionadinterestgroupkey-name", "url": "#dom-auctionadinterestgroupkey-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadinterestgroupkey-name"}], "title": "3.1. leaveAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-navigator-leaveadinterestgroup'] = {"dfnID": "dom-navigator-leaveadinterestgroup", "url": "#dom-navigator-leaveadinterestgroup", "dfnText": "leaveAdInterestGroup(group)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-leaveadinterestgroup"}, {"id": "ref-for-dom-navigator-leaveadinterestgroup\u2460"}], "title": "3.1. leaveAdInterestGroup()"}], "external": false};
window.dfnpanelData['dom-navigator-clearoriginjoinedadinterestgroups'] = {"dfnID": "dom-navigator-clearoriginjoinedadinterestgroups", "url": "#dom-navigator-clearoriginjoinedadinterestgroups", "dfnText": "clearOriginJoinedAdInterestGroups(owner, interestGroupsToKeep)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-clearoriginjoinedadinterestgroups"}, {"id": "ref-for-dom-navigator-clearoriginjoinedadinterestgroups\u2460"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}], "external": false};
window.dfnpanelData['dictdef-auctionadconfig'] = {"dfnID": "dictdef-auctionadconfig", "url": "#dictdef-auctionadconfig", "dfnText": "AuctionAdConfig", "refSections": [{"refs": [{"id": "ref-for-dictdef-auctionadconfig"}, {"id": "ref-for-dictdef-auctionadconfig\u2460"}, {"id": "ref-for-dictdef-auctionadconfig\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-auctionadconfig\u2462"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-dictdef-auctionadconfig\u2463"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-dictdef-auctionadconfig\u2464"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-dictdef-auctionadconfig\u2465"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-seller'] = {"dfnID": "dom-auctionadconfig-seller", "url": "#dom-auctionadconfig-seller", "dfnText": "seller", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-seller"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-decisionlogicurl'] = {"dfnID": "dom-auctionadconfig-decisionlogicurl", "url": "#dom-auctionadconfig-decisionlogicurl", "dfnText": "decisionLogicURL", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-decisionlogicurl"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-trustedscoringsignalsurl'] = {"dfnID": "dom-auctionadconfig-trustedscoringsignalsurl", "url": "#dom-auctionadconfig-trustedscoringsignalsurl", "dfnText": "trustedScoringSignalsURL", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-trustedscoringsignalsurl"}, {"id": "ref-for-dom-auctionadconfig-trustedscoringsignalsurl\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-interestgroupbuyers'] = {"dfnID": "dom-auctionadconfig-interestgroupbuyers", "url": "#dom-auctionadconfig-interestgroupbuyers", "dfnText": "interestGroupBuyers", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-interestgroupbuyers"}, {"id": "ref-for-dom-auctionadconfig-interestgroupbuyers\u2460"}, {"id": "ref-for-dom-auctionadconfig-interestgroupbuyers\u2461"}, {"id": "ref-for-dom-auctionadconfig-interestgroupbuyers\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-auctionsignals'] = {"dfnID": "dom-auctionadconfig-auctionsignals", "url": "#dom-auctionadconfig-auctionsignals", "dfnText": "auctionSignals", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-auctionsignals"}, {"id": "ref-for-dom-auctionadconfig-auctionsignals\u2460"}, {"id": "ref-for-dom-auctionadconfig-auctionsignals\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-sellersignals'] = {"dfnID": "dom-auctionadconfig-sellersignals", "url": "#dom-auctionadconfig-sellersignals", "dfnText": "sellerSignals", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-sellersignals"}, {"id": "ref-for-dom-auctionadconfig-sellersignals\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-directfromsellersignalsheaderadslot'] = {"dfnID": "dom-auctionadconfig-directfromsellersignalsheaderadslot", "url": "#dom-auctionadconfig-directfromsellersignalsheaderadslot", "dfnText": "directFromSellerSignalsHeaderAdSlot", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-directfromsellersignalsheaderadslot"}, {"id": "ref-for-dom-auctionadconfig-directfromsellersignalsheaderadslot\u2460"}, {"id": "ref-for-dom-auctionadconfig-directfromsellersignalsheaderadslot\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-sellertimeout'] = {"dfnID": "dom-auctionadconfig-sellertimeout", "url": "#dom-auctionadconfig-sellertimeout", "dfnText": "sellerTimeout", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-sellertimeout"}, {"id": "ref-for-dom-auctionadconfig-sellertimeout\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-sellerexperimentgroupid'] = {"dfnID": "dom-auctionadconfig-sellerexperimentgroupid", "url": "#dom-auctionadconfig-sellerexperimentgroupid", "dfnText": "sellerExperimentGroupId", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-sellerexperimentgroupid"}, {"id": "ref-for-dom-auctionadconfig-sellerexperimentgroupid\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-sellercurrency'] = {"dfnID": "dom-auctionadconfig-sellercurrency", "url": "#dom-auctionadconfig-sellercurrency", "dfnText": "sellerCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-sellercurrency"}, {"id": "ref-for-dom-auctionadconfig-sellercurrency\u2460"}, {"id": "ref-for-dom-auctionadconfig-sellercurrency\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyersignals'] = {"dfnID": "dom-auctionadconfig-perbuyersignals", "url": "#dom-auctionadconfig-perbuyersignals", "dfnText": "perBuyerSignals", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyersignals"}, {"id": "ref-for-dom-auctionadconfig-perbuyersignals\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyertimeouts'] = {"dfnID": "dom-auctionadconfig-perbuyertimeouts", "url": "#dom-auctionadconfig-perbuyertimeouts", "dfnText": "perBuyerTimeouts", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyertimeouts"}, {"id": "ref-for-dom-auctionadconfig-perbuyertimeouts\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyercumulativetimeouts'] = {"dfnID": "dom-auctionadconfig-perbuyercumulativetimeouts", "url": "#dom-auctionadconfig-perbuyercumulativetimeouts", "dfnText": "perBuyerCumulativeTimeouts", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyercumulativetimeouts"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyergrouplimits'] = {"dfnID": "dom-auctionadconfig-perbuyergrouplimits", "url": "#dom-auctionadconfig-perbuyergrouplimits", "dfnText": "perBuyerGroupLimits", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyergrouplimits"}, {"id": "ref-for-dom-auctionadconfig-perbuyergrouplimits\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyergrouplimits\u2461"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyerexperimentgroupids'] = {"dfnID": "dom-auctionadconfig-perbuyerexperimentgroupids", "url": "#dom-auctionadconfig-perbuyerexperimentgroupids", "dfnText": "perBuyerExperimentGroupIds", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyerexperimentgroupids"}, {"id": "ref-for-dom-auctionadconfig-perbuyerexperimentgroupids\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyerprioritysignals'] = {"dfnID": "dom-auctionadconfig-perbuyerprioritysignals", "url": "#dom-auctionadconfig-perbuyerprioritysignals", "dfnText": "perBuyerPrioritySignals", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyerprioritysignals"}, {"id": "ref-for-dom-auctionadconfig-perbuyerprioritysignals\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyerprioritysignals\u2461"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-perbuyercurrencies'] = {"dfnID": "dom-auctionadconfig-perbuyercurrencies", "url": "#dom-auctionadconfig-perbuyercurrencies", "dfnText": "perBuyerCurrencies", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-perbuyercurrencies"}, {"id": "ref-for-dom-auctionadconfig-perbuyercurrencies\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-componentauctions'] = {"dfnID": "dom-auctionadconfig-componentauctions", "url": "#dom-auctionadconfig-componentauctions", "dfnText": "componentAuctions", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-componentauctions"}, {"id": "ref-for-dom-auctionadconfig-componentauctions\u2460"}, {"id": "ref-for-dom-auctionadconfig-componentauctions\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-auctionadconfig-componentauctions\u2462"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-dom-auctionadconfig-componentauctions\u2463"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-additionalbids'] = {"dfnID": "dom-auctionadconfig-additionalbids", "url": "#dom-auctionadconfig-additionalbids", "dfnText": "additionalBids", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-additionalbids"}, {"id": "ref-for-dom-auctionadconfig-additionalbids\u2460"}, {"id": "ref-for-dom-auctionadconfig-additionalbids\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-auctionadconfig-additionalbids\u2462"}, {"id": "ref-for-dom-auctionadconfig-additionalbids\u2463"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-auctionnonce'] = {"dfnID": "dom-auctionadconfig-auctionnonce", "url": "#dom-auctionadconfig-auctionnonce", "dfnText": "auctionNonce", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-auctionnonce"}, {"id": "ref-for-dom-auctionadconfig-auctionnonce\u2460"}, {"id": "ref-for-dom-auctionadconfig-auctionnonce\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-signal'] = {"dfnID": "dom-auctionadconfig-signal", "url": "#dom-auctionadconfig-signal", "dfnText": "signal", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-signal"}, {"id": "ref-for-dom-auctionadconfig-signal\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-auctionadconfig-resolvetoconfig'] = {"dfnID": "dom-auctionadconfig-resolvetoconfig", "url": "#dom-auctionadconfig-resolvetoconfig", "dfnText": "resolveToConfig", "refSections": [{"refs": [{"id": "ref-for-dom-auctionadconfig-resolvetoconfig"}, {"id": "ref-for-dom-auctionadconfig-resolvetoconfig\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-navigator-runadauction'] = {"dfnID": "dom-navigator-runadauction", "url": "#dom-navigator-runadauction", "dfnText": "runAdAuction(config)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-runadauction"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2460"}], "title": "4. Running Ad Auctions"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2461"}, {"id": "ref-for-dom-navigator-runadauction\u2462"}, {"id": "ref-for-dom-navigator-runadauction\u2463"}, {"id": "ref-for-dom-navigator-runadauction\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2465"}, {"id": "ref-for-dom-navigator-runadauction\u2466"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2467"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2468"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2460\u24ea"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2460\u2460"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-dom-navigator-runadauction\u2460\u2461"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['construct-a-pending-fenced-frame-config'] = {"dfnID": "construct-a-pending-fenced-frame-config", "url": "#construct-a-pending-fenced-frame-config", "dfnText": "construct a pending fenced frame config", "refSections": [{"refs": [{"id": "ref-for-construct-a-pending-fenced-frame-config"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['fill-in-a-pending-fenced-frame-config'] = {"dfnID": "fill-in-a-pending-fenced-frame-config", "url": "#fill-in-a-pending-fenced-frame-config", "dfnText": "fill in a pending fenced frame config", "refSections": [{"refs": [{"id": "ref-for-fill-in-a-pending-fenced-frame-config"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['asynchronously-finish-reporting'] = {"dfnID": "asynchronously-finish-reporting", "url": "#asynchronously-finish-reporting", "dfnText": "asynchronously finish reporting", "refSections": [{"refs": [{"id": "ref-for-asynchronously-finish-reporting"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['create-nested-configs'] = {"dfnID": "create-nested-configs", "url": "#create-nested-configs", "dfnText": "create nested configs", "refSections": [{"refs": [{"id": "ref-for-create-nested-configs"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['validate-and-convert-auction-ad-config'] = {"dfnID": "validate-and-convert-auction-ad-config", "url": "#validate-and-convert-auction-ad-config", "dfnText": "validate and convert auction ad config", "refSections": [{"refs": [{"id": "ref-for-validate-and-convert-auction-ad-config"}, {"id": "ref-for-validate-and-convert-auction-ad-config\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['parse-an-https-origin'] = {"dfnID": "parse-an-https-origin", "url": "#parse-an-https-origin", "dfnText": "parse an https origin", "refSections": [{"refs": [{"id": "ref-for-parse-an-https-origin"}, {"id": "ref-for-parse-an-https-origin\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-parse-an-https-origin\u2461"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-parse-an-https-origin\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-parse-an-https-origin\u2463"}, {"id": "ref-for-parse-an-https-origin\u2464"}, {"id": "ref-for-parse-an-https-origin\u2465"}, {"id": "ref-for-parse-an-https-origin\u2466"}, {"id": "ref-for-parse-an-https-origin\u2467"}, {"id": "ref-for-parse-an-https-origin\u2468"}, {"id": "ref-for-parse-an-https-origin\u2460\u24ea"}, {"id": "ref-for-parse-an-https-origin\u2460\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-parse-an-https-origin\u2460\u2461"}, {"id": "ref-for-parse-an-https-origin\u2460\u2462"}, {"id": "ref-for-parse-an-https-origin\u2460\u2463"}, {"id": "ref-for-parse-an-https-origin\u2460\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-parse-an-https-origin\u2460\u2465"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['update-bid-count'] = {"dfnID": "update-bid-count", "url": "#update-bid-count", "dfnText": "update bid count", "refSections": [{"refs": [{"id": "ref-for-update-bid-count"}, {"id": "ref-for-update-bid-count\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['update-previous-wins'] = {"dfnID": "update-previous-wins", "url": "#update-previous-wins", "dfnText": "update previous wins", "refSections": [{"refs": [{"id": "ref-for-update-previous-wins"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['build-bid-generators-map'] = {"dfnID": "build-bid-generators-map", "url": "#build-bid-generators-map", "dfnText": "build bid generators map", "refSections": [{"refs": [{"id": "ref-for-build-bid-generators-map"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['generate-a-bid'] = {"dfnID": "generate-a-bid", "url": "#generate-a-bid", "dfnText": "generate a bid", "refSections": [{"refs": [{"id": "ref-for-generate-a-bid"}, {"id": "ref-for-generate-a-bid\u2460"}, {"id": "ref-for-generate-a-bid\u2461"}, {"id": "ref-for-generate-a-bid\u2462"}, {"id": "ref-for-generate-a-bid\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generate-a-bid\u2464"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['generate-and-score-bids'] = {"dfnID": "generate-and-score-bids", "url": "#generate-and-score-bids", "dfnText": "generate and score bids", "refSections": [{"refs": [{"id": "ref-for-generate-and-score-bids"}, {"id": "ref-for-generate-and-score-bids\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['apply-interest-groups-limits-to-prioritized-list'] = {"dfnID": "apply-interest-groups-limits-to-prioritized-list", "url": "#apply-interest-groups-limits-to-prioritized-list", "dfnText": "Apply interest groups limits to prioritized list", "refSections": [{"refs": [{"id": "ref-for-apply-interest-groups-limits-to-prioritized-list"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['build-an-interest-group-passed-to-generatebid'] = {"dfnID": "build-an-interest-group-passed-to-generatebid", "url": "#build-an-interest-group-passed-to-generatebid", "dfnText": "build an interest group passed to generateBid", "refSections": [{"refs": [{"id": "ref-for-build-an-interest-group-passed-to-generatebid"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['serialize-a-url'] = {"dfnID": "serialize-a-url", "url": "#serialize-a-url", "dfnText": "serialize a URL", "refSections": [{"refs": [{"id": "ref-for-serialize-a-url"}, {"id": "ref-for-serialize-a-url\u2460"}, {"id": "ref-for-serialize-a-url\u2461"}, {"id": "ref-for-serialize-a-url\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['convert-to-an-auctionad-sequence'] = {"dfnID": "convert-to-an-auctionad-sequence", "url": "#convert-to-an-auctionad-sequence", "dfnText": "convert to an AuctionAd sequence", "refSections": [{"refs": [{"id": "ref-for-convert-to-an-auctionad-sequence"}, {"id": "ref-for-convert-to-an-auctionad-sequence\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['score-and-rank-a-bid'] = {"dfnID": "score-and-rank-a-bid", "url": "#score-and-rank-a-bid", "dfnText": "score and rank a bid", "refSections": [{"refs": [{"id": "ref-for-score-and-rank-a-bid"}, {"id": "ref-for-score-and-rank-a-bid\u2460"}, {"id": "ref-for-score-and-rank-a-bid\u2461"}, {"id": "ref-for-score-and-rank-a-bid\u2462"}, {"id": "ref-for-score-and-rank-a-bid\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['convert-to-a-string-sequence'] = {"dfnID": "convert-to-a-string-sequence", "url": "#convert-to-a-string-sequence", "dfnText": "convert to a string sequence", "refSections": [{"refs": [{"id": "ref-for-convert-to-a-string-sequence"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['update-highest-scoring-other-bid'] = {"dfnID": "update-highest-scoring-other-bid", "url": "#update-highest-scoring-other-bid", "dfnText": "update highest scoring other bid", "refSections": [{"refs": [{"id": "ref-for-update-highest-scoring-other-bid"}, {"id": "ref-for-update-highest-scoring-other-bid\u2460"}, {"id": "ref-for-update-highest-scoring-other-bid\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['http-headerdef-ad-auction-allowed'] = {"dfnID": "http-headerdef-ad-auction-allowed", "url": "#http-headerdef-ad-auction-allowed", "dfnText": "Ad-Auction-Allowed", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-ad-auction-allowed"}, {"id": "ref-for-http-headerdef-ad-auction-allowed\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['validate-fetching-response'] = {"dfnID": "validate-fetching-response", "url": "#validate-fetching-response", "dfnText": "validate fetching response", "refSections": [{"refs": [{"id": "ref-for-validate-fetching-response"}, {"id": "ref-for-validate-fetching-response\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-validate-fetching-response\u2461"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['fetch-script'] = {"dfnID": "fetch-script", "url": "#fetch-script", "dfnText": "fetch script", "refSections": [{"refs": [{"id": "ref-for-fetch-script"}, {"id": "ref-for-fetch-script\u2460"}, {"id": "ref-for-fetch-script\u2461"}, {"id": "ref-for-fetch-script\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['fetch-webassembly'] = {"dfnID": "fetch-webassembly", "url": "#fetch-webassembly", "dfnText": "fetch WebAssembly", "refSections": [{"refs": [{"id": "ref-for-fetch-webassembly"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['http-headerdef-data-version'] = {"dfnID": "http-headerdef-data-version", "url": "#http-headerdef-data-version", "dfnText": "Data-Version", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-data-version"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-http-headerdef-data-version\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['http-headerdef-x-fledge-bidding-signals-format-version'] = {"dfnID": "http-headerdef-x-fledge-bidding-signals-format-version", "url": "#http-headerdef-x-fledge-bidding-signals-format-version", "dfnText": "X-fledge-bidding-signals-format-version", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-x-fledge-bidding-signals-format-version"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['fetch-trusted-signals'] = {"dfnID": "fetch-trusted-signals", "url": "#fetch-trusted-signals", "dfnText": "fetch trusted signals", "refSections": [{"refs": [{"id": "ref-for-fetch-trusted-signals"}, {"id": "ref-for-fetch-trusted-signals\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['encode-trusted-signals-keys'] = {"dfnID": "encode-trusted-signals-keys", "url": "#encode-trusted-signals-keys", "dfnText": "encode trusted signals keys", "refSections": [{"refs": [{"id": "ref-for-encode-trusted-signals-keys"}, {"id": "ref-for-encode-trusted-signals-keys\u2460"}, {"id": "ref-for-encode-trusted-signals-keys\u2461"}, {"id": "ref-for-encode-trusted-signals-keys\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['build-trusted-bidding-signals-url'] = {"dfnID": "build-trusted-bidding-signals-url", "url": "#build-trusted-bidding-signals-url", "dfnText": "build trusted bidding signals url", "refSections": [{"refs": [{"id": "ref-for-build-trusted-bidding-signals-url"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-build-trusted-bidding-signals-url\u2460"}, {"id": "ref-for-build-trusted-bidding-signals-url\u2461"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['build-trusted-scoring-signals-url'] = {"dfnID": "build-trusted-scoring-signals-url", "url": "#build-trusted-scoring-signals-url", "dfnText": "build trusted scoring signals url", "refSections": [{"refs": [{"id": "ref-for-build-trusted-scoring-signals-url"}, {"id": "ref-for-build-trusted-scoring-signals-url\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['send-report'] = {"dfnID": "send-report", "url": "#send-report", "dfnText": "send report", "refSections": [{"refs": [{"id": "ref-for-send-report"}, {"id": "ref-for-send-report\u2460"}, {"id": "ref-for-send-report\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['serialize-an-integer'] = {"dfnID": "serialize-an-integer", "url": "#serialize-an-integer", "dfnText": "serialize an integer", "refSections": [{"refs": [{"id": "ref-for-serialize-an-integer"}, {"id": "ref-for-serialize-an-integer\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['round-a-value'] = {"dfnID": "round-a-value", "url": "#round-a-value", "dfnText": "round a value", "refSections": [{"refs": [{"id": "ref-for-round-a-value"}, {"id": "ref-for-round-a-value\u2460"}, {"id": "ref-for-round-a-value\u2461"}, {"id": "ref-for-round-a-value\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-round-a-value\u2463"}, {"id": "ref-for-round-a-value\u2464"}, {"id": "ref-for-round-a-value\u2465"}, {"id": "ref-for-round-a-value\u2466"}, {"id": "ref-for-round-a-value\u2467"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-round-a-value\u2468"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['get-direct-from-seller-signals'] = {"dfnID": "get-direct-from-seller-signals", "url": "#get-direct-from-seller-signals", "dfnText": "get direct from seller signals", "refSections": [{"refs": [{"id": "ref-for-get-direct-from-seller-signals"}, {"id": "ref-for-get-direct-from-seller-signals\u2460"}, {"id": "ref-for-get-direct-from-seller-signals\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['get-direct-from-seller-signals-for-a-seller'] = {"dfnID": "get-direct-from-seller-signals-for-a-seller", "url": "#get-direct-from-seller-signals-for-a-seller", "dfnText": "get direct from seller signals for a seller", "refSections": [{"refs": [{"id": "ref-for-get-direct-from-seller-signals-for-a-seller"}, {"id": "ref-for-get-direct-from-seller-signals-for-a-seller\u2460"}, {"id": "ref-for-get-direct-from-seller-signals-for-a-seller\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['get-direct-from-seller-signals-for-a-buyer'] = {"dfnID": "get-direct-from-seller-signals-for-a-buyer", "url": "#get-direct-from-seller-signals-for-a-buyer", "dfnText": "get direct from seller signals for a buyer", "refSections": [{"refs": [{"id": "ref-for-get-direct-from-seller-signals-for-a-buyer"}, {"id": "ref-for-get-direct-from-seller-signals-for-a-buyer\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['report-result'] = {"dfnID": "report-result", "url": "#report-result", "dfnText": "report result", "refSections": [{"refs": [{"id": "ref-for-report-result"}, {"id": "ref-for-report-result\u2460"}, {"id": "ref-for-report-result\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-report-result\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-report-result\u2463"}], "title": "12.2. Interest group ad"}], "external": false};
window.dfnpanelData['report-win'] = {"dfnID": "report-win", "url": "#report-win", "dfnText": "report win", "refSections": [{"refs": [{"id": "ref-for-report-win"}, {"id": "ref-for-report-win\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-report-win\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-report-win\u2462"}, {"id": "ref-for-report-win\u2463"}], "title": "12.2. Interest group ad"}], "external": false};
window.dfnpanelData['auction-nonce'] = {"dfnID": "auction-nonce", "url": "#auction-nonce", "dfnText": "auction nonce", "refSections": [{"refs": [{"id": "ref-for-auction-nonce"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-auction-nonce\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-auction-nonce\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['dom-navigator-createauctionnonce'] = {"dfnID": "dom-navigator-createauctionnonce", "url": "#dom-navigator-createauctionnonce", "dfnText": "createAuctionNonce()", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-createauctionnonce"}, {"id": "ref-for-dom-navigator-createauctionnonce\u2460"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-dom-navigator-createauctionnonce\u2461"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['additional-bids'] = {"dfnID": "additional-bids", "url": "#additional-bids", "dfnText": "additional bids", "refSections": [{"refs": [{"id": "ref-for-additional-bids"}, {"id": "ref-for-additional-bids\u2460"}], "title": "5.1. createAuctionNonce()"}, {"refs": [{"id": "ref-for-additional-bids\u2461"}, {"id": "ref-for-additional-bids\u2462"}, {"id": "ref-for-additional-bids\u2463"}, {"id": "ref-for-additional-bids\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-additional-bids\u2465"}, {"id": "ref-for-additional-bids\u2466"}, {"id": "ref-for-additional-bids\u2467"}, {"id": "ref-for-additional-bids\u2468"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-additional-bids\u2460\u24ea"}, {"id": "ref-for-additional-bids\u2460\u2460"}, {"id": "ref-for-additional-bids\u2460\u2461"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-additional-bids\u2460\u2462"}, {"id": "ref-for-additional-bids\u2460\u2463"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-additional-bids\u2460\u2464"}, {"id": "ref-for-additional-bids\u2460\u2465"}], "title": "11.3. The `Ad-Auction-Additional-Bid`\nHTTP response header."}], "external": false};
window.dfnpanelData['validate-and-convert-additional-bids'] = {"dfnID": "validate-and-convert-additional-bids", "url": "#validate-and-convert-additional-bids", "dfnText": "validate and convert additional bids", "refSections": [{"refs": [{"id": "ref-for-validate-and-convert-additional-bids"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['parse-a-signed-additional-bid'] = {"dfnID": "parse-a-signed-additional-bid", "url": "#parse-a-signed-additional-bid", "dfnText": "parse a signed additional bid", "refSections": [{"refs": [{"id": "ref-for-parse-a-signed-additional-bid"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['decode-an-additional-bid-json'] = {"dfnID": "decode-an-additional-bid-json", "url": "#decode-an-additional-bid-json", "dfnText": "decode an additional bid json", "refSections": [{"refs": [{"id": "ref-for-decode-an-additional-bid-json"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['signed-additional-bid-signature'] = {"dfnID": "signed-additional-bid-signature", "url": "#signed-additional-bid-signature", "dfnText": "signed additional bid signature", "refSections": [{"refs": [{"id": "ref-for-signed-additional-bid-signature"}, {"id": "ref-for-signed-additional-bid-signature\u2460"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['signed-additional-bid-signature-key'] = {"dfnID": "signed-additional-bid-signature-key", "url": "#signed-additional-bid-signature-key", "dfnText": "key", "refSections": [{"refs": [{"id": "ref-for-signed-additional-bid-signature-key"}, {"id": "ref-for-signed-additional-bid-signature-key\u2460"}, {"id": "ref-for-signed-additional-bid-signature-key\u2461"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['signed-additional-bid-signature-signature'] = {"dfnID": "signed-additional-bid-signature-signature", "url": "#signed-additional-bid-signature-signature", "dfnText": "signature", "refSections": [{"refs": [{"id": "ref-for-signed-additional-bid-signature-signature"}, {"id": "ref-for-signed-additional-bid-signature-signature\u2460"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['decoded-additional-bid'] = {"dfnID": "decoded-additional-bid", "url": "#decoded-additional-bid", "dfnText": "decoded additional bid", "refSections": [{"refs": [{"id": "ref-for-decoded-additional-bid"}, {"id": "ref-for-decoded-additional-bid\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-decoded-additional-bid\u2461"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['decoded-additional-bid-bid'] = {"dfnID": "decoded-additional-bid-bid", "url": "#decoded-additional-bid-bid", "dfnText": "bid", "refSections": [{"refs": [{"id": "ref-for-decoded-additional-bid-bid"}, {"id": "ref-for-decoded-additional-bid-bid\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-decoded-additional-bid-bid\u2461"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['decoded-additional-bid-negative-target-interest-group-names'] = {"dfnID": "decoded-additional-bid-negative-target-interest-group-names", "url": "#decoded-additional-bid-negative-target-interest-group-names", "dfnText": "negative target interest group names", "refSections": [{"refs": [{"id": "ref-for-decoded-additional-bid-negative-target-interest-group-names"}, {"id": "ref-for-decoded-additional-bid-negative-target-interest-group-names\u2460"}, {"id": "ref-for-decoded-additional-bid-negative-target-interest-group-names\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-decoded-additional-bid-negative-target-interest-group-names\u2462"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['decoded-additional-bid-negative-target-joining-origin'] = {"dfnID": "decoded-additional-bid-negative-target-joining-origin", "url": "#decoded-additional-bid-negative-target-joining-origin", "dfnText": "negative target joining origin", "refSections": [{"refs": [{"id": "ref-for-decoded-additional-bid-negative-target-joining-origin"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-decoded-additional-bid-negative-target-joining-origin\u2460"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['captured-additional-bids-headers'] = {"dfnID": "captured-additional-bids-headers", "url": "#captured-additional-bids-headers", "dfnText": "captured additional bids headers", "refSections": [{"refs": [{"id": "ref-for-captured-additional-bids-headers"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['negative-targeting'] = {"dfnID": "negative-targeting", "url": "#negative-targeting", "dfnText": "negative targeting", "refSections": [{"refs": [{"id": "ref-for-negative-targeting"}, {"id": "ref-for-negative-targeting\u2460"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-negative-targeting\u2461"}, {"id": "ref-for-negative-targeting\u2462"}], "title": "5.3.1. Negative Interest Groups"}], "external": false};
window.dfnpanelData['check-whether-negative-targeted'] = {"dfnID": "check-whether-negative-targeted", "url": "#check-whether-negative-targeted", "dfnText": "check whether negative targeted", "refSections": [{"refs": [{"id": "ref-for-check-whether-negative-targeted"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['negative-target-info'] = {"dfnID": "negative-target-info", "url": "#negative-target-info", "dfnText": "negative target info", "refSections": [{"refs": [{"id": "ref-for-negative-target-info"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-negative-target-info\u2460"}, {"id": "ref-for-negative-target-info\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-negative-target-info\u2462"}], "title": "5.3. Negative Targeting"}], "external": false};
window.dfnpanelData['k-anonymity-server'] = {"dfnID": "k-anonymity-server", "url": "#k-anonymity-server", "dfnText": "k-anonymity server", "refSections": [{"refs": [{"id": "ref-for-k-anonymity-server"}, {"id": "ref-for-k-anonymity-server\u2460"}, {"id": "ref-for-k-anonymity-server\u2461"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['k-anonymity-threshold'] = {"dfnID": "k-anonymity-threshold", "url": "#k-anonymity-threshold", "dfnText": "k-anonymity threshold", "refSections": [{"refs": [{"id": "ref-for-k-anonymity-threshold"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['k-anonymity-duration'] = {"dfnID": "k-anonymity-duration", "url": "#k-anonymity-duration", "dfnText": "k-anonymity duration", "refSections": [{"refs": [{"id": "ref-for-k-anonymity-duration"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['query-k-anonymity-count'] = {"dfnID": "query-k-anonymity-count", "url": "#query-k-anonymity-count", "dfnText": "query k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-query-k-anonymity-count"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-query-k-anonymity-count\u2460"}, {"id": "ref-for-query-k-anonymity-count\u2461"}, {"id": "ref-for-query-k-anonymity-count\u2462"}, {"id": "ref-for-query-k-anonymity-count\u2463"}, {"id": "ref-for-query-k-anonymity-count\u2464"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['query-ad-k-anonymity-count'] = {"dfnID": "query-ad-k-anonymity-count", "url": "#query-ad-k-anonymity-count", "dfnText": "query ad k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-query-ad-k-anonymity-count"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-query-ad-k-anonymity-count\u2460"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['compute-the-key-hash-of-reporting-id'] = {"dfnID": "compute-the-key-hash-of-reporting-id", "url": "#compute-the-key-hash-of-reporting-id", "dfnText": "compute the key hash of reporting ID", "refSections": [{"refs": [{"id": "ref-for-compute-the-key-hash-of-reporting-id"}, {"id": "ref-for-compute-the-key-hash-of-reporting-id\u2460"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['query-component-ad-k-anonymity-count'] = {"dfnID": "query-component-ad-k-anonymity-count", "url": "#query-component-ad-k-anonymity-count", "dfnText": "query component ad k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-query-component-ad-k-anonymity-count"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-query-component-ad-k-anonymity-count\u2460"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['query-generated-bid-k-anonymity-count'] = {"dfnID": "query-generated-bid-k-anonymity-count", "url": "#query-generated-bid-k-anonymity-count", "dfnText": "query generated bid k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-query-generated-bid-k-anonymity-count"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['query-reporting-id-k-anonymity-count'] = {"dfnID": "query-reporting-id-k-anonymity-count", "url": "#query-reporting-id-k-anonymity-count", "dfnText": "query reporting ID k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-query-reporting-id-k-anonymity-count"}, {"id": "ref-for-query-reporting-id-k-anonymity-count\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-query-reporting-id-k-anonymity-count\u2461"}, {"id": "ref-for-query-reporting-id-k-anonymity-count\u2462"}, {"id": "ref-for-query-reporting-id-k-anonymity-count\u2463"}, {"id": "ref-for-query-reporting-id-k-anonymity-count\u2464"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['increment-k-anonymity-count'] = {"dfnID": "increment-k-anonymity-count", "url": "#increment-k-anonymity-count", "dfnText": "increment k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-increment-k-anonymity-count"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-increment-k-anonymity-count\u2460"}, {"id": "ref-for-increment-k-anonymity-count\u2461"}, {"id": "ref-for-increment-k-anonymity-count\u2462"}, {"id": "ref-for-increment-k-anonymity-count\u2463"}], "title": "6. K-anonymity"}], "external": false};
window.dfnpanelData['increment-ad-k-anonymity-count'] = {"dfnID": "increment-ad-k-anonymity-count", "url": "#increment-ad-k-anonymity-count", "dfnText": "increment ad k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-increment-ad-k-anonymity-count"}, {"id": "ref-for-increment-ad-k-anonymity-count\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['increment-component-ad-k-anonymity-count'] = {"dfnID": "increment-component-ad-k-anonymity-count", "url": "#increment-component-ad-k-anonymity-count", "dfnText": "increment component ad k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-increment-component-ad-k-anonymity-count"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['increment-reporting-id-k-anonymity-count'] = {"dfnID": "increment-reporting-id-k-anonymity-count", "url": "#increment-reporting-id-k-anonymity-count", "dfnText": "increment reporting ID k-anonymity count", "refSections": [{"refs": [{"id": "ref-for-increment-reporting-id-k-anonymity-count"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['create-a-new-script-runner-agent'] = {"dfnID": "create-a-new-script-runner-agent", "url": "#create-a-new-script-runner-agent", "dfnText": "create a new script runner agent", "refSections": [{"refs": [{"id": "ref-for-create-a-new-script-runner-agent"}], "title": "7.1. Realm and agent"}], "external": false};
window.dfnpanelData['obtain-a-script-runner-agent'] = {"dfnID": "obtain-a-script-runner-agent", "url": "#obtain-a-script-runner-agent", "dfnText": "obtain a script runner agent", "refSections": [{"refs": [{"id": "ref-for-obtain-a-script-runner-agent"}], "title": "7.1. Realm and agent"}], "external": false};
window.dfnpanelData['create-a-new-script-runner-realm'] = {"dfnID": "create-a-new-script-runner-realm", "url": "#create-a-new-script-runner-realm", "dfnText": "create a new script runner realm", "refSections": [{"refs": [{"id": "ref-for-create-a-new-script-runner-realm"}, {"id": "ref-for-create-a-new-script-runner-realm\u2460"}, {"id": "ref-for-create-a-new-script-runner-realm\u2461"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['script-runner'] = {"dfnID": "script-runner", "url": "#script-runner", "dfnText": "script runner", "refSections": [{"refs": [{"id": "ref-for-script-runner"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-script-runner\u2460"}, {"id": "ref-for-script-runner\u2461"}, {"id": "ref-for-script-runner\u2462"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-script-runner\u2463"}, {"id": "ref-for-script-runner\u2464"}, {"id": "ref-for-script-runner\u2465"}], "title": "12.12. Direct from seller signals"}], "external": false};
window.dfnpanelData['evaluate-a-bidding-script'] = {"dfnID": "evaluate-a-bidding-script", "url": "#evaluate-a-bidding-script", "dfnText": "evaluate a bidding script", "refSections": [{"refs": [{"id": "ref-for-evaluate-a-bidding-script"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['evaluate-a-scoring-script'] = {"dfnID": "evaluate-a-scoring-script", "url": "#evaluate-a-scoring-script", "dfnText": "evaluate a scoring script", "refSections": [{"refs": [{"id": "ref-for-evaluate-a-scoring-script"}, {"id": "ref-for-evaluate-a-scoring-script\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['evaluate-a-reporting-script'] = {"dfnID": "evaluate-a-reporting-script", "url": "#evaluate-a-reporting-script", "dfnText": "evaluate a reporting script", "refSections": [{"refs": [{"id": "ref-for-evaluate-a-reporting-script"}, {"id": "ref-for-evaluate-a-reporting-script\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['evaluate-a-script'] = {"dfnID": "evaluate-a-script", "url": "#evaluate-a-script", "dfnText": "evaluate a script", "refSections": [{"refs": [{"id": "ref-for-evaluate-a-script"}, {"id": "ref-for-evaluate-a-script\u2460"}, {"id": "ref-for-evaluate-a-script\u2461"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['interestgroupscriptrunnerglobalscope'] = {"dfnID": "interestgroupscriptrunnerglobalscope", "url": "#interestgroupscriptrunnerglobalscope", "dfnText": "InterestGroupScriptRunnerGlobalScope", "refSections": [{"refs": [{"id": "ref-for-interestgroupscriptrunnerglobalscope"}, {"id": "ref-for-interestgroupscriptrunnerglobalscope\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-interestgroupscriptrunnerglobalscope\u2461"}, {"id": "ref-for-interestgroupscriptrunnerglobalscope\u2462"}], "title": "7.3.2. InterestGroupScoringScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-interestgroupscriptrunnerglobalscope\u2463"}, {"id": "ref-for-interestgroupscriptrunnerglobalscope\u2464"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope", "url": "#interestgroupbiddingscriptrunnerglobalscope", "dfnText": "InterestGroupBiddingScriptRunnerGlobalScope", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope\u2461"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dictdef-adrender'] = {"dfnID": "dictdef-adrender", "url": "#dictdef-adrender", "dfnText": "AdRender", "refSections": [{"refs": [{"id": "ref-for-dictdef-adrender"}, {"id": "ref-for-dictdef-adrender\u2460"}, {"id": "ref-for-dictdef-adrender\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-adrender-url'] = {"dfnID": "dom-adrender-url", "url": "#dom-adrender-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-dom-adrender-url"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-adrender-width'] = {"dfnID": "dom-adrender-width", "url": "#dom-adrender-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-dom-adrender-width"}, {"id": "ref-for-dom-adrender-width\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-adrender-height'] = {"dfnID": "dom-adrender-height", "url": "#dom-adrender-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-dom-adrender-height"}, {"id": "ref-for-dom-adrender-height\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dictdef-generatebidoutput'] = {"dfnID": "dictdef-generatebidoutput", "url": "#dictdef-generatebidoutput", "dfnText": "GenerateBidOutput", "refSections": [{"refs": [{"id": "ref-for-dictdef-generatebidoutput"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-dictdef-generatebidoutput\u2460"}, {"id": "ref-for-dictdef-generatebidoutput\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-bid'] = {"dfnID": "dom-generatebidoutput-bid", "url": "#dom-generatebidoutput-bid", "dfnText": "bid", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-bid"}, {"id": "ref-for-dom-generatebidoutput-bid\u2460"}, {"id": "ref-for-dom-generatebidoutput-bid\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-bidcurrency'] = {"dfnID": "dom-generatebidoutput-bidcurrency", "url": "#dom-generatebidoutput-bidcurrency", "dfnText": "bidCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-bidcurrency"}, {"id": "ref-for-dom-generatebidoutput-bidcurrency\u2460"}, {"id": "ref-for-dom-generatebidoutput-bidcurrency\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-render'] = {"dfnID": "dom-generatebidoutput-render", "url": "#dom-generatebidoutput-render", "dfnText": "render", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-render"}, {"id": "ref-for-dom-generatebidoutput-render\u2460"}, {"id": "ref-for-dom-generatebidoutput-render\u2461"}, {"id": "ref-for-dom-generatebidoutput-render\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-ad'] = {"dfnID": "dom-generatebidoutput-ad", "url": "#dom-generatebidoutput-ad", "dfnText": "ad", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-ad"}, {"id": "ref-for-dom-generatebidoutput-ad\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-adcomponents'] = {"dfnID": "dom-generatebidoutput-adcomponents", "url": "#dom-generatebidoutput-adcomponents", "dfnText": "adComponents", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-adcomponents"}, {"id": "ref-for-dom-generatebidoutput-adcomponents\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-adcost'] = {"dfnID": "dom-generatebidoutput-adcost", "url": "#dom-generatebidoutput-adcost", "dfnText": "adCost", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-adcost"}, {"id": "ref-for-dom-generatebidoutput-adcost\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-modelingsignals'] = {"dfnID": "dom-generatebidoutput-modelingsignals", "url": "#dom-generatebidoutput-modelingsignals", "dfnText": "modelingSignals", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-modelingsignals"}, {"id": "ref-for-dom-generatebidoutput-modelingsignals\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-generatebidoutput-allowcomponentauction'] = {"dfnID": "dom-generatebidoutput-allowcomponentauction", "url": "#dom-generatebidoutput-allowcomponentauction", "dfnText": "allowComponentAuction", "refSections": [{"refs": [{"id": "ref-for-dom-generatebidoutput-allowcomponentauction"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-bid'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-bid", "url": "#interestgroupbiddingscriptrunnerglobalscope-bid", "dfnText": "bid", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-bid"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-bid\u2460"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-bid\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-priority'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-priority", "url": "#interestgroupbiddingscriptrunnerglobalscope-priority", "dfnText": "priority", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority\u2461"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority\u2462"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority\u2463"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-priority-signals'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-priority-signals", "url": "#interestgroupbiddingscriptrunnerglobalscope-priority-signals", "dfnText": "priority signals", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority-signals"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority-signals\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-priority-signals\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-interest-group'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-interest-group", "url": "#interestgroupbiddingscriptrunnerglobalscope-interest-group", "dfnText": "interest group", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-interest-group"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-interest-group\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-expected-currency'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-expected-currency", "url": "#interestgroupbiddingscriptrunnerglobalscope-expected-currency", "dfnText": "expected currency", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-expected-currency"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-expected-currency\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-is-component-auction'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-is-component-auction", "url": "#interestgroupbiddingscriptrunnerglobalscope-is-component-auction", "dfnText": "is component auction", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-is-component-auction"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-is-component-auction\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components'] = {"dfnID": "interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components", "url": "#interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components", "dfnText": "group has ad components", "refSections": [{"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components"}, {"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupbiddingscriptrunnerglobalscope-group-has-ad-components\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['convert-generatebidoutput-to-generated-bid'] = {"dfnID": "convert-generatebidoutput-to-generated-bid", "url": "#convert-generatebidoutput-to-generated-bid", "dfnText": "convert GenerateBidOutput to generated bid", "refSections": [{"refs": [{"id": "ref-for-convert-generatebidoutput-to-generated-bid"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-convert-generatebidoutput-to-generated-bid\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['parse-an-adrender-dimension-value'] = {"dfnID": "parse-an-adrender-dimension-value", "url": "#parse-an-adrender-dimension-value", "dfnText": "parse an AdRender dimension value", "refSections": [{"refs": [{"id": "ref-for-parse-an-adrender-dimension-value"}, {"id": "ref-for-parse-an-adrender-dimension-value\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['convert-an-ad-render'] = {"dfnID": "convert-an-ad-render", "url": "#convert-an-ad-render", "dfnText": "convert an ad render", "refSections": [{"refs": [{"id": "ref-for-convert-an-ad-render"}, {"id": "ref-for-convert-an-ad-render\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['find-matching-ad'] = {"dfnID": "find-matching-ad", "url": "#find-matching-ad", "dfnText": "find matching ad", "refSections": [{"refs": [{"id": "ref-for-find-matching-ad"}, {"id": "ref-for-find-matching-ad\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-interestgroupbiddingscriptrunnerglobalscope-setbid'] = {"dfnID": "dom-interestgroupbiddingscriptrunnerglobalscope-setbid", "url": "#dom-interestgroupbiddingscriptrunnerglobalscope-setbid", "dfnText": "setBid(generateBidOutput)", "refSections": [{"refs": [{"id": "ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setbid"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-interestgroupbiddingscriptrunnerglobalscope-setpriority'] = {"dfnID": "dom-interestgroupbiddingscriptrunnerglobalscope-setpriority", "url": "#dom-interestgroupbiddingscriptrunnerglobalscope-setpriority", "dfnText": "setPriority(priority)", "refSections": [{"refs": [{"id": "ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setpriority"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride'] = {"dfnID": "dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride", "url": "#dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride", "dfnText": "setPrioritySignalsOverride(key, priority)", "refSections": [{"refs": [{"id": "ref-for-dom-interestgroupbiddingscriptrunnerglobalscope-setprioritysignalsoverride"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupscoringscriptrunnerglobalscope'] = {"dfnID": "interestgroupscoringscriptrunnerglobalscope", "url": "#interestgroupscoringscriptrunnerglobalscope", "dfnText": "InterestGroupScoringScriptRunnerGlobalScope", "refSections": [{"refs": [{"id": "ref-for-interestgroupscoringscriptrunnerglobalscope"}, {"id": "ref-for-interestgroupscoringscriptrunnerglobalscope\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupscoringscriptrunnerglobalscope\u2461"}], "title": "7.3.2. InterestGroupScoringScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupreportingscriptrunnerglobalscope'] = {"dfnID": "interestgroupreportingscriptrunnerglobalscope", "url": "#interestgroupreportingscriptrunnerglobalscope", "dfnText": "InterestGroupReportingScriptRunnerGlobalScope", "refSections": [{"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope"}, {"id": "ref-for-interestgroupreportingscriptrunnerglobalscope\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope\u2461"}, {"id": "ref-for-interestgroupreportingscriptrunnerglobalscope\u2462"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupreportingscriptrunnerglobalscope-report-url'] = {"dfnID": "interestgroupreportingscriptrunnerglobalscope-report-url", "url": "#interestgroupreportingscriptrunnerglobalscope-report-url", "dfnText": "report url", "refSections": [{"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-report-url"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-report-url\u2460"}, {"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-report-url\u2461"}, {"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-report-url\u2462"}, {"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-report-url\u2463"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map'] = {"dfnID": "interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map", "url": "#interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map", "dfnText": "reporting beacon map", "refSections": [{"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map\u2460"}, {"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-beacon-map\u2461"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['interestgroupreportingscriptrunnerglobalscope-reporting-macro-map'] = {"dfnID": "interestgroupreportingscriptrunnerglobalscope-reporting-macro-map", "url": "#interestgroupreportingscriptrunnerglobalscope-reporting-macro-map", "dfnText": "reporting macro map", "refSections": [{"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-macro-map"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interestgroupreportingscriptrunnerglobalscope-reporting-macro-map\u2460"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['dom-interestgroupreportingscriptrunnerglobalscope-sendreportto'] = {"dfnID": "dom-interestgroupreportingscriptrunnerglobalscope-sendreportto", "url": "#dom-interestgroupreportingscriptrunnerglobalscope-sendreportto", "dfnText": "sendReportTo(url)", "refSections": [{"refs": [{"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-sendreportto\u2460"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon'] = {"dfnID": "dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon", "url": "#dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon", "dfnText": "registerAdBeacon(map)", "refSections": [{"refs": [{"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradbeacon\u2460"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro'] = {"dfnID": "dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro", "url": "#dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro", "dfnText": "registerAdMacro(name,\n  value)", "refSections": [{"refs": [{"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro"}, {"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro\u2460"}], "title": "7.3.3. InterestGroupReportingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-dom-interestgroupreportingscriptrunnerglobalscope-registeradmacro\u2461"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['dom-navigator-updateadinterestgroups'] = {"dfnID": "dom-navigator-updateadinterestgroups", "url": "#dom-navigator-updateadinterestgroups", "dfnText": "updateAdInterestGroups()", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-updateadinterestgroups"}, {"id": "ref-for-dom-navigator-updateadinterestgroups\u2460"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-update'] = {"dfnID": "interest-group-update", "url": "#interest-group-update", "dfnText": "update interest groups", "refSections": [{"refs": [{"id": "ref-for-interest-group-update"}, {"id": "ref-for-interest-group-update\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-update\u2461"}, {"id": "ref-for-interest-group-update\u2462"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['get-uuid-from-string'] = {"dfnID": "get-uuid-from-string", "url": "#get-uuid-from-string", "dfnText": "get uuid from string", "refSections": [{"refs": [{"id": "ref-for-get-uuid-from-string"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['join-ad-interest-group'] = {"dfnID": "join-ad-interest-group", "url": "#join-ad-interest-group", "dfnText": "join-ad-interest-group", "refSections": [{"refs": [{"id": "ref-for-join-ad-interest-group"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-join-ad-interest-group\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-join-ad-interest-group\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}], "external": false};
window.dfnpanelData['run-ad-auction'] = {"dfnID": "run-ad-auction", "url": "#run-ad-auction", "dfnText": "run-ad-auction", "refSections": [{"refs": [{"id": "ref-for-run-ad-auction"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['traversable-navigable-captured-ad-auction-signals-headers'] = {"dfnID": "traversable-navigable-captured-ad-auction-signals-headers", "url": "#traversable-navigable-captured-ad-auction-signals-headers", "dfnText": "captured ad auction signals\nheaders", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable-captured-ad-auction-signals-headers"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-traversable-navigable-captured-ad-auction-signals-headers\u2460"}, {"id": "ref-for-traversable-navigable-captured-ad-auction-signals-headers\u2461"}, {"id": "ref-for-traversable-navigable-captured-ad-auction-signals-headers\u2462"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['traversable-navigable-captured-ad-auction-additional-bids-headers'] = {"dfnID": "traversable-navigable-captured-ad-auction-additional-bids-headers", "url": "#traversable-navigable-captured-ad-auction-additional-bids-headers", "dfnText": "captured ad auction additional\nbids headers", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable-captured-ad-auction-additional-bids-headers"}, {"id": "ref-for-traversable-navigable-captured-ad-auction-additional-bids-headers\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['request-capture-ad-auction-headers'] = {"dfnID": "request-capture-ad-auction-headers", "url": "#request-capture-ad-auction-headers", "dfnText": "capture-ad-auction-headers", "refSections": [{"refs": [{"id": "ref-for-request-capture-ad-auction-headers"}, {"id": "ref-for-request-capture-ad-auction-headers\u2460"}, {"id": "ref-for-request-capture-ad-auction-headers\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['dom-requestinit-adauctionheaders'] = {"dfnID": "dom-requestinit-adauctionheaders", "url": "#dom-requestinit-adauctionheaders", "dfnText": "adAuctionHeaders", "refSections": [{"refs": [{"id": "ref-for-dom-requestinit-adauctionheaders"}, {"id": "ref-for-dom-requestinit-adauctionheaders\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-requestinit-adauctionheaders\u2461"}, {"id": "ref-for-dom-requestinit-adauctionheaders\u2462"}, {"id": "ref-for-dom-requestinit-adauctionheaders\u2463"}, {"id": "ref-for-dom-requestinit-adauctionheaders\u2464"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-dom-requestinit-adauctionheaders\u2465"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": false};
window.dfnpanelData['http-headerdef-sec-ad-auction-fetch'] = {"dfnID": "http-headerdef-sec-ad-auction-fetch", "url": "#http-headerdef-sec-ad-auction-fetch", "dfnText": "Sec-Ad-Auction-Fetch", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-sec-ad-auction-fetch"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-http-headerdef-sec-ad-auction-fetch\u2460"}, {"id": "ref-for-http-headerdef-sec-ad-auction-fetch\u2461"}, {"id": "ref-for-http-headerdef-sec-ad-auction-fetch\u2462"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}], "external": false};
window.dfnpanelData['http-headerdef-ad-auction-signals'] = {"dfnID": "http-headerdef-ad-auction-signals", "url": "#http-headerdef-ad-auction-signals", "dfnText": "Ad-Auction-Signals", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-ad-auction-signals"}, {"id": "ref-for-http-headerdef-ad-auction-signals\u2460"}, {"id": "ref-for-http-headerdef-ad-auction-signals\u2464"}, {"id": "ref-for-http-headerdef-ad-auction-signals\u2465"}, {"id": "ref-for-http-headerdef-ad-auction-signals\u2466"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-http-headerdef-ad-auction-signals\u2461"}, {"id": "ref-for-http-headerdef-ad-auction-signals\u2462"}], "title": "11.1. The `Sec-Ad-Auction-Fetch` HTTP\nrequest header"}, {"refs": [{"id": "ref-for-http-headerdef-ad-auction-signals\u2463"}], "title": "11.2. The `Ad-Auction-Signals` HTTP\nresponse header"}, {"refs": [{"id": "ref-for-http-headerdef-ad-auction-signals\u2467"}, {"id": "ref-for-http-headerdef-ad-auction-signals\u2468"}], "title": "12.12. Direct from seller signals"}], "external": false};
window.dfnpanelData['http-headerdef-ad-auction-additional-bid'] = {"dfnID": "http-headerdef-ad-auction-additional-bid", "url": "#http-headerdef-ad-auction-additional-bid", "dfnText": "Ad-Auction-Additional-Bid", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-ad-auction-additional-bid"}, {"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2460"}, {"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2463"}, {"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2464"}, {"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2465"}], "title": "11. Fetch Patch for Auction Headers"}, {"refs": [{"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2461"}, {"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2462"}], "title": "11.3. The `Ad-Auction-Additional-Bid`\nHTTP response header."}, {"refs": [{"id": "ref-for-http-headerdef-ad-auction-additional-bid\u2466"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['concept-update-captured-headers'] = {"dfnID": "concept-update-captured-headers", "url": "#concept-update-captured-headers", "dfnText": "update captured headers", "refSections": [{"refs": [{"id": "ref-for-concept-update-captured-headers"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['handle-ad-auction-signals-header-value'] = {"dfnID": "handle-ad-auction-signals-header-value", "url": "#handle-ad-auction-signals-header-value", "dfnText": "handle ad auction signals header value", "refSections": [{"refs": [{"id": "ref-for-handle-ad-auction-signals-header-value"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['dictdef-previouswin'] = {"dfnID": "dictdef-previouswin", "url": "#dictdef-previouswin", "dfnText": "PreviousWin", "refSections": [{"refs": [{"id": "ref-for-dictdef-previouswin"}, {"id": "ref-for-dictdef-previouswin\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-previouswin\u2461"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-previouswin-timedelta'] = {"dfnID": "dom-previouswin-timedelta", "url": "#dom-previouswin-timedelta", "dfnText": "timeDelta", "refSections": [{"refs": [{"id": "ref-for-dom-previouswin-timedelta"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-previouswin-adjson'] = {"dfnID": "dom-previouswin-adjson", "url": "#dom-previouswin-adjson", "dfnText": "adJSON", "refSections": [{"refs": [{"id": "ref-for-dom-previouswin-adjson"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dictdef-biddingbrowsersignals'] = {"dfnID": "dictdef-biddingbrowsersignals", "url": "#dictdef-biddingbrowsersignals", "dfnText": "BiddingBrowserSignals", "refSections": [{"refs": [{"id": "ref-for-dictdef-biddingbrowsersignals"}, {"id": "ref-for-dictdef-biddingbrowsersignals\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-biddingbrowsersignals\u2461"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-topwindowhostname'] = {"dfnID": "dom-biddingbrowsersignals-topwindowhostname", "url": "#dom-biddingbrowsersignals-topwindowhostname", "dfnText": "topWindowHostname", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-topwindowhostname"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-seller'] = {"dfnID": "dom-biddingbrowsersignals-seller", "url": "#dom-biddingbrowsersignals-seller", "dfnText": "seller", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-seller"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-joincount'] = {"dfnID": "dom-biddingbrowsersignals-joincount", "url": "#dom-biddingbrowsersignals-joincount", "dfnText": "joinCount", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-joincount"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-bidcount'] = {"dfnID": "dom-biddingbrowsersignals-bidcount", "url": "#dom-biddingbrowsersignals-bidcount", "dfnText": "bidCount", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-bidcount"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-recency'] = {"dfnID": "dom-biddingbrowsersignals-recency", "url": "#dom-biddingbrowsersignals-recency", "dfnText": "recency", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-recency"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-toplevelseller'] = {"dfnID": "dom-biddingbrowsersignals-toplevelseller", "url": "#dom-biddingbrowsersignals-toplevelseller", "dfnText": "topLevelSeller", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-toplevelseller"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-biddingbrowsersignals-toplevelseller\u2460"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-prevwinsms'] = {"dfnID": "dom-biddingbrowsersignals-prevwinsms", "url": "#dom-biddingbrowsersignals-prevwinsms", "dfnText": "prevWinsMs", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-prevwinsms"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-wasmhelper'] = {"dfnID": "dom-biddingbrowsersignals-wasmhelper", "url": "#dom-biddingbrowsersignals-wasmhelper", "dfnText": "wasmHelper", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-wasmhelper"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-biddingbrowsersignals-dataversion'] = {"dfnID": "dom-biddingbrowsersignals-dataversion", "url": "#dom-biddingbrowsersignals-dataversion", "dfnText": "dataVersion", "refSections": [{"refs": [{"id": "ref-for-dom-biddingbrowsersignals-dataversion"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dictdef-scoringbrowsersignals'] = {"dfnID": "dictdef-scoringbrowsersignals", "url": "#dictdef-scoringbrowsersignals", "dfnText": "ScoringBrowserSignals", "refSections": [{"refs": [{"id": "ref-for-dictdef-scoringbrowsersignals"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-scoringbrowsersignals\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-dictdef-scoringbrowsersignals\u2461"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-topwindowhostname'] = {"dfnID": "dom-scoringbrowsersignals-topwindowhostname", "url": "#dom-scoringbrowsersignals-topwindowhostname", "dfnText": "topWindowHostname", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-topwindowhostname"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-interestgroupowner'] = {"dfnID": "dom-scoringbrowsersignals-interestgroupowner", "url": "#dom-scoringbrowsersignals-interestgroupowner", "dfnText": "interestGroupOwner", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-interestgroupowner"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-renderurl'] = {"dfnID": "dom-scoringbrowsersignals-renderurl", "url": "#dom-scoringbrowsersignals-renderurl", "dfnText": "renderURL", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-renderurl"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-biddingdurationmsec'] = {"dfnID": "dom-scoringbrowsersignals-biddingdurationmsec", "url": "#dom-scoringbrowsersignals-biddingdurationmsec", "dfnText": "biddingDurationMsec", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-biddingdurationmsec"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-bidcurrency'] = {"dfnID": "dom-scoringbrowsersignals-bidcurrency", "url": "#dom-scoringbrowsersignals-bidcurrency", "dfnText": "bidCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-bidcurrency"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-dataversion'] = {"dfnID": "dom-scoringbrowsersignals-dataversion", "url": "#dom-scoringbrowsersignals-dataversion", "dfnText": "dataVersion", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-dataversion"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-scoringbrowsersignals-adcomponents'] = {"dfnID": "dom-scoringbrowsersignals-adcomponents", "url": "#dom-scoringbrowsersignals-adcomponents", "dfnText": "adComponents", "refSections": [{"refs": [{"id": "ref-for-dom-scoringbrowsersignals-adcomponents"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-scoringbrowsersignals-adcomponents\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dictdef-reportingbrowsersignals'] = {"dfnID": "dictdef-reportingbrowsersignals", "url": "#dictdef-reportingbrowsersignals", "dfnText": "ReportingBrowserSignals", "refSections": [{"refs": [{"id": "ref-for-dictdef-reportingbrowsersignals"}, {"id": "ref-for-dictdef-reportingbrowsersignals\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-reportingbrowsersignals\u2461"}, {"id": "ref-for-dictdef-reportingbrowsersignals\u2462"}, {"id": "ref-for-dictdef-reportingbrowsersignals\u2463"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-topwindowhostname'] = {"dfnID": "dom-reportingbrowsersignals-topwindowhostname", "url": "#dom-reportingbrowsersignals-topwindowhostname", "dfnText": "topWindowHostname", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-topwindowhostname"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-topwindowhostname\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-interestgroupowner'] = {"dfnID": "dom-reportingbrowsersignals-interestgroupowner", "url": "#dom-reportingbrowsersignals-interestgroupowner", "dfnText": "interestGroupOwner", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-interestgroupowner"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-interestgroupowner\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-renderurl'] = {"dfnID": "dom-reportingbrowsersignals-renderurl", "url": "#dom-reportingbrowsersignals-renderurl", "dfnText": "renderURL", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-renderurl"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-renderurl\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-bid'] = {"dfnID": "dom-reportingbrowsersignals-bid", "url": "#dom-reportingbrowsersignals-bid", "dfnText": "bid", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-bid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-bid\u2460"}, {"id": "ref-for-dom-reportingbrowsersignals-bid\u2461"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-highestscoringotherbid'] = {"dfnID": "dom-reportingbrowsersignals-highestscoringotherbid", "url": "#dom-reportingbrowsersignals-highestscoringotherbid", "dfnText": "highestScoringOtherBid", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-highestscoringotherbid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-highestscoringotherbid\u2460"}, {"id": "ref-for-dom-reportingbrowsersignals-highestscoringotherbid\u2461"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-bidcurrency'] = {"dfnID": "dom-reportingbrowsersignals-bidcurrency", "url": "#dom-reportingbrowsersignals-bidcurrency", "dfnText": "bidCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-bidcurrency"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-bidcurrency\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-highestscoringotherbidcurrency'] = {"dfnID": "dom-reportingbrowsersignals-highestscoringotherbidcurrency", "url": "#dom-reportingbrowsersignals-highestscoringotherbidcurrency", "dfnText": "highestScoringOtherBidCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-highestscoringotherbidcurrency"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-highestscoringotherbidcurrency\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-toplevelseller'] = {"dfnID": "dom-reportingbrowsersignals-toplevelseller", "url": "#dom-reportingbrowsersignals-toplevelseller", "dfnText": "topLevelSeller", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-toplevelseller"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-toplevelseller\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-componentseller'] = {"dfnID": "dom-reportingbrowsersignals-componentseller", "url": "#dom-reportingbrowsersignals-componentseller", "dfnText": "componentSeller", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-componentseller"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-componentseller\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportingbrowsersignals-buyerandsellerreportingid'] = {"dfnID": "dom-reportingbrowsersignals-buyerandsellerreportingid", "url": "#dom-reportingbrowsersignals-buyerandsellerreportingid", "dfnText": "buyerAndSellerReportingId", "refSections": [{"refs": [{"id": "ref-for-dom-reportingbrowsersignals-buyerandsellerreportingid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportingbrowsersignals-buyerandsellerreportingid\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dictdef-reportresultbrowsersignals'] = {"dfnID": "dictdef-reportresultbrowsersignals", "url": "#dictdef-reportresultbrowsersignals", "dfnText": "ReportResultBrowserSignals", "refSections": [{"refs": [{"id": "ref-for-dictdef-reportresultbrowsersignals"}, {"id": "ref-for-dictdef-reportresultbrowsersignals\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-reportresultbrowsersignals-desirability'] = {"dfnID": "dom-reportresultbrowsersignals-desirability", "url": "#dom-reportresultbrowsersignals-desirability", "dfnText": "desirability", "refSections": [{"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-desirability"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-desirability\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportresultbrowsersignals-toplevelsellersignals'] = {"dfnID": "dom-reportresultbrowsersignals-toplevelsellersignals", "url": "#dom-reportresultbrowsersignals-toplevelsellersignals", "dfnText": "topLevelSellerSignals", "refSections": [{"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-toplevelsellersignals"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-toplevelsellersignals\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportresultbrowsersignals-modifiedbid'] = {"dfnID": "dom-reportresultbrowsersignals-modifiedbid", "url": "#dom-reportresultbrowsersignals-modifiedbid", "dfnText": "modifiedBid", "refSections": [{"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-modifiedbid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-modifiedbid\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportresultbrowsersignals-dataversion'] = {"dfnID": "dom-reportresultbrowsersignals-dataversion", "url": "#dom-reportresultbrowsersignals-dataversion", "dfnText": "dataVersion", "refSections": [{"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-dataversion"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportresultbrowsersignals-dataversion\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dictdef-reportwinbrowsersignals'] = {"dfnID": "dictdef-reportwinbrowsersignals", "url": "#dictdef-reportwinbrowsersignals", "dfnText": "ReportWinBrowserSignals", "refSections": [{"refs": [{"id": "ref-for-dictdef-reportwinbrowsersignals"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-adcost'] = {"dfnID": "dom-reportwinbrowsersignals-adcost", "url": "#dom-reportwinbrowsersignals-adcost", "dfnText": "adCost", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-adcost"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-adcost\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-seller'] = {"dfnID": "dom-reportwinbrowsersignals-seller", "url": "#dom-reportwinbrowsersignals-seller", "dfnText": "seller", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-seller"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-seller\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-madehighestscoringotherbid'] = {"dfnID": "dom-reportwinbrowsersignals-madehighestscoringotherbid", "url": "#dom-reportwinbrowsersignals-madehighestscoringotherbid", "dfnText": "madeHighestScoringOtherBid", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-madehighestscoringotherbid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-madehighestscoringotherbid\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-interestgroupname'] = {"dfnID": "dom-reportwinbrowsersignals-interestgroupname", "url": "#dom-reportwinbrowsersignals-interestgroupname", "dfnText": "interestGroupName", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-interestgroupname"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-interestgroupname\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-buyerreportingid'] = {"dfnID": "dom-reportwinbrowsersignals-buyerreportingid", "url": "#dom-reportwinbrowsersignals-buyerreportingid", "dfnText": "buyerReportingId", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-buyerreportingid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-buyerreportingid\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-modelingsignals'] = {"dfnID": "dom-reportwinbrowsersignals-modelingsignals", "url": "#dom-reportwinbrowsersignals-modelingsignals", "dfnText": "modelingSignals", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-modelingsignals"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-modelingsignals\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-dataversion'] = {"dfnID": "dom-reportwinbrowsersignals-dataversion", "url": "#dom-reportwinbrowsersignals-dataversion", "dfnText": "dataVersion", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-dataversion"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-dataversion\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-reportwinbrowsersignals-kanonstatus'] = {"dfnID": "dom-reportwinbrowsersignals-kanonstatus", "url": "#dom-reportwinbrowsersignals-kanonstatus", "dfnText": "kAnonStatus", "refSections": [{"refs": [{"id": "ref-for-dom-reportwinbrowsersignals-kanonstatus"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['enumdef-kanonstatus'] = {"dfnID": "enumdef-kanonstatus", "url": "#enumdef-kanonstatus", "dfnText": "KAnonStatus", "refSections": [{"refs": [{"id": "ref-for-enumdef-kanonstatus"}, {"id": "ref-for-enumdef-kanonstatus\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-kanonstatus-passedandenforced'] = {"dfnID": "dom-kanonstatus-passedandenforced", "url": "#dom-kanonstatus-passedandenforced", "dfnText": "\"passedAndEnforced\"", "refSections": [{"refs": [{"id": "ref-for-dom-kanonstatus-passedandenforced"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-kanonstatus-passednotenforced'] = {"dfnID": "dom-kanonstatus-passednotenforced", "url": "#dom-kanonstatus-passednotenforced", "dfnText": "\"passedNotEnforced\"", "refSections": [{"refs": [{"id": "ref-for-dom-kanonstatus-passednotenforced"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-kanonstatus-belowthreshold'] = {"dfnID": "dom-kanonstatus-belowthreshold", "url": "#dom-kanonstatus-belowthreshold", "dfnText": "\"belowThreshold\"", "refSections": [{"refs": [{"id": "ref-for-dom-kanonstatus-belowthreshold"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dom-kanonstatus-notcalculated'] = {"dfnID": "dom-kanonstatus-notcalculated", "url": "#dom-kanonstatus-notcalculated", "dfnText": "\"notCalculated\"", "refSections": [{"refs": [{"id": "ref-for-dom-kanonstatus-notcalculated"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['dictdef-directfromsellersignalsforbuyer'] = {"dfnID": "dictdef-directfromsellersignalsforbuyer", "url": "#dictdef-directfromsellersignalsforbuyer", "dfnText": "DirectFromSellerSignalsForBuyer", "refSections": [{"refs": [{"id": "ref-for-dictdef-directfromsellersignalsforbuyer"}, {"id": "ref-for-dictdef-directfromsellersignalsforbuyer\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-directfromsellersignalsforbuyer\u2461"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['dictdef-directfromsellersignalsforseller'] = {"dfnID": "dictdef-directfromsellersignalsforseller", "url": "#dictdef-directfromsellersignalsforseller", "dfnText": "DirectFromSellerSignalsForSeller", "refSections": [{"refs": [{"id": "ref-for-dictdef-directfromsellersignalsforseller"}, {"id": "ref-for-dictdef-directfromsellersignalsforseller\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dictdef-directfromsellersignalsforseller\u2461"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['interest-group'] = {"dfnID": "interest-group", "url": "#interest-group", "dfnText": "12.1. Interest group", "refSections": [{"refs": [{"id": "ref-for-interest-group"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-interest-group\u2460"}, {"id": "ref-for-interest-group\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group\u2462"}, {"id": "ref-for-interest-group\u2463"}, {"id": "ref-for-interest-group\u2464"}, {"id": "ref-for-interest-group\u2465"}, {"id": "ref-for-interest-group\u2466"}, {"id": "ref-for-interest-group\u2467"}, {"id": "ref-for-interest-group\u2468"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-interest-group\u2460\u24ea"}, {"id": "ref-for-interest-group\u2460\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group\u2460\u2461"}, {"id": "ref-for-interest-group\u2460\u2462"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-interest-group\u2460\u2463"}, {"id": "ref-for-interest-group\u2460\u2464"}, {"id": "ref-for-interest-group\u2460\u2465"}, {"id": "ref-for-interest-group\u2460\u2466"}, {"id": "ref-for-interest-group\u2460\u2467"}, {"id": "ref-for-interest-group\u2460\u2468"}, {"id": "ref-for-interest-group\u2461\u24ea"}, {"id": "ref-for-interest-group\u2461\u2460"}, {"id": "ref-for-interest-group\u2461\u2461"}, {"id": "ref-for-interest-group\u2461\u2462"}, {"id": "ref-for-interest-group\u2461\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group\u2461\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group\u2461\u2465"}, {"id": "ref-for-interest-group\u2461\u2466"}, {"id": "ref-for-interest-group\u2461\u2467"}, {"id": "ref-for-interest-group\u2461\u2468"}, {"id": "ref-for-interest-group\u2462\u24ea"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group\u2462\u2460"}], "title": "7. Script Runners"}, {"refs": [{"id": "ref-for-interest-group\u2462\u2461"}, {"id": "ref-for-interest-group\u2462\u2462"}, {"id": "ref-for-interest-group\u2462\u2463"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group\u2462\u2464"}, {"id": "ref-for-interest-group\u2462\u2465"}, {"id": "ref-for-interest-group\u2462\u2466"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-interest-group\u2462\u2467"}, {"id": "ref-for-interest-group\u2462\u2468"}, {"id": "ref-for-interest-group\u2463\u24ea"}, {"id": "ref-for-interest-group\u2463\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group\u2463\u2461"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-interest-group"}, {"id": "ref-for-interest-group\u2463\u2462"}, {"id": "ref-for-interest-group\u2463\u2463"}, {"id": "ref-for-interest-group\u2463\u2464"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-interest-group\u2463\u2465"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-interest-group\u2463\u2466"}], "title": "12.6. Per signals url bid generator"}, {"refs": [{"id": "ref-for-interest-group\u2463\u2467"}, {"id": "ref-for-interest-group\u2463\u2468"}], "title": "12.7. Previous win"}, {"refs": [{"id": "ref-for-interest-group\u2464\u24ea"}, {"id": "ref-for-interest-group\u2464\u2460"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['interest-group-expiry'] = {"dfnID": "interest-group-expiry", "url": "#interest-group-expiry", "dfnText": "expiry", "refSections": [{"refs": [{"id": "ref-for-interest-group-expiry"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-expiry\u2460"}, {"id": "ref-for-interest-group-expiry\u2461"}, {"id": "ref-for-interest-group-expiry\u2462"}, {"id": "ref-for-interest-group-expiry\u2463"}, {"id": "ref-for-interest-group-expiry\u2464"}, {"id": "ref-for-interest-group-expiry\u2465"}, {"id": "ref-for-interest-group-expiry\u2466"}, {"id": "ref-for-interest-group-expiry\u2467"}, {"id": "ref-for-interest-group-expiry\u2468"}, {"id": "ref-for-interest-group-expiry\u2460\u24ea"}], "title": "2.2. Interest Group Storage Maintenance"}], "external": false};
window.dfnpanelData['interest-group-owner'] = {"dfnID": "interest-group-owner", "url": "#interest-group-owner", "dfnText": "owner", "refSections": [{"refs": [{"id": "ref-for-interest-group-owner"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-interest-group-owner\u2460"}, {"id": "ref-for-interest-group-owner\u2461"}, {"id": "ref-for-interest-group-owner\u2462"}, {"id": "ref-for-interest-group-owner\u2463"}, {"id": "ref-for-interest-group-owner\u2464"}, {"id": "ref-for-interest-group-owner\u2465"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-owner\u2466"}, {"id": "ref-for-interest-group-owner\u2467"}, {"id": "ref-for-interest-group-owner\u2468"}, {"id": "ref-for-interest-group-owner\u2460\u24ea"}, {"id": "ref-for-interest-group-owner\u2460\u2460"}, {"id": "ref-for-interest-group-owner\u2460\u2461"}, {"id": "ref-for-interest-group-owner\u2460\u2462"}, {"id": "ref-for-interest-group-owner\u2460\u2463"}, {"id": "ref-for-interest-group-owner\u2460\u2464"}, {"id": "ref-for-interest-group-owner\u2460\u2465"}, {"id": "ref-for-interest-group-owner\u2460\u2466"}, {"id": "ref-for-interest-group-owner\u2460\u2467"}, {"id": "ref-for-interest-group-owner\u2460\u2468"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-interest-group-owner\u2461\u24ea"}, {"id": "ref-for-interest-group-owner\u2461\u2460"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-owner\u2461\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-interest-group-owner\u2461\u2462"}, {"id": "ref-for-interest-group-owner\u2461\u2463"}, {"id": "ref-for-interest-group-owner\u2461\u2464"}, {"id": "ref-for-interest-group-owner\u2461\u2465"}, {"id": "ref-for-interest-group-owner\u2461\u2466"}, {"id": "ref-for-interest-group-owner\u2461\u2467"}, {"id": "ref-for-interest-group-owner\u2461\u2468"}, {"id": "ref-for-interest-group-owner\u2462\u24ea"}, {"id": "ref-for-interest-group-owner\u2462\u2460"}, {"id": "ref-for-interest-group-owner\u2462\u2461"}, {"id": "ref-for-interest-group-owner\u2462\u2462"}, {"id": "ref-for-interest-group-owner\u2462\u2463"}, {"id": "ref-for-interest-group-owner\u2462\u2464"}, {"id": "ref-for-interest-group-owner\u2462\u2465"}, {"id": "ref-for-interest-group-owner\u2462\u2466"}, {"id": "ref-for-interest-group-owner\u2462\u2467"}, {"id": "ref-for-interest-group-owner\u2462\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-owner\u2463\u24ea"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-owner\u2463\u2460"}, {"id": "ref-for-interest-group-owner\u2463\u2461"}, {"id": "ref-for-interest-group-owner\u2463\u2462"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-interest-group-owner\u2463\u2463"}, {"id": "ref-for-interest-group-owner\u2463\u2464"}, {"id": "ref-for-interest-group-owner\u2463\u2465"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-owner\u2463\u2466"}, {"id": "ref-for-interest-group-owner\u2463\u2467"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group-owner\u2463\u2468"}, {"id": "ref-for-interest-group-owner\u2464\u24ea"}, {"id": "ref-for-interest-group-owner\u2464\u2460"}, {"id": "ref-for-interest-group-owner\u2464\u2461"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-owner\u2464\u2462"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-interest-group-owner\u2464\u2463"}, {"id": "ref-for-interest-group-owner\u2464\u2464"}, {"id": "ref-for-interest-group-owner\u2464\u2465"}, {"id": "ref-for-interest-group-owner\u2464\u2466"}, {"id": "ref-for-interest-group-owner\u2464\u2467"}, {"id": "ref-for-interest-group-owner\u2464\u2468"}, {"id": "ref-for-interest-group-owner\u2465\u24ea"}, {"id": "ref-for-interest-group-owner\u2465\u2460"}, {"id": "ref-for-interest-group-owner\u2465\u2461"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-name'] = {"dfnID": "interest-group-name", "url": "#interest-group-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-interest-group-name"}], "title": "2. Joining Interest Groups"}, {"refs": [{"id": "ref-for-interest-group-name\u2460"}, {"id": "ref-for-interest-group-name\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-name\u2462"}, {"id": "ref-for-interest-group-name\u2463"}], "title": "3.1. leaveAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-name\u2464"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-interest-group-name\u2465"}, {"id": "ref-for-interest-group-name\u2466"}, {"id": "ref-for-interest-group-name\u2467"}, {"id": "ref-for-interest-group-name\u2468"}, {"id": "ref-for-interest-group-name\u2460\u24ea"}, {"id": "ref-for-interest-group-name\u2460\u2460"}, {"id": "ref-for-interest-group-name\u2460\u2461"}, {"id": "ref-for-interest-group-name\u2460\u2462"}, {"id": "ref-for-interest-group-name\u2460\u2463"}, {"id": "ref-for-interest-group-name\u2460\u2464"}, {"id": "ref-for-interest-group-name\u2460\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-name\u2460\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-name\u2460\u2467"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-interest-group-name\u2460\u2468"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-name\u2461\u24ea"}, {"id": "ref-for-interest-group-name\u2461\u2460"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group-name\u2461\u2461"}, {"id": "ref-for-interest-group-name\u2461\u2462"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-name\u2461\u2463"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-priority'] = {"dfnID": "interest-group-priority", "url": "#interest-group-priority", "dfnText": "priority", "refSections": [{"refs": [{"id": "ref-for-interest-group-priority"}, {"id": "ref-for-interest-group-priority\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-priority\u2461"}, {"id": "ref-for-interest-group-priority\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-priority\u2463"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group-priority\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-priority\u2465"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-enable-bidding-signals-prioritization'] = {"dfnID": "interest-group-enable-bidding-signals-prioritization", "url": "#interest-group-enable-bidding-signals-prioritization", "dfnText": "enable bidding signals prioritization", "refSections": [{"refs": [{"id": "ref-for-interest-group-enable-bidding-signals-prioritization"}, {"id": "ref-for-interest-group-enable-bidding-signals-prioritization\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-enable-bidding-signals-prioritization\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-enable-bidding-signals-prioritization\u2462"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-priority-vector'] = {"dfnID": "interest-group-priority-vector", "url": "#interest-group-priority-vector", "dfnText": "priority vector", "refSections": [{"refs": [{"id": "ref-for-interest-group-priority-vector"}, {"id": "ref-for-interest-group-priority-vector\u2460"}, {"id": "ref-for-interest-group-priority-vector\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-priority-vector\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-priority-vector\u2463"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-priority-vector\u2464"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['interest-group-priority-signals-overrides'] = {"dfnID": "interest-group-priority-signals-overrides", "url": "#interest-group-priority-signals-overrides", "dfnText": "priority signals overrides", "refSections": [{"refs": [{"id": "ref-for-interest-group-priority-signals-overrides"}, {"id": "ref-for-interest-group-priority-signals-overrides\u2460"}, {"id": "ref-for-interest-group-priority-signals-overrides\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-priority-signals-overrides\u2462"}, {"id": "ref-for-interest-group-priority-signals-overrides\u2463"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group-priority-signals-overrides\u2464"}, {"id": "ref-for-interest-group-priority-signals-overrides\u2465"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-execution-mode'] = {"dfnID": "interest-group-execution-mode", "url": "#interest-group-execution-mode", "dfnText": "execution mode", "refSections": [{"refs": [{"id": "ref-for-interest-group-execution-mode"}, {"id": "ref-for-interest-group-execution-mode\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-execution-mode\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-execution-mode\u2462"}], "title": "7.1. Realm and agent"}, {"refs": [{"id": "ref-for-interest-group-execution-mode\u2463"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-bidding-url'] = {"dfnID": "interest-group-bidding-url", "url": "#interest-group-bidding-url", "dfnText": "bidding url", "refSections": [{"refs": [{"id": "ref-for-interest-group-bidding-url"}, {"id": "ref-for-interest-group-bidding-url\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-bidding-url\u2461"}, {"id": "ref-for-interest-group-bidding-url\u2462"}, {"id": "ref-for-interest-group-bidding-url\u2463"}, {"id": "ref-for-interest-group-bidding-url\u2464"}, {"id": "ref-for-interest-group-bidding-url\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-bidding-url\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-bidding-url\u2467"}, {"id": "ref-for-interest-group-bidding-url\u2468"}, {"id": "ref-for-interest-group-bidding-url\u2460\u24ea"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-bidding-url\u2460\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-bidding-url\u2460\u2461"}, {"id": "ref-for-interest-group-bidding-url\u2460\u2462"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-bidding-wasm-helper-url'] = {"dfnID": "interest-group-bidding-wasm-helper-url", "url": "#interest-group-bidding-wasm-helper-url", "dfnText": "bidding wasm helper url", "refSections": [{"refs": [{"id": "ref-for-interest-group-bidding-wasm-helper-url"}, {"id": "ref-for-interest-group-bidding-wasm-helper-url\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-bidding-wasm-helper-url\u2461"}, {"id": "ref-for-interest-group-bidding-wasm-helper-url\u2462"}, {"id": "ref-for-interest-group-bidding-wasm-helper-url\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-bidding-wasm-helper-url\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-bidding-wasm-helper-url\u2465"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-update-url'] = {"dfnID": "interest-group-update-url", "url": "#interest-group-update-url", "dfnText": "update url", "refSections": [{"refs": [{"id": "ref-for-interest-group-update-url"}, {"id": "ref-for-interest-group-update-url\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-update-url\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-update-url\u2462"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-interest-group-update-url\u2463"}, {"id": "ref-for-interest-group-update-url\u2464"}, {"id": "ref-for-interest-group-update-url\u2465"}, {"id": "ref-for-interest-group-update-url\u2466"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-update-url\u2467"}, {"id": "ref-for-interest-group-update-url\u2468"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-trusted-bidding-signals-url'] = {"dfnID": "interest-group-trusted-bidding-signals-url", "url": "#interest-group-trusted-bidding-signals-url", "dfnText": "trusted bidding signals url", "refSections": [{"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-url"}, {"id": "ref-for-interest-group-trusted-bidding-signals-url\u2460"}, {"id": "ref-for-interest-group-trusted-bidding-signals-url\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-url\u2462"}, {"id": "ref-for-interest-group-trusted-bidding-signals-url\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-url\u2464"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-url\u2465"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-url\u2466"}], "title": "12.5. Per buyer bid generator"}], "external": false};
window.dfnpanelData['interest-group-trusted-bidding-signals-keys'] = {"dfnID": "interest-group-trusted-bidding-signals-keys", "url": "#interest-group-trusted-bidding-signals-keys", "dfnText": "trusted bidding signals keys", "refSections": [{"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-keys"}, {"id": "ref-for-interest-group-trusted-bidding-signals-keys\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-keys\u2461"}, {"id": "ref-for-interest-group-trusted-bidding-signals-keys\u2462"}, {"id": "ref-for-interest-group-trusted-bidding-signals-keys\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-trusted-bidding-signals-keys\u2464"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-user-bidding-signals'] = {"dfnID": "interest-group-user-bidding-signals", "url": "#interest-group-user-bidding-signals", "dfnText": "user bidding signals", "refSections": [{"refs": [{"id": "ref-for-interest-group-user-bidding-signals"}, {"id": "ref-for-interest-group-user-bidding-signals\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-user-bidding-signals\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['interest-group-ads'] = {"dfnID": "interest-group-ads", "url": "#interest-group-ads", "dfnText": "ads", "refSections": [{"refs": [{"id": "ref-for-interest-group-ads"}, {"id": "ref-for-interest-group-ads\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ads\u2461"}, {"id": "ref-for-interest-group-ads\u2462"}, {"id": "ref-for-interest-group-ads\u2463"}, {"id": "ref-for-interest-group-ads\u2464"}, {"id": "ref-for-interest-group-ads\u2465"}, {"id": "ref-for-interest-group-ads\u2466"}, {"id": "ref-for-interest-group-ads\u2467"}, {"id": "ref-for-interest-group-ads\u2468"}, {"id": "ref-for-interest-group-ads\u2460\u24ea"}, {"id": "ref-for-interest-group-ads\u2460\u2460"}, {"id": "ref-for-interest-group-ads\u2460\u2461"}, {"id": "ref-for-interest-group-ads\u2460\u2462"}, {"id": "ref-for-interest-group-ads\u2460\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ads\u2460\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-ads\u2460\u2465"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-interest-group-ads\u2460\u2466"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-ads\u2460\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-interest-group-ads\u2460\u2468"}, {"id": "ref-for-interest-group-ads\u2461\u24ea"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-ads\u2461\u2460"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-interest-group-ads\u2461\u2461"}, {"id": "ref-for-interest-group-ads\u2461\u2462"}, {"id": "ref-for-interest-group-ads\u2461\u2463"}], "title": "12.2. Interest group ad"}], "external": false};
window.dfnpanelData['interest-group-ad-components'] = {"dfnID": "interest-group-ad-components", "url": "#interest-group-ad-components", "dfnText": "ad components", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad-components"}, {"id": "ref-for-interest-group-ad-components\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2461"}, {"id": "ref-for-interest-group-ad-components\u2462"}, {"id": "ref-for-interest-group-ad-components\u2463"}, {"id": "ref-for-interest-group-ad-components\u2464"}, {"id": "ref-for-interest-group-ad-components\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2467"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2468"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2460\u24ea"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2460\u2460"}, {"id": "ref-for-interest-group-ad-components\u2460\u2461"}, {"id": "ref-for-interest-group-ad-components\u2460\u2462"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-interest-group-ad-components\u2460\u2463"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['interest-group-additional-bid-key'] = {"dfnID": "interest-group-additional-bid-key", "url": "#interest-group-additional-bid-key", "dfnText": "additional bid key", "refSections": [{"refs": [{"id": "ref-for-interest-group-additional-bid-key"}, {"id": "ref-for-interest-group-additional-bid-key\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-additional-bid-key\u2461"}, {"id": "ref-for-interest-group-additional-bid-key\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-additional-bid-key\u2463"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-interest-group-additional-bid-key\u2464"}], "title": "5.3.1. Negative Interest Groups"}, {"refs": [{"id": "ref-for-interest-group-additional-bid-key\u2465"}, {"id": "ref-for-interest-group-additional-bid-key\u2466"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-additional-bid-key\u2467"}, {"id": "ref-for-interest-group-additional-bid-key\u2468"}, {"id": "ref-for-interest-group-additional-bid-key\u2460\u24ea"}, {"id": "ref-for-interest-group-additional-bid-key\u2460\u2460"}], "title": "12.1. Interest group"}], "external": false};
window.dfnpanelData['interest-group-joining-origin'] = {"dfnID": "interest-group-joining-origin", "url": "#interest-group-joining-origin", "dfnText": "joining origin", "refSections": [{"refs": [{"id": "ref-for-interest-group-joining-origin"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-joining-origin\u2460"}, {"id": "ref-for-interest-group-joining-origin\u2461"}], "title": "3.2. clearOriginJoinedAdInterestGroups()"}, {"refs": [{"id": "ref-for-interest-group-joining-origin\u2462"}, {"id": "ref-for-interest-group-joining-origin\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-joining-origin\u2464"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-interest-group-joining-origin\u2465"}], "title": "12.6. Per signals url bid generator"}], "external": false};
window.dfnpanelData['interest-group-join-counts'] = {"dfnID": "interest-group-join-counts", "url": "#interest-group-join-counts", "dfnText": "join counts", "refSections": [{"refs": [{"id": "ref-for-interest-group-join-counts"}, {"id": "ref-for-interest-group-join-counts\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-join-counts\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['interest-group-join-time'] = {"dfnID": "interest-group-join-time", "url": "#interest-group-join-time", "dfnText": "join time", "refSections": [{"refs": [{"id": "ref-for-interest-group-join-time"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-join-time\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['interest-group-bid-counts'] = {"dfnID": "interest-group-bid-counts", "url": "#interest-group-bid-counts", "dfnText": "bid counts", "refSections": [{"refs": [{"id": "ref-for-interest-group-bid-counts"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-bid-counts\u2460"}, {"id": "ref-for-interest-group-bid-counts\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['interest-group-previous-wins'] = {"dfnID": "interest-group-previous-wins", "url": "#interest-group-previous-wins", "dfnText": "previous wins", "refSections": [{"refs": [{"id": "ref-for-interest-group-previous-wins"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-previous-wins\u2460"}, {"id": "ref-for-interest-group-previous-wins\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['interest-group-next-update-after'] = {"dfnID": "interest-group-next-update-after", "url": "#interest-group-next-update-after", "dfnText": "next update after", "refSections": [{"refs": [{"id": "ref-for-interest-group-next-update-after"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-next-update-after\u2460"}, {"id": "ref-for-interest-group-next-update-after\u2461"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['regular-interest-group'] = {"dfnID": "regular-interest-group", "url": "#regular-interest-group", "dfnText": "regular interest group", "refSections": [{"refs": [{"id": "ref-for-regular-interest-group"}, {"id": "ref-for-regular-interest-group\u2460"}, {"id": "ref-for-regular-interest-group\u2461"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-regular-interest-group\u2462"}, {"id": "ref-for-regular-interest-group\u2463"}], "title": "5.3.1. Negative Interest Groups"}], "external": false};
window.dfnpanelData['negative-interest-group'] = {"dfnID": "negative-interest-group", "url": "#negative-interest-group", "dfnText": "negative interest group", "refSections": [{"refs": [{"id": "ref-for-negative-interest-group"}, {"id": "ref-for-negative-interest-group\u2460"}, {"id": "ref-for-negative-interest-group\u2461"}], "title": "2.2. Interest Group Storage Maintenance"}, {"refs": [{"id": "ref-for-negative-interest-group\u2462"}, {"id": "ref-for-negative-interest-group\u2463"}, {"id": "ref-for-negative-interest-group\u2464"}, {"id": "ref-for-negative-interest-group\u2465"}, {"id": "ref-for-negative-interest-group\u2466"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-negative-interest-group\u2467"}, {"id": "ref-for-negative-interest-group\u2468"}, {"id": "ref-for-negative-interest-group\u2460\u24ea"}, {"id": "ref-for-negative-interest-group\u2460\u2460"}, {"id": "ref-for-negative-interest-group\u2460\u2461"}, {"id": "ref-for-negative-interest-group\u2460\u2462"}, {"id": "ref-for-negative-interest-group\u2460\u2463"}, {"id": "ref-for-negative-interest-group\u2460\u2464"}], "title": "5.3.1. Negative Interest Groups"}], "external": false};
window.dfnpanelData['interest-group-ad'] = {"dfnID": "interest-group-ad", "url": "#interest-group-ad", "dfnText": "12.2. Interest group ad", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad\u2460"}, {"id": "ref-for-interest-group-ad\u2461"}, {"id": "ref-for-interest-group-ad\u2462"}, {"id": "ref-for-interest-group-ad\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ad\u2464"}, {"id": "ref-for-interest-group-ad\u2465"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-ad\u2466"}, {"id": "ref-for-interest-group-ad\u2467"}, {"id": "ref-for-interest-group-ad\u2468"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-ad\u2460\u24ea"}, {"id": "ref-for-interest-group-ad\u2460\u2460"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-ad\u2460\u2461"}, {"id": "ref-for-interest-group-ad\u2460\u2462"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-interest-group-ad"}], "title": "12.2. Interest group ad"}, {"refs": [{"id": "ref-for-interest-group-ad\u2460\u2463"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['interest-group-ad-render-url'] = {"dfnID": "interest-group-ad-render-url", "url": "#interest-group-ad-render-url", "dfnText": "render url", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad-render-url"}, {"id": "ref-for-interest-group-ad-render-url\u2460"}, {"id": "ref-for-interest-group-ad-render-url\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad-render-url\u2462"}, {"id": "ref-for-interest-group-ad-render-url\u2463"}, {"id": "ref-for-interest-group-ad-render-url\u2464"}, {"id": "ref-for-interest-group-ad-render-url\u2465"}, {"id": "ref-for-interest-group-ad-render-url\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ad-render-url\u2467"}, {"id": "ref-for-interest-group-ad-render-url\u2468"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-ad-render-url\u2460\u24ea"}, {"id": "ref-for-interest-group-ad-render-url\u2460\u2460"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-ad-render-url\u2460\u2461"}, {"id": "ref-for-interest-group-ad-render-url\u2460\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-interest-group-ad-render-url\u2460\u2463"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-ad-metadata'] = {"dfnID": "interest-group-ad-metadata", "url": "#interest-group-ad-metadata", "dfnText": "metadata", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad-metadata"}, {"id": "ref-for-interest-group-ad-metadata\u2460"}, {"id": "ref-for-interest-group-ad-metadata\u2461"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad-metadata\u2462"}, {"id": "ref-for-interest-group-ad-metadata\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ad-metadata\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-interest-group-ad-metadata\u2465"}], "title": "8. Interest Group Updates"}], "external": false};
window.dfnpanelData['interest-group-ad-buyer-reporting-id'] = {"dfnID": "interest-group-ad-buyer-reporting-id", "url": "#interest-group-ad-buyer-reporting-id", "dfnText": "buyer reporting ID", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad-buyer-reporting-id"}, {"id": "ref-for-interest-group-ad-buyer-reporting-id\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-reporting-id\u2461"}, {"id": "ref-for-interest-group-ad-buyer-reporting-id\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-reporting-id\u2463"}, {"id": "ref-for-interest-group-ad-buyer-reporting-id\u2464"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-reporting-id\u2465"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-reporting-id\u2466"}, {"id": "ref-for-interest-group-ad-buyer-reporting-id\u2467"}], "title": "12. Structures"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-reporting-id\u2468"}], "title": "12.2. Interest group ad"}], "external": false};
window.dfnpanelData['interest-group-ad-buyer-and-seller-reporting-id'] = {"dfnID": "interest-group-ad-buyer-and-seller-reporting-id", "url": "#interest-group-ad-buyer-and-seller-reporting-id", "dfnText": "buyer and seller reporting ID", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id"}, {"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2461"}, {"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2462"}, {"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2464"}, {"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2465"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2466"}], "title": "8. Interest Group Updates"}, {"refs": [{"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2467"}, {"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2468"}, {"id": "ref-for-interest-group-ad-buyer-and-seller-reporting-id\u2460\u24ea"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['interest-group-ad-allowed-reporting-origins'] = {"dfnID": "interest-group-ad-allowed-reporting-origins", "url": "#interest-group-ad-allowed-reporting-origins", "dfnText": "allowed reporting origins", "refSections": [{"refs": [{"id": "ref-for-interest-group-ad-allowed-reporting-origins"}, {"id": "ref-for-interest-group-ad-allowed-reporting-origins\u2460"}], "title": "2.1. navigator.joinAdInterestGroup()"}, {"refs": [{"id": "ref-for-interest-group-ad-allowed-reporting-origins\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['currency-tag'] = {"dfnID": "currency-tag", "url": "#currency-tag", "dfnText": "12.3. Currency tag", "refSections": [{"refs": [{"id": "ref-for-currency-tag"}, {"id": "ref-for-currency-tag\u2460"}, {"id": "ref-for-currency-tag\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-currency-tag\u2462"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-currency-tag\u2463"}, {"id": "ref-for-currency-tag\u2464"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-currency-tag"}, {"id": "ref-for-currency-tag\u2465"}, {"id": "ref-for-currency-tag\u2466"}], "title": "12.3. Currency tag"}, {"refs": [{"id": "ref-for-currency-tag\u2467"}, {"id": "ref-for-currency-tag\u2468"}, {"id": "ref-for-currency-tag\u2460\u24ea"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-currency-tag\u2460\u2460"}], "title": "12.8. Bid with currency"}], "external": false};
window.dfnpanelData['serialize-a-currency-tag'] = {"dfnID": "serialize-a-currency-tag", "url": "#serialize-a-currency-tag", "dfnText": "serialize a currency tag", "refSections": [{"refs": [{"id": "ref-for-serialize-a-currency-tag"}, {"id": "ref-for-serialize-a-currency-tag\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['check-whether-a-string-is-a-valid-currency-tag'] = {"dfnID": "check-whether-a-string-is-a-valid-currency-tag", "url": "#check-whether-a-string-is-a-valid-currency-tag", "dfnText": "check whether a string is a valid currency tag", "refSections": [{"refs": [{"id": "ref-for-check-whether-a-string-is-a-valid-currency-tag"}, {"id": "ref-for-check-whether-a-string-is-a-valid-currency-tag\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-check-whether-a-string-is-a-valid-currency-tag\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-check-whether-a-string-is-a-valid-currency-tag\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-check-whether-a-string-is-a-valid-currency-tag\u2463"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['check-a-currency-tag'] = {"dfnID": "check-a-currency-tag", "url": "#check-a-currency-tag", "dfnText": "check a currency tag", "refSections": [{"refs": [{"id": "ref-for-check-a-currency-tag"}, {"id": "ref-for-check-a-currency-tag\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-check-a-currency-tag\u2461"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-check-a-currency-tag\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['auction-config'] = {"dfnID": "auction-config", "url": "#auction-config", "dfnText": "12.4. Auction config", "refSections": [{"refs": [{"id": "ref-for-auction-config"}, {"id": "ref-for-auction-config\u2460"}, {"id": "ref-for-auction-config\u2461"}, {"id": "ref-for-auction-config\u2462"}, {"id": "ref-for-auction-config\u2463"}, {"id": "ref-for-auction-config\u2464"}, {"id": "ref-for-auction-config\u2465"}, {"id": "ref-for-auction-config\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config\u2467"}, {"id": "ref-for-auction-config\u2468"}, {"id": "ref-for-auction-config\u2460\u24ea"}, {"id": "ref-for-auction-config\u2460\u2460"}, {"id": "ref-for-auction-config\u2460\u2461"}, {"id": "ref-for-auction-config\u2460\u2462"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-auction-config"}, {"id": "ref-for-auction-config\u2460\u2463"}, {"id": "ref-for-auction-config\u2460\u2464"}, {"id": "ref-for-auction-config\u2460\u2465"}, {"id": "ref-for-auction-config\u2460\u2466"}, {"id": "ref-for-auction-config\u2460\u2467"}, {"id": "ref-for-auction-config\u2460\u2468"}, {"id": "ref-for-auction-config\u2461\u24ea"}], "title": "12.4. Auction config"}, {"refs": [{"id": "ref-for-auction-config\u2461\u2460"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['auction-config-seller'] = {"dfnID": "auction-config-seller", "url": "#auction-config-seller", "dfnText": "seller", "refSections": [{"refs": [{"id": "ref-for-auction-config-seller"}, {"id": "ref-for-auction-config-seller\u2460"}, {"id": "ref-for-auction-config-seller\u2461"}, {"id": "ref-for-auction-config-seller\u2462"}, {"id": "ref-for-auction-config-seller\u2463"}, {"id": "ref-for-auction-config-seller\u2464"}, {"id": "ref-for-auction-config-seller\u2465"}, {"id": "ref-for-auction-config-seller\u2466"}, {"id": "ref-for-auction-config-seller\u2467"}, {"id": "ref-for-auction-config-seller\u2468"}, {"id": "ref-for-auction-config-seller\u2460\u24ea"}, {"id": "ref-for-auction-config-seller\u2460\u2460"}, {"id": "ref-for-auction-config-seller\u2460\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-seller\u2460\u2462"}, {"id": "ref-for-auction-config-seller\u2460\u2463"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-auction-config-seller\u2460\u2464"}, {"id": "ref-for-auction-config-seller\u2460\u2465"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-decision-logic-url'] = {"dfnID": "auction-config-decision-logic-url", "url": "#auction-config-decision-logic-url", "dfnText": "decision logic url", "refSections": [{"refs": [{"id": "ref-for-auction-config-decision-logic-url"}, {"id": "ref-for-auction-config-decision-logic-url\u2460"}, {"id": "ref-for-auction-config-decision-logic-url\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-decision-logic-url\u2462"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-trusted-scoring-signals-url'] = {"dfnID": "auction-config-trusted-scoring-signals-url", "url": "#auction-config-trusted-scoring-signals-url", "dfnText": "trusted scoring signals url", "refSections": [{"refs": [{"id": "ref-for-auction-config-trusted-scoring-signals-url"}, {"id": "ref-for-auction-config-trusted-scoring-signals-url\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-trusted-scoring-signals-url\u2461"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-interest-group-buyers'] = {"dfnID": "auction-config-interest-group-buyers", "url": "#auction-config-interest-group-buyers", "dfnText": "interest group buyers", "refSections": [{"refs": [{"id": "ref-for-auction-config-interest-group-buyers"}, {"id": "ref-for-auction-config-interest-group-buyers\u2460"}, {"id": "ref-for-auction-config-interest-group-buyers\u2461"}, {"id": "ref-for-auction-config-interest-group-buyers\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-interest-group-buyers\u2463"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['auction-config-auction-signals'] = {"dfnID": "auction-config-auction-signals", "url": "#auction-config-auction-signals", "dfnText": "auction signals", "refSections": [{"refs": [{"id": "ref-for-auction-config-auction-signals"}, {"id": "ref-for-auction-config-auction-signals\u2460"}, {"id": "ref-for-auction-config-auction-signals\u2461"}, {"id": "ref-for-auction-config-auction-signals\u2462"}, {"id": "ref-for-auction-config-auction-signals\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-auction-signals\u2464"}, {"id": "ref-for-auction-config-auction-signals\u2465"}, {"id": "ref-for-auction-config-auction-signals\u2466"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-seller-signals'] = {"dfnID": "auction-config-seller-signals", "url": "#auction-config-seller-signals", "dfnText": "seller signals", "refSections": [{"refs": [{"id": "ref-for-auction-config-seller-signals"}, {"id": "ref-for-auction-config-seller-signals\u2460"}, {"id": "ref-for-auction-config-seller-signals\u2461"}, {"id": "ref-for-auction-config-seller-signals\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-seller-signals\u2463"}, {"id": "ref-for-auction-config-seller-signals\u2464"}, {"id": "ref-for-auction-config-seller-signals\u2465"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-seller-timeout'] = {"dfnID": "auction-config-seller-timeout", "url": "#auction-config-seller-timeout", "dfnText": "seller timeout", "refSections": [{"refs": [{"id": "ref-for-auction-config-seller-timeout"}, {"id": "ref-for-auction-config-seller-timeout\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-signals'] = {"dfnID": "auction-config-per-buyer-signals", "url": "#auction-config-per-buyer-signals", "dfnText": "per buyer signals", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-signals"}, {"id": "ref-for-auction-config-per-buyer-signals\u2460"}, {"id": "ref-for-auction-config-per-buyer-signals\u2461"}, {"id": "ref-for-auction-config-per-buyer-signals\u2462"}, {"id": "ref-for-auction-config-per-buyer-signals\u2463"}, {"id": "ref-for-auction-config-per-buyer-signals\u2464"}, {"id": "ref-for-auction-config-per-buyer-signals\u2465"}, {"id": "ref-for-auction-config-per-buyer-signals\u2466"}, {"id": "ref-for-auction-config-per-buyer-signals\u2467"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-per-buyer-signals\u2468"}, {"id": "ref-for-auction-config-per-buyer-signals\u2460\u24ea"}, {"id": "ref-for-auction-config-per-buyer-signals\u2460\u2460"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-timeouts'] = {"dfnID": "auction-config-per-buyer-timeouts", "url": "#auction-config-per-buyer-timeouts", "dfnText": "per buyer timeouts", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-timeouts"}, {"id": "ref-for-auction-config-per-buyer-timeouts\u2460"}, {"id": "ref-for-auction-config-per-buyer-timeouts\u2461"}, {"id": "ref-for-auction-config-per-buyer-timeouts\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-per-buyer-timeouts\u2463"}, {"id": "ref-for-auction-config-per-buyer-timeouts\u2464"}, {"id": "ref-for-auction-config-per-buyer-timeouts\u2465"}, {"id": "ref-for-auction-config-per-buyer-timeouts\u2466"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-all-buyers-timeout'] = {"dfnID": "auction-config-all-buyers-timeout", "url": "#auction-config-all-buyers-timeout", "dfnText": "all buyers timeout", "refSections": [{"refs": [{"id": "ref-for-auction-config-all-buyers-timeout"}, {"id": "ref-for-auction-config-all-buyers-timeout\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-cumulative-timeouts'] = {"dfnID": "auction-config-per-buyer-cumulative-timeouts", "url": "#auction-config-per-buyer-cumulative-timeouts", "dfnText": "per buyer cumulative timeouts", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-cumulative-timeouts"}, {"id": "ref-for-auction-config-per-buyer-cumulative-timeouts\u2460"}, {"id": "ref-for-auction-config-per-buyer-cumulative-timeouts\u2461"}, {"id": "ref-for-auction-config-per-buyer-cumulative-timeouts\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-per-buyer-cumulative-timeouts\u2463"}, {"id": "ref-for-auction-config-per-buyer-cumulative-timeouts\u2464"}, {"id": "ref-for-auction-config-per-buyer-cumulative-timeouts\u2465"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-all-buyers-cumulative-timeout'] = {"dfnID": "auction-config-all-buyers-cumulative-timeout", "url": "#auction-config-all-buyers-cumulative-timeout", "dfnText": "all buyers cumulative timeout", "refSections": [{"refs": [{"id": "ref-for-auction-config-all-buyers-cumulative-timeout"}, {"id": "ref-for-auction-config-all-buyers-cumulative-timeout\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-group-limits'] = {"dfnID": "auction-config-per-buyer-group-limits", "url": "#auction-config-per-buyer-group-limits", "dfnText": "per buyer group limits", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-group-limits"}, {"id": "ref-for-auction-config-per-buyer-group-limits\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-per-buyer-group-limits\u2461"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-all-buyers-group-limit'] = {"dfnID": "auction-config-all-buyers-group-limit", "url": "#auction-config-all-buyers-group-limit", "dfnText": "all buyers group limit", "refSections": [{"refs": [{"id": "ref-for-auction-config-all-buyers-group-limit"}, {"id": "ref-for-auction-config-all-buyers-group-limit\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-priority-signals'] = {"dfnID": "auction-config-per-buyer-priority-signals", "url": "#auction-config-per-buyer-priority-signals", "dfnText": "per buyer priority signals", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-priority-signals"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-per-buyer-priority-signals\u2460"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-all-buyers-priority-signals'] = {"dfnID": "auction-config-all-buyers-priority-signals", "url": "#auction-config-all-buyers-priority-signals", "dfnText": "all buyers priority signals", "refSections": [{"refs": [{"id": "ref-for-auction-config-all-buyers-priority-signals"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-component-auctions'] = {"dfnID": "auction-config-component-auctions", "url": "#auction-config-component-auctions", "dfnText": "component auctions", "refSections": [{"refs": [{"id": "ref-for-auction-config-component-auctions"}, {"id": "ref-for-auction-config-component-auctions\u2460"}, {"id": "ref-for-auction-config-component-auctions\u2461"}, {"id": "ref-for-auction-config-component-auctions\u2462"}, {"id": "ref-for-auction-config-component-auctions\u2463"}, {"id": "ref-for-auction-config-component-auctions\u2464"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-component-auctions\u2465"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-seller-experiment-group-id'] = {"dfnID": "auction-config-seller-experiment-group-id", "url": "#auction-config-seller-experiment-group-id", "dfnText": "seller experiment group id", "refSections": [{"refs": [{"id": "ref-for-auction-config-seller-experiment-group-id"}, {"id": "ref-for-auction-config-seller-experiment-group-id\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-experiment-group-ids'] = {"dfnID": "auction-config-per-buyer-experiment-group-ids", "url": "#auction-config-per-buyer-experiment-group-ids", "dfnText": "per buyer experiment group ids", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-experiment-group-ids"}, {"id": "ref-for-auction-config-per-buyer-experiment-group-ids\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-all-buyer-experiment-group-id'] = {"dfnID": "auction-config-all-buyer-experiment-group-id", "url": "#auction-config-all-buyer-experiment-group-id", "dfnText": "all buyer experiment group id", "refSections": [{"refs": [{"id": "ref-for-auction-config-all-buyer-experiment-group-id"}, {"id": "ref-for-auction-config-all-buyer-experiment-group-id\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-pending-promise-count'] = {"dfnID": "auction-config-pending-promise-count", "url": "#auction-config-pending-promise-count", "dfnText": "pending promise count", "refSections": [{"refs": [{"id": "ref-for-auction-config-pending-promise-count"}, {"id": "ref-for-auction-config-pending-promise-count\u2460"}, {"id": "ref-for-auction-config-pending-promise-count\u2461"}, {"id": "ref-for-auction-config-pending-promise-count\u2462"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-config-idl'] = {"dfnID": "auction-config-config-idl", "url": "#auction-config-config-idl", "dfnText": "config idl", "refSections": [{"refs": [{"id": "ref-for-auction-config-config-idl"}, {"id": "ref-for-auction-config-config-idl\u2460"}, {"id": "ref-for-auction-config-config-idl\u2461"}, {"id": "ref-for-auction-config-config-idl\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-resolve-to-config'] = {"dfnID": "auction-config-resolve-to-config", "url": "#auction-config-resolve-to-config", "dfnText": "resolve to config", "refSections": [{"refs": [{"id": "ref-for-auction-config-resolve-to-config"}, {"id": "ref-for-auction-config-resolve-to-config\u2460"}, {"id": "ref-for-auction-config-resolve-to-config\u2461"}, {"id": "ref-for-auction-config-resolve-to-config\u2462"}, {"id": "ref-for-auction-config-resolve-to-config\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-seller-currency'] = {"dfnID": "auction-config-seller-currency", "url": "#auction-config-seller-currency", "dfnText": "seller currency", "refSections": [{"refs": [{"id": "ref-for-auction-config-seller-currency"}, {"id": "ref-for-auction-config-seller-currency\u2460"}, {"id": "ref-for-auction-config-seller-currency\u2461"}, {"id": "ref-for-auction-config-seller-currency\u2462"}, {"id": "ref-for-auction-config-seller-currency\u2463"}, {"id": "ref-for-auction-config-seller-currency\u2464"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['auction-config-per-buyer-currencies'] = {"dfnID": "auction-config-per-buyer-currencies", "url": "#auction-config-per-buyer-currencies", "dfnText": "per buyer currencies", "refSections": [{"refs": [{"id": "ref-for-auction-config-per-buyer-currencies"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2460"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2461"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2462"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-per-buyer-currencies\u2464"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2465"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2466"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2467"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2468"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2460\u24ea"}, {"id": "ref-for-auction-config-per-buyer-currencies\u2460\u2460"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-all-buyers-currency'] = {"dfnID": "auction-config-all-buyers-currency", "url": "#auction-config-all-buyers-currency", "dfnText": "all buyers currency", "refSections": [{"refs": [{"id": "ref-for-auction-config-all-buyers-currency"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-all-buyers-currency\u2460"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-direct-from-seller-signals-header-ad-slot'] = {"dfnID": "auction-config-direct-from-seller-signals-header-ad-slot", "url": "#auction-config-direct-from-seller-signals-header-ad-slot", "dfnText": "direct from seller signals header ad slot", "refSections": [{"refs": [{"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot"}, {"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2460"}, {"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2461"}, {"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2462"}, {"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2464"}, {"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2465"}, {"id": "ref-for-auction-config-direct-from-seller-signals-header-ad-slot\u2466"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['auction-config-auction-nonce'] = {"dfnID": "auction-config-auction-nonce", "url": "#auction-config-auction-nonce", "dfnText": "auction nonce", "refSections": [{"refs": [{"id": "ref-for-auction-config-auction-nonce"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-auction-nonce\u2460"}, {"id": "ref-for-auction-config-auction-nonce\u2461"}, {"id": "ref-for-auction-config-auction-nonce\u2462"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['auction-config-expects-additional-bids'] = {"dfnID": "auction-config-expects-additional-bids", "url": "#auction-config-expects-additional-bids", "dfnText": "expects additional bids", "refSections": [{"refs": [{"id": "ref-for-auction-config-expects-additional-bids"}, {"id": "ref-for-auction-config-expects-additional-bids\u2460"}, {"id": "ref-for-auction-config-expects-additional-bids\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-auction-config-expects-additional-bids\u2462"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['wait-until-configuration-input-promises-resolve'] = {"dfnID": "wait-until-configuration-input-promises-resolve", "url": "#wait-until-configuration-input-promises-resolve", "dfnText": "wait until configuration input promises resolve", "refSections": [{"refs": [{"id": "ref-for-wait-until-configuration-input-promises-resolve"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-wait-until-configuration-input-promises-resolve\u2460"}, {"id": "ref-for-wait-until-configuration-input-promises-resolve\u2461"}, {"id": "ref-for-wait-until-configuration-input-promises-resolve\u2462"}], "title": "12.4. Auction config"}], "external": false};
window.dfnpanelData['recursively-wait-until-configuration-input-promises-resolve'] = {"dfnID": "recursively-wait-until-configuration-input-promises-resolve", "url": "#recursively-wait-until-configuration-input-promises-resolve", "dfnText": "recursively wait until configuration input promises resolve", "refSections": [{"refs": [{"id": "ref-for-recursively-wait-until-configuration-input-promises-resolve"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['handle-an-input-promise-in-configuration'] = {"dfnID": "handle-an-input-promise-in-configuration", "url": "#handle-an-input-promise-in-configuration", "dfnText": "handle an input promise in configuration", "refSections": [{"refs": [{"id": "ref-for-handle-an-input-promise-in-configuration"}, {"id": "ref-for-handle-an-input-promise-in-configuration\u2460"}, {"id": "ref-for-handle-an-input-promise-in-configuration\u2461"}, {"id": "ref-for-handle-an-input-promise-in-configuration\u2462"}, {"id": "ref-for-handle-an-input-promise-in-configuration\u2463"}, {"id": "ref-for-handle-an-input-promise-in-configuration\u2464"}, {"id": "ref-for-handle-an-input-promise-in-configuration\u2465"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['look-up-per-buyer-currency'] = {"dfnID": "look-up-per-buyer-currency", "url": "#look-up-per-buyer-currency", "dfnText": "look up per-buyer currency", "refSections": [{"refs": [{"id": "ref-for-look-up-per-buyer-currency"}, {"id": "ref-for-look-up-per-buyer-currency\u2460"}, {"id": "ref-for-look-up-per-buyer-currency\u2461"}, {"id": "ref-for-look-up-per-buyer-currency\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-look-up-per-buyer-currency\u2463"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['per-buyer-bid-generator'] = {"dfnID": "per-buyer-bid-generator", "url": "#per-buyer-bid-generator", "dfnText": "12.5. Per buyer bid generator", "refSections": [{"refs": [{"id": "ref-for-per-buyer-bid-generator"}, {"id": "ref-for-per-buyer-bid-generator\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-per-buyer-bid-generator"}], "title": "12.5. Per buyer bid generator"}], "external": false};
window.dfnpanelData['per-signals-url-bid-generator'] = {"dfnID": "per-signals-url-bid-generator", "url": "#per-signals-url-bid-generator", "dfnText": "12.6. Per signals url bid generator", "refSections": [{"refs": [{"id": "ref-for-per-signals-url-bid-generator"}, {"id": "ref-for-per-signals-url-bid-generator\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-per-signals-url-bid-generator\u2461"}], "title": "12.5. Per buyer bid generator"}, {"refs": [{"id": "ref-for-per-signals-url-bid-generator"}], "title": "12.6. Per signals url bid generator"}], "external": false};
window.dfnpanelData['previous-win'] = {"dfnID": "previous-win", "url": "#previous-win", "dfnText": "12.7. Previous win", "refSections": [{"refs": [{"id": "ref-for-previous-win"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-previous-win\u2460"}], "title": "12.1. Interest group"}, {"refs": [{"id": "ref-for-previous-win"}], "title": "12.7. Previous win"}], "external": false};
window.dfnpanelData['previous-win-time'] = {"dfnID": "previous-win-time", "url": "#previous-win-time", "dfnText": "time", "refSections": [{"refs": [{"id": "ref-for-previous-win-time"}, {"id": "ref-for-previous-win-time\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['previous-win-ad-json'] = {"dfnID": "previous-win-ad-json", "url": "#previous-win-ad-json", "dfnText": "ad json", "refSections": [{"refs": [{"id": "ref-for-previous-win-ad-json"}, {"id": "ref-for-previous-win-ad-json\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['bid-with-currency'] = {"dfnID": "bid-with-currency", "url": "#bid-with-currency", "dfnText": "12.8. Bid with currency", "refSections": [{"refs": [{"id": "ref-for-bid-with-currency"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-bid-with-currency\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-bid-with-currency\u2461"}, {"id": "ref-for-bid-with-currency\u2462"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-bid-with-currency"}], "title": "12.8. Bid with currency"}, {"refs": [{"id": "ref-for-bid-with-currency\u2463"}, {"id": "ref-for-bid-with-currency\u2464"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['bid-with-currency-value'] = {"dfnID": "bid-with-currency-value", "url": "#bid-with-currency-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-bid-with-currency-value"}, {"id": "ref-for-bid-with-currency-value\u2460"}, {"id": "ref-for-bid-with-currency-value\u2461"}, {"id": "ref-for-bid-with-currency-value\u2462"}, {"id": "ref-for-bid-with-currency-value\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-bid-with-currency-value\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-bid-with-currency-value\u2465"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-bid-with-currency-value\u2466"}, {"id": "ref-for-bid-with-currency-value\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-bid-with-currency-value\u2468"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['bid-with-currency-currency'] = {"dfnID": "bid-with-currency-currency", "url": "#bid-with-currency-currency", "dfnText": "currency", "refSections": [{"refs": [{"id": "ref-for-bid-with-currency-currency"}, {"id": "ref-for-bid-with-currency-currency\u2460"}, {"id": "ref-for-bid-with-currency-currency\u2461"}, {"id": "ref-for-bid-with-currency-currency\u2462"}, {"id": "ref-for-bid-with-currency-currency\u2463"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-bid-with-currency-currency\u2464"}, {"id": "ref-for-bid-with-currency-currency\u2465"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-bid-with-currency-currency\u2466"}, {"id": "ref-for-bid-with-currency-currency\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['generated-bid'] = {"dfnID": "generated-bid", "url": "#generated-bid", "dfnText": "12.9. Generated bid", "refSections": [{"refs": [{"id": "ref-for-generated-bid"}, {"id": "ref-for-generated-bid\u2460"}, {"id": "ref-for-generated-bid\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid\u2462"}, {"id": "ref-for-generated-bid\u2463"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid\u2464"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-generated-bid\u2465"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-generated-bid\u2466"}, {"id": "ref-for-generated-bid\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-generated-bid"}], "title": "12.9. Generated bid"}, {"refs": [{"id": "ref-for-generated-bid\u2468"}, {"id": "ref-for-generated-bid\u2460\u24ea"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['generated-bid-bid'] = {"dfnID": "generated-bid-bid", "url": "#generated-bid-bid", "dfnText": "bid", "refSections": [{"refs": [{"id": "ref-for-generated-bid-bid"}, {"id": "ref-for-generated-bid-bid\u2460"}, {"id": "ref-for-generated-bid-bid\u2461"}, {"id": "ref-for-generated-bid-bid\u2462"}, {"id": "ref-for-generated-bid-bid\u2463"}, {"id": "ref-for-generated-bid-bid\u2464"}, {"id": "ref-for-generated-bid-bid\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-bid\u2466"}, {"id": "ref-for-generated-bid-bid\u2467"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-bid\u2468"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-generated-bid-bid\u2460\u24ea"}, {"id": "ref-for-generated-bid-bid\u2460\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['generated-bid-bid-in-seller-currency'] = {"dfnID": "generated-bid-bid-in-seller-currency", "url": "#generated-bid-bid-in-seller-currency", "dfnText": "bid in seller currency", "refSections": [{"refs": [{"id": "ref-for-generated-bid-bid-in-seller-currency"}, {"id": "ref-for-generated-bid-bid-in-seller-currency\u2460"}, {"id": "ref-for-generated-bid-bid-in-seller-currency\u2461"}, {"id": "ref-for-generated-bid-bid-in-seller-currency\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['generated-bid-ad'] = {"dfnID": "generated-bid-ad", "url": "#generated-bid-ad", "dfnText": "ad", "refSections": [{"refs": [{"id": "ref-for-generated-bid-ad"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-ad\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-ad\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['generated-bid-ad-descriptor'] = {"dfnID": "generated-bid-ad-descriptor", "url": "#generated-bid-ad-descriptor", "dfnText": "ad descriptor", "refSections": [{"refs": [{"id": "ref-for-generated-bid-ad-descriptor"}, {"id": "ref-for-generated-bid-ad-descriptor\u2460"}, {"id": "ref-for-generated-bid-ad-descriptor\u2461"}, {"id": "ref-for-generated-bid-ad-descriptor\u2462"}, {"id": "ref-for-generated-bid-ad-descriptor\u2463"}, {"id": "ref-for-generated-bid-ad-descriptor\u2464"}, {"id": "ref-for-generated-bid-ad-descriptor\u2465"}, {"id": "ref-for-generated-bid-ad-descriptor\u2466"}, {"id": "ref-for-generated-bid-ad-descriptor\u2467"}, {"id": "ref-for-generated-bid-ad-descriptor\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-ad-descriptor\u2460\u24ea"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-ad-descriptor\u2460\u2460"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-generated-bid-ad-descriptor\u2460\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-generated-bid-ad-descriptor\u2460\u2462"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['generated-bid-ad-component-descriptors'] = {"dfnID": "generated-bid-ad-component-descriptors", "url": "#generated-bid-ad-component-descriptors", "dfnText": "ad component descriptors", "refSections": [{"refs": [{"id": "ref-for-generated-bid-ad-component-descriptors"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2460"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2461"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2462"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2463"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2464"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-ad-component-descriptors\u2466"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-ad-component-descriptors\u2467"}, {"id": "ref-for-generated-bid-ad-component-descriptors\u2468"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-generated-bid-ad-component-descriptors\u2460\u24ea"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-generated-bid-ad-component-descriptors\u2460\u2460"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['generated-bid-ad-cost'] = {"dfnID": "generated-bid-ad-cost", "url": "#generated-bid-ad-cost", "dfnText": "ad cost", "refSections": [{"refs": [{"id": "ref-for-generated-bid-ad-cost"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-ad-cost\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-ad-cost\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-generated-bid-ad-cost\u2462"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['generated-bid-modeling-signals'] = {"dfnID": "generated-bid-modeling-signals", "url": "#generated-bid-modeling-signals", "dfnText": "modeling signals", "refSections": [{"refs": [{"id": "ref-for-generated-bid-modeling-signals"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-modeling-signals\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-modeling-signals\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['generated-bid-interest-group'] = {"dfnID": "generated-bid-interest-group", "url": "#generated-bid-interest-group", "dfnText": "interest group", "refSections": [{"refs": [{"id": "ref-for-generated-bid-interest-group"}, {"id": "ref-for-generated-bid-interest-group\u2460"}, {"id": "ref-for-generated-bid-interest-group\u2461"}, {"id": "ref-for-generated-bid-interest-group\u2462"}, {"id": "ref-for-generated-bid-interest-group\u2463"}, {"id": "ref-for-generated-bid-interest-group\u2464"}, {"id": "ref-for-generated-bid-interest-group\u2465"}, {"id": "ref-for-generated-bid-interest-group\u2466"}, {"id": "ref-for-generated-bid-interest-group\u2467"}, {"id": "ref-for-generated-bid-interest-group\u2468"}, {"id": "ref-for-generated-bid-interest-group\u2460\u24ea"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2460"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2461"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2462"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2463"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2464"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2465"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2466"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2467"}, {"id": "ref-for-generated-bid-interest-group\u2460\u2468"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-interest-group\u2461\u24ea"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-interest-group\u2461\u2460"}], "title": "5.3. Negative Targeting"}, {"refs": [{"id": "ref-for-generated-bid-interest-group\u2461\u2461"}], "title": "7.2. Script evaluation"}, {"refs": [{"id": "ref-for-generated-bid-interest-group\u2461\u2462"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['generated-bid-bid-ad'] = {"dfnID": "generated-bid-bid-ad", "url": "#generated-bid-bid-ad", "dfnText": "bid ad", "refSections": [{"refs": [{"id": "ref-for-generated-bid-bid-ad"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-bid-ad\u2460"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-generated-bid-bid-ad\u2461"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-generated-bid-bid-ad\u2462"}], "title": "12.9. Generated bid"}], "external": false};
window.dfnpanelData['generated-bid-modified-bid'] = {"dfnID": "generated-bid-modified-bid", "url": "#generated-bid-modified-bid", "dfnText": "modified bid", "refSections": [{"refs": [{"id": "ref-for-generated-bid-modified-bid"}, {"id": "ref-for-generated-bid-modified-bid\u2460"}, {"id": "ref-for-generated-bid-modified-bid\u2461"}, {"id": "ref-for-generated-bid-modified-bid\u2462"}, {"id": "ref-for-generated-bid-modified-bid\u2463"}, {"id": "ref-for-generated-bid-modified-bid\u2464"}, {"id": "ref-for-generated-bid-modified-bid\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-modified-bid\u2466"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['generated-bid-bid-duration'] = {"dfnID": "generated-bid-bid-duration", "url": "#generated-bid-bid-duration", "dfnText": "bid duration", "refSections": [{"refs": [{"id": "ref-for-generated-bid-bid-duration"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-bid-duration\u2460"}], "title": "7.2. Script evaluation"}], "external": false};
window.dfnpanelData['generated-bid-provided-as-additional-bid'] = {"dfnID": "generated-bid-provided-as-additional-bid", "url": "#generated-bid-provided-as-additional-bid", "dfnText": "provided as additional bid", "refSections": [{"refs": [{"id": "ref-for-generated-bid-provided-as-additional-bid"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-generated-bid-provided-as-additional-bid\u2460"}], "title": "5.2. Additional Bids"}], "external": false};
window.dfnpanelData['ad-descriptor'] = {"dfnID": "ad-descriptor", "url": "#ad-descriptor", "dfnText": "12.10. Ad descriptor", "refSections": [{"refs": [{"id": "ref-for-ad-descriptor"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ad-descriptor\u2460"}, {"id": "ref-for-ad-descriptor\u2461"}, {"id": "ref-for-ad-descriptor\u2462"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-ad-descriptor\u2463"}, {"id": "ref-for-ad-descriptor\u2464"}, {"id": "ref-for-ad-descriptor\u2465"}, {"id": "ref-for-ad-descriptor\u2466"}, {"id": "ref-for-ad-descriptor\u2467"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-ad-descriptor\u2468"}, {"id": "ref-for-ad-descriptor\u2460\u24ea"}], "title": "12.9. Generated bid"}, {"refs": [{"id": "ref-for-ad-descriptor"}], "title": "12.10. Ad descriptor"}], "external": false};
window.dfnpanelData['ad-descriptor-url'] = {"dfnID": "ad-descriptor-url", "url": "#ad-descriptor-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-ad-descriptor-url"}, {"id": "ref-for-ad-descriptor-url\u2460"}, {"id": "ref-for-ad-descriptor-url\u2461"}, {"id": "ref-for-ad-descriptor-url\u2462"}, {"id": "ref-for-ad-descriptor-url\u2463"}, {"id": "ref-for-ad-descriptor-url\u2464"}, {"id": "ref-for-ad-descriptor-url\u2465"}, {"id": "ref-for-ad-descriptor-url\u2466"}, {"id": "ref-for-ad-descriptor-url\u2467"}, {"id": "ref-for-ad-descriptor-url\u2468"}, {"id": "ref-for-ad-descriptor-url\u2460\u24ea"}, {"id": "ref-for-ad-descriptor-url\u2460\u2460"}, {"id": "ref-for-ad-descriptor-url\u2460\u2461"}, {"id": "ref-for-ad-descriptor-url\u2460\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ad-descriptor-url\u2460\u2463"}, {"id": "ref-for-ad-descriptor-url\u2460\u2464"}], "title": "5.2. Additional Bids"}, {"refs": [{"id": "ref-for-ad-descriptor-url\u2460\u2465"}, {"id": "ref-for-ad-descriptor-url\u2460\u2466"}], "title": "6. K-anonymity"}, {"refs": [{"id": "ref-for-ad-descriptor-url\u2460\u2467"}, {"id": "ref-for-ad-descriptor-url\u2460\u2468"}, {"id": "ref-for-ad-descriptor-url\u2461\u24ea"}, {"id": "ref-for-ad-descriptor-url\u2461\u2460"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['ad-descriptor-size'] = {"dfnID": "ad-descriptor-size", "url": "#ad-descriptor-size", "dfnText": "size", "refSections": [{"refs": [{"id": "ref-for-ad-descriptor-size"}, {"id": "ref-for-ad-descriptor-size\u2460"}, {"id": "ref-for-ad-descriptor-size\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-ad-descriptor-size\u2462"}, {"id": "ref-for-ad-descriptor-size\u2463"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['ad-size'] = {"dfnID": "ad-size", "url": "#ad-size", "dfnText": "12.11. Ad size", "refSections": [{"refs": [{"id": "ref-for-ad-size"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}, {"refs": [{"id": "ref-for-ad-size\u2460"}], "title": "12.10. Ad descriptor"}, {"refs": [{"id": "ref-for-ad-size"}], "title": "12.11. Ad size"}], "external": false};
window.dfnpanelData['ad-size-width'] = {"dfnID": "ad-size-width", "url": "#ad-size-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-ad-size-width"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['ad-size-width-units'] = {"dfnID": "ad-size-width-units", "url": "#ad-size-width-units", "dfnText": "width units", "refSections": [{"refs": [{"id": "ref-for-ad-size-width-units"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['ad-size-height'] = {"dfnID": "ad-size-height", "url": "#ad-size-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-ad-size-height"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['ad-size-height-units'] = {"dfnID": "ad-size-height-units", "url": "#ad-size-height-units", "dfnText": "height units", "refSections": [{"refs": [{"id": "ref-for-ad-size-height-units"}], "title": "7.3.1. InterestGroupBiddingScriptRunnerGlobalScope"}], "external": false};
window.dfnpanelData['direct-from-seller-signals-key'] = {"dfnID": "direct-from-seller-signals-key", "url": "#direct-from-seller-signals-key", "dfnText": "direct from seller signals key", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals-key"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals-key\u2460"}, {"id": "ref-for-direct-from-seller-signals-key\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['direct-from-seller-signals-key-seller'] = {"dfnID": "direct-from-seller-signals-key-seller", "url": "#direct-from-seller-signals-key-seller", "dfnText": "seller", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals-key-seller"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals-key-seller\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['direct-from-seller-signals-key-ad-slot'] = {"dfnID": "direct-from-seller-signals-key-ad-slot", "url": "#direct-from-seller-signals-key-ad-slot", "dfnText": "ad slot", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals-key-ad-slot"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals-key-ad-slot\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['direct-from-seller-signals'] = {"dfnID": "direct-from-seller-signals", "url": "#direct-from-seller-signals", "dfnText": "direct from seller signals", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals"}, {"id": "ref-for-direct-from-seller-signals\u2460"}, {"id": "ref-for-direct-from-seller-signals\u2461"}, {"id": "ref-for-direct-from-seller-signals\u2462"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals\u2463"}, {"id": "ref-for-direct-from-seller-signals\u2464"}, {"id": "ref-for-direct-from-seller-signals\u2465"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['direct-from-seller-signals-auction-signals'] = {"dfnID": "direct-from-seller-signals-auction-signals", "url": "#direct-from-seller-signals-auction-signals", "dfnText": "auction signals", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals-auction-signals"}, {"id": "ref-for-direct-from-seller-signals-auction-signals\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals-auction-signals\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['direct-from-seller-signals-seller-signals'] = {"dfnID": "direct-from-seller-signals-seller-signals", "url": "#direct-from-seller-signals-seller-signals", "dfnText": "seller signals", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals-seller-signals"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals-seller-signals\u2460"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['direct-from-seller-signals-per-buyer-signals'] = {"dfnID": "direct-from-seller-signals-per-buyer-signals", "url": "#direct-from-seller-signals-per-buyer-signals", "dfnText": "per buyer signals", "refSections": [{"refs": [{"id": "ref-for-direct-from-seller-signals-per-buyer-signals"}, {"id": "ref-for-direct-from-seller-signals-per-buyer-signals\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-direct-from-seller-signals-per-buyer-signals\u2461"}], "title": "11. Fetch Patch for Auction Headers"}], "external": false};
window.dfnpanelData['score-ad-output'] = {"dfnID": "score-ad-output", "url": "#score-ad-output", "dfnText": "12.13. Score ad output", "refSections": [{"refs": [{"id": "ref-for-score-ad-output"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['dictdef-scoreadoutput'] = {"dfnID": "dictdef-scoreadoutput", "url": "#dictdef-scoreadoutput", "dfnText": "ScoreAdOutput", "refSections": [{"refs": [{"id": "ref-for-dictdef-scoreadoutput"}, {"id": "ref-for-dictdef-scoreadoutput\u2460"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['dom-scoreadoutput-desirability'] = {"dfnID": "dom-scoreadoutput-desirability", "url": "#dom-scoreadoutput-desirability", "dfnText": "desirability", "refSections": [{"refs": [{"id": "ref-for-dom-scoreadoutput-desirability"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-scoreadoutput-desirability\u2460"}, {"id": "ref-for-dom-scoreadoutput-desirability\u2461"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['dom-scoreadoutput-bid'] = {"dfnID": "dom-scoreadoutput-bid", "url": "#dom-scoreadoutput-bid", "dfnText": "bid", "refSections": [{"refs": [{"id": "ref-for-dom-scoreadoutput-bid"}, {"id": "ref-for-dom-scoreadoutput-bid\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-scoreadoutput-bid\u2461"}, {"id": "ref-for-dom-scoreadoutput-bid\u2462"}, {"id": "ref-for-dom-scoreadoutput-bid\u2463"}, {"id": "ref-for-dom-scoreadoutput-bid\u2464"}, {"id": "ref-for-dom-scoreadoutput-bid\u2465"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['dom-scoreadoutput-bidcurrency'] = {"dfnID": "dom-scoreadoutput-bidcurrency", "url": "#dom-scoreadoutput-bidcurrency", "dfnText": "bidCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-scoreadoutput-bidcurrency"}, {"id": "ref-for-dom-scoreadoutput-bidcurrency\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-scoreadoutput-bidcurrency\u2461"}, {"id": "ref-for-dom-scoreadoutput-bidcurrency\u2462"}, {"id": "ref-for-dom-scoreadoutput-bidcurrency\u2463"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['dom-scoreadoutput-incomingbidinsellercurrency'] = {"dfnID": "dom-scoreadoutput-incomingbidinsellercurrency", "url": "#dom-scoreadoutput-incomingbidinsellercurrency", "dfnText": "incomingBidInSellerCurrency", "refSections": [{"refs": [{"id": "ref-for-dom-scoreadoutput-incomingbidinsellercurrency"}, {"id": "ref-for-dom-scoreadoutput-incomingbidinsellercurrency\u2460"}, {"id": "ref-for-dom-scoreadoutput-incomingbidinsellercurrency\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-scoreadoutput-incomingbidinsellercurrency\u2462"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['dom-scoreadoutput-allowcomponentauction'] = {"dfnID": "dom-scoreadoutput-allowcomponentauction", "url": "#dom-scoreadoutput-allowcomponentauction", "dfnText": "allowComponentAuction", "refSections": [{"refs": [{"id": "ref-for-dom-scoreadoutput-allowcomponentauction"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-dom-scoreadoutput-allowcomponentauction\u2460"}], "title": "12.13. Score ad output"}], "external": false};
window.dfnpanelData['process-scoread-output'] = {"dfnID": "process-scoread-output", "url": "#process-scoread-output", "dfnText": "process scoreAd output", "refSections": [{"refs": [{"id": "ref-for-process-scoread-output"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info'] = {"dfnID": "leading-bid-info", "url": "#leading-bid-info", "dfnText": "12.14. Leading bid info", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info"}, {"id": "ref-for-leading-bid-info\u2460"}, {"id": "ref-for-leading-bid-info\u2461"}, {"id": "ref-for-leading-bid-info\u2462"}, {"id": "ref-for-leading-bid-info\u2463"}, {"id": "ref-for-leading-bid-info\u2464"}, {"id": "ref-for-leading-bid-info\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-leading-bid-info"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['leading-bid-info-top-score'] = {"dfnID": "leading-bid-info-top-score", "url": "#leading-bid-info-top-score", "dfnText": "top score", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-top-score"}, {"id": "ref-for-leading-bid-info-top-score\u2460"}, {"id": "ref-for-leading-bid-info-top-score\u2461"}, {"id": "ref-for-leading-bid-info-top-score\u2462"}, {"id": "ref-for-leading-bid-info-top-score\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-top-bids-count'] = {"dfnID": "leading-bid-info-top-bids-count", "url": "#leading-bid-info-top-bids-count", "dfnText": "top bids count", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-top-bids-count"}, {"id": "ref-for-leading-bid-info-top-bids-count\u2460"}, {"id": "ref-for-leading-bid-info-top-bids-count\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-at-most-one-top-bid-owner'] = {"dfnID": "leading-bid-info-at-most-one-top-bid-owner", "url": "#leading-bid-info-at-most-one-top-bid-owner", "dfnText": "at most one top bid owner", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-at-most-one-top-bid-owner"}, {"id": "ref-for-leading-bid-info-at-most-one-top-bid-owner\u2460"}, {"id": "ref-for-leading-bid-info-at-most-one-top-bid-owner\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-leading-bid'] = {"dfnID": "leading-bid-info-leading-bid", "url": "#leading-bid-info-leading-bid", "dfnText": "leading bid", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-leading-bid"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460"}, {"id": "ref-for-leading-bid-info-leading-bid\u2461"}, {"id": "ref-for-leading-bid-info-leading-bid\u2462"}, {"id": "ref-for-leading-bid-info-leading-bid\u2463"}, {"id": "ref-for-leading-bid-info-leading-bid\u2464"}, {"id": "ref-for-leading-bid-info-leading-bid\u2465"}, {"id": "ref-for-leading-bid-info-leading-bid\u2466"}, {"id": "ref-for-leading-bid-info-leading-bid\u2467"}, {"id": "ref-for-leading-bid-info-leading-bid\u2468"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u24ea"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2460"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2461"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2462"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2463"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2464"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2465"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2466"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-leading-bid-info-leading-bid\u2460\u2467"}, {"id": "ref-for-leading-bid-info-leading-bid\u2460\u2468"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['leading-bid-info-auction-config'] = {"dfnID": "leading-bid-info-auction-config", "url": "#leading-bid-info-auction-config", "dfnText": "auction config", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-auction-config"}, {"id": "ref-for-leading-bid-info-auction-config\u2460"}, {"id": "ref-for-leading-bid-info-auction-config\u2461"}, {"id": "ref-for-leading-bid-info-auction-config\u2462"}, {"id": "ref-for-leading-bid-info-auction-config\u2463"}, {"id": "ref-for-leading-bid-info-auction-config\u2464"}, {"id": "ref-for-leading-bid-info-auction-config\u2465"}, {"id": "ref-for-leading-bid-info-auction-config\u2466"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-second-highest-score'] = {"dfnID": "leading-bid-info-second-highest-score", "url": "#leading-bid-info-second-highest-score", "dfnText": "second highest score", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-second-highest-score"}, {"id": "ref-for-leading-bid-info-second-highest-score\u2460"}, {"id": "ref-for-leading-bid-info-second-highest-score\u2461"}, {"id": "ref-for-leading-bid-info-second-highest-score\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-highest-scoring-other-bids-count'] = {"dfnID": "leading-bid-info-highest-scoring-other-bids-count", "url": "#leading-bid-info-highest-scoring-other-bids-count", "dfnText": "highest scoring other bids count", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-highest-scoring-other-bids-count"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bids-count\u2460"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bids-count\u2461"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-highest-scoring-other-bid'] = {"dfnID": "leading-bid-info-highest-scoring-other-bid", "url": "#leading-bid-info-highest-scoring-other-bid", "dfnText": "highest scoring other bid", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-highest-scoring-other-bid"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid\u2460"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid\u2461"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid\u2462"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-highest-scoring-other-bid-owner'] = {"dfnID": "leading-bid-info-highest-scoring-other-bid-owner", "url": "#leading-bid-info-highest-scoring-other-bid-owner", "dfnText": "highest scoring other bid owner", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-highest-scoring-other-bid-owner"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid-owner\u2460"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid-owner\u2461"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid-owner\u2462"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid-owner\u2463"}, {"id": "ref-for-leading-bid-info-highest-scoring-other-bid-owner\u2464"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-top-level-seller'] = {"dfnID": "leading-bid-info-top-level-seller", "url": "#leading-bid-info-top-level-seller", "dfnText": "top level seller", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-top-level-seller"}, {"id": "ref-for-leading-bid-info-top-level-seller\u2460"}, {"id": "ref-for-leading-bid-info-top-level-seller\u2461"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-leading-bid-info-top-level-seller\u2462"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['leading-bid-info-top-level-seller-signals'] = {"dfnID": "leading-bid-info-top-level-seller-signals", "url": "#leading-bid-info-top-level-seller-signals", "dfnText": "top level seller signals", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-top-level-seller-signals"}, {"id": "ref-for-leading-bid-info-top-level-seller-signals\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-component-seller'] = {"dfnID": "leading-bid-info-component-seller", "url": "#leading-bid-info-component-seller", "dfnText": "component seller", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-component-seller"}, {"id": "ref-for-leading-bid-info-component-seller\u2460"}, {"id": "ref-for-leading-bid-info-component-seller\u2461"}, {"id": "ref-for-leading-bid-info-component-seller\u2462"}, {"id": "ref-for-leading-bid-info-component-seller\u2463"}, {"id": "ref-for-leading-bid-info-component-seller\u2464"}, {"id": "ref-for-leading-bid-info-component-seller\u2465"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-leading-bid-info-component-seller\u2466"}], "title": "12. Structures"}], "external": false};
window.dfnpanelData['leading-bid-info-bidding-data-version'] = {"dfnID": "leading-bid-info-bidding-data-version", "url": "#leading-bid-info-bidding-data-version", "dfnText": "bidding data version", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-bidding-data-version"}, {"id": "ref-for-leading-bid-info-bidding-data-version\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-scoring-data-version'] = {"dfnID": "leading-bid-info-scoring-data-version", "url": "#leading-bid-info-scoring-data-version", "dfnText": "scoring data version", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-scoring-data-version"}, {"id": "ref-for-leading-bid-info-scoring-data-version\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-buyer-reporting-result'] = {"dfnID": "leading-bid-info-buyer-reporting-result", "url": "#leading-bid-info-buyer-reporting-result", "dfnText": "buyer reporting result", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-buyer-reporting-result"}, {"id": "ref-for-leading-bid-info-buyer-reporting-result\u2460"}, {"id": "ref-for-leading-bid-info-buyer-reporting-result\u2461"}, {"id": "ref-for-leading-bid-info-buyer-reporting-result\u2462"}, {"id": "ref-for-leading-bid-info-buyer-reporting-result\u2463"}, {"id": "ref-for-leading-bid-info-buyer-reporting-result\u2464"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-seller-reporting-result'] = {"dfnID": "leading-bid-info-seller-reporting-result", "url": "#leading-bid-info-seller-reporting-result", "dfnText": "seller reporting result", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-seller-reporting-result"}, {"id": "ref-for-leading-bid-info-seller-reporting-result\u2460"}, {"id": "ref-for-leading-bid-info-seller-reporting-result\u2461"}, {"id": "ref-for-leading-bid-info-seller-reporting-result\u2462"}, {"id": "ref-for-leading-bid-info-seller-reporting-result\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['leading-bid-info-component-seller-reporting-result'] = {"dfnID": "leading-bid-info-component-seller-reporting-result", "url": "#leading-bid-info-component-seller-reporting-result", "dfnText": "component seller reporting result", "refSections": [{"refs": [{"id": "ref-for-leading-bid-info-component-seller-reporting-result"}, {"id": "ref-for-leading-bid-info-component-seller-reporting-result\u2460"}, {"id": "ref-for-leading-bid-info-component-seller-reporting-result\u2461"}, {"id": "ref-for-leading-bid-info-component-seller-reporting-result\u2462"}, {"id": "ref-for-leading-bid-info-component-seller-reporting-result\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['reporting-result'] = {"dfnID": "reporting-result", "url": "#reporting-result", "dfnText": "reporting result", "refSections": [{"refs": [{"id": "ref-for-reporting-result"}, {"id": "ref-for-reporting-result\u2460"}], "title": "4.1. runAdAuction()"}, {"refs": [{"id": "ref-for-reporting-result\u2461"}, {"id": "ref-for-reporting-result\u2462"}, {"id": "ref-for-reporting-result\u2463"}], "title": "12.14. Leading bid info"}], "external": false};
window.dfnpanelData['reporting-result-report-url'] = {"dfnID": "reporting-result-report-url", "url": "#reporting-result-report-url", "dfnText": "report url", "refSections": [{"refs": [{"id": "ref-for-reporting-result-report-url"}, {"id": "ref-for-reporting-result-report-url\u2460"}, {"id": "ref-for-reporting-result-report-url\u2461"}, {"id": "ref-for-reporting-result-report-url\u2462"}, {"id": "ref-for-reporting-result-report-url\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['reporting-result-reporting-beacon-map'] = {"dfnID": "reporting-result-reporting-beacon-map", "url": "#reporting-result-reporting-beacon-map", "dfnText": "reporting beacon map", "refSections": [{"refs": [{"id": "ref-for-reporting-result-reporting-beacon-map"}, {"id": "ref-for-reporting-result-reporting-beacon-map\u2460"}, {"id": "ref-for-reporting-result-reporting-beacon-map\u2461"}, {"id": "ref-for-reporting-result-reporting-beacon-map\u2462"}, {"id": "ref-for-reporting-result-reporting-beacon-map\u2463"}], "title": "4.1. runAdAuction()"}], "external": false};
window.dfnpanelData['reporting-result-reporting-macro-map'] = {"dfnID": "reporting-result-reporting-macro-map", "url": "#reporting-result-reporting-macro-map", "dfnText": "reporting macro map", "refSections": [{"refs": [{"id": "ref-for-reporting-result-reporting-macro-map"}, {"id": "ref-for-reporting-result-reporting-macro-map\u2460"}], "title": "4.1. runAdAuction()"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>